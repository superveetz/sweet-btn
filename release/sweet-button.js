!function(e){var t=function(){function t(n,i){var a=this;this.hasChildElem=!1,this["on-load"]="",this["scroll-in"]="",this["scroll-in-animation-duration"]="",this["scroll-in-animation-delay"]="",this["scroll-in-animation-iteration-count"]="",this["scroll-out"]="",this["scroll-out-animation-duration"]="",this["scroll-out-animation-delay"]="",this["scroll-out-animation-iteration-count"]="",this["glyph-size"]="",this["glyph-color"]="",this["glyph-classes"]="",this["glyph-click"]="",this["glyph-click-animation-duration"]="",this["glyph-click-animation-delay"]="",this["glyph-click-animation-iteration-count"]="",this["glyph-mouse-enter"]="",this["glyph-mouse-enter-animation-duration"]="",this["glyph-mouse-enter-animation-delay"]="",this["glyph-mouse-enter-animation-iteration-count"]="",this["glyph-mouse-leave"]="",this["glyph-mouse-leave-animation-duration"]="",this["glyph-mouse-leave-animation-delay"]="",this["glyph-mouse-leave-animation-iteration-count"]="",this["element-events"]={activeClassCount:{},isClickOccuring:!1,isMouseEnterOccuring:!1,isMouseLeaveOccuring:!1,isScrollInOccuring:!1,isScrollOutOccuring:!1,click:[],"mouse-enter":[],"mouse-leave":[],"scroll-in":[],"scroll-out":[]},this.shape=[{"shape-1":"","shape-1-size":"","shape-1-background":"","shape-1-zIndex":"","shape-1-mouse-enter":"","shape-1-mouse-enter-animation-duration":"","shape-1-mouse-enter-animation-delay":"","shape-1-mouse-enter-animation-iteration-count":"","shape-1-mouse-leave":"","shape-1-mouse-leave-animation-duration":"","shape-1-mouse-leave-animation-delay":"","shape-1-mouse-leave-animation-iteration-count":"","shape-1-click":"","shape-1-click-animation-duration":"","shape-1-click-animation-delay":"","shape-1-click-animation-iteration-count":""},{"shape-2":"","shape-2-size":"","shape-2-background":"","shape-2-zIndex":"","shape-2-mouse-enter":"","shape-2-mouse-enter-animation-duration":"","shape-2-mouse-enter-animation-delay":"","shape-2-mouse-enter-animation-iteration-count":"","shape-2-mouse-leave":"","shape-2-mouse-leave-animation-duration":"","shape-2-mouse-leave-animation-delay":"","shape-2-mouse-leave-animation-iteration-count":"","shape-2-click":"","shape-2-click-animation-duration":"","shape-2-click-animation-delay":"","shape-2-click-animation-iteration-count":""},{"shape-3":"","shape-3-size":"","shape-3-background":"","shape-3-zIndex":"","shape-3-mouse-enter":"","shape-3-mouse-enter-animation-duration":"","shape-3-mouse-enter-animation-delay":"","shape-3-mouse-enter-animation-iteration-count":"","shape-3-mouse-leave":"","shape-3-mouse-leave-animation-duration":"","shape-3-mouse-leave-animation-delay":"","shape-3-mouse-leave-animation-iteration-count":"","shape-3-click":"","shape-3-click-animation-duration":"","shape-3-click-animation-delay":"","shape-3-click-animation-iteration-count":""},{"shape-4":"","shape-4-size":"","shape-4-background":"","shape-4-zIndex":"","shape-4-mouse-enter":"","shape-4-mouse-enter-animation-duration":"","shape-4-mouse-enter-animation-delay":"","shape-4-mouse-enter-animation-iteration-count":"","shape-4-mouse-leave":"","shape-4-mouse-leave-animation-duration":"","shape-4-mouse-leave-animation-delay":"","shape-4-mouse-leave-animation-iteration-count":"","shape-4-click":"","shape-4-click-animation-duration":"","shape-4-click-animation-delay":"","shape-4-click-animation-iteration-count":""},{"shape-5":"","shape-5-size":"","shape-5-background":"","shape-5-zIndex":"","shape-5-mouse-enter":"","shape-5-mouse-enter-animation-duration":"","shape-5-mouse-enter-animation-delay":"","shape-5-mouse-enter-animation-iteration-count":"","shape-5-mouse-leave":"","shape-5-mouse-leave-animation-duration":"","shape-5-mouse-leave-animation-delay":"","shape-5-mouse-leave-animation-iteration-count":"","shape-5-click":"","shape-5-click-animation-duration":"","shape-5-click-animation-delay":"","shape-4-click-animation-iteration-count":""}],this.shapeScale={xs:{width:30,height:30},sm:{width:45,height:45},md:{width:60,height:60},lg:{width:75,height:75},xl:{width:90,height:90}},this.createHexagon=function(e,t){var n=e["shape-"+t+"-size"].length?e["shape-"+t+"-size"]:"xs",i=a.shapeScale[n].width,o=i/10,s=a.shapeScale[n].height,l=s/10,r=""+-1*(i/2+o),u=""+-1*(s/2+l),c=e["shape-"+t+"-click"],m=e["shape-"+t+"-mouse-enter"],h=e["shape-"+t+"-mouse-leave"],p=document.createElementNS("http://www.w3.org/2000/svg","svg"),d=c.length?"shape-"+t+"-click-"+c:"",v=m.length?"shape-"+t+"-mouse-enter-"+m:"",g=h.length?"shape-"+t+"-mouse-leave-"+h:"",f=d+" "+v+" "+g;p.setAttribute("class",f),p.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),p.setAttribute("viewBox","0 0 "+i/2+" "+s/2),p.setAttribute("fill",e["shape-"+t+"-background"]),p.setAttribute("stroke","black"),p.setAttribute("stroke-width",s/100+"px"),p.setAttribute("z-index",e["shape-"+t+"-zIndex"]),p.setAttribute("width",i+2*o+"px"),p.setAttribute("height",s+2*l+"px"),p.setAttribute("style","margin-left: "+r+"px; margin-top: "+u+"px;");var y=document.createElementNS("http://www.w3.org/2000/svg","polygon"),C=i/100,w=s/100,b=[46*C+" "+37.5*w,25*C+" "+46*w,4*C+" "+37.5*w,4*C+" "+12.5*w,25*C+" "+4*w,46*C+" "+12.5*w];return y.setAttributeNS(null,"points",b.join(", ")),p.appendChild(y),p},this.createCircle=function(e,t){var n=e["shape-"+t+"-size"].length?e["shape-"+t+"-size"]:"xs",i=1.14*a.shapeScale[n].width,o=i/10,s=1.14*a.shapeScale[n].height,l=s/10,r=-1*(i/2+o),u=-1*(s/2+l),c=e["shape-"+t+"-click"],m=e["shape-"+t+"-mouse-enter"],h=e["shape-"+t+"-mouse-leave"],p=document.createElementNS("http://www.w3.org/2000/svg","svg"),d=c.length?"shape-"+t+"-click-"+c:"",v=m.length?"shape-"+t+"-mouse-enter-"+m:"",g=h.length?"shape-"+t+"-mouse-leave-"+h:"",f=d+" "+v+" "+g;p.setAttribute("class",f),p.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),p.setAttribute("viewBox","0 0 "+i/2+" "+s/2),p.setAttribute("fill",e["shape-"+t+"-background"]),p.setAttribute("stroke","black"),p.setAttribute("stroke-width",s/100+"px"),p.setAttribute("z-index",e["shape-"+t+"-zIndex"]),p.setAttribute("width",i+2*o+"px"),p.setAttribute("height",s+2*l+"px"),p.setAttribute("style","margin-left: "+r+"px; margin-top: "+u+"px;");var y=document.createElementNS("http://www.w3.org/2000/svg","ellipse");y.setAttribute("fill",e["shape-"+t+"-background"]);return y.setAttribute("cx",""+(.28*i-.28*o)),y.setAttribute("cy",""+(.28*s-.28*l)),y.setAttribute("rx",""+i/5),y.setAttribute("ry",""+s/5),p.appendChild(y),p},this.createSquare=function(e,t){var n=e["shape-"+t+"-size"].length?e["shape-"+t+"-size"]:"xs",i=a.shapeScale[n].width,o=i/10,s=i+2*o,l=a.shapeScale[n].height,r=l/10,u=l+2*r,c=""+-1*(i/2+o),m=""+-1*(l/2+r),h=e["shape-"+t+"-click"],p=e["shape-"+t+"-mouse-enter"],d=e["shape-"+t+"-mouse-leave"],v=document.createElementNS("http://www.w3.org/2000/svg","svg"),g=h.length?"shape-"+t+"-click-"+h:"",f=p.length?"shape-"+t+"-mouse-enter-"+p:"",y=d.length?"shape-"+t+"-mouse-leave-"+d:"",C=g+" "+f+" "+y;v.setAttribute("class",C),v.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),v.setAttribute("viewBox","0 0 "+i/2+" "+l/2),v.setAttribute("fill",e["shape-"+t+"-background"]),v.setAttribute("stroke","black"),v.setAttribute("stroke-width",l/100+"px"),v.setAttribute("z-index",e["shape-"+t+"-zIndex"]),v.setAttribute("width",i+2*o+"px"),v.setAttribute("height",l+2*r+"px"),v.setAttribute("style","margin-left: "+c+"px; margin-top: "+m+"px;");var w=document.createElementNS("http://www.w3.org/2000/svg","rect");return w.setAttribute("width",""+(s/2-2*o)),w.setAttribute("height",""+(u/2-2*r)),w.setAttribute("x",""+o/2),w.setAttribute("y",""+r/2),v.appendChild(w),v},this.parseBtnAttributes=function(e,t){for(var n,i,o,s,l,r=e.attributes,u=0;u<r.length;u++)"length"!=(n=r[u].name)&&(i=n.indexOf("data-"),-1!=i&&(n=n.substring("data-".length,n.length)),o=n.indexOf(t),-1!=o&&(n=n.substring(t.length+1,n.length)),s=n.match(/\d+/g),s?(l=parseFloat(s[0])-1,void 0!=a.shape[l][n]?(a.shape[l][n]=r[u].value,a.shape[l]["shape-"+(l+1)+"-zIndex"]=l+1):void 0==a.shape[l][n]&&-1!=o&&console.debug("SweetButton: ",n,"is not supported, the maximum number of layered shapes is 5.")):void 0!=a[n]?a[n]=r[u].value:void 0==a[n]&&-1!=o&&console.debug("SweetButton: ",n,"is not supported, please visit the documentation for a complete list of valid attributes."))},this.createShapes=function(e){var t,n,i,o,s;if(a["scroll-out"]){var l={activeClassCount:{}};t=a["scroll-out"],n=a["scroll-out-animation-duration"],i=a["scroll-out-animation-delay"],o=a["scroll-out-animation-iteration-count"],l.scrollOutLastPos=0,l.selector="scroll-out-"+t,"infinite"==o&&(o=void 0,console.debug('SweetButton: "infinite" is not supported as an animation-iteration-count property.')),l.animationIterationCount=o||1,l.animationClass=t||"",l.animationDuration=n||1e3,l.animationDelay=i||0,a["element-events"]["scroll-out"].push(l)}if(a["scroll-in"]){var l={activeClassCount:{}};t=a["scroll-in"],n=a["scroll-in-animation-duration"],i=a["scroll-in-animation-delay"],o=a["scroll-in-animation-iteration-count"],l.scrollInLastPos=0,l.selector="scroll-in-"+t,"infinite"==o&&(o=void 0,console.debug('SweetButton: "infinite" is not supported as an animation-iteration-count property.')),l.animationIterationCount=o||1,l.animationClass=t||"",l.animationDuration=n||1e3,l.animationDelay=i||0,a["element-events"]["scroll-in"].push(l)}for(var r,u,c=0,m=a.shape.length;c<m;c++)if(a.shape[c]["shape-"+(c+1)])if(r=a.shape[c],u=r["shape-"+(c+1)],a.shapeDictionary[u]){var h=a.shapeDictionary[u](r,c+1);if(h.setAttribute("class",h.getAttribute("class")+" animated"),console.log("svg clases: ",h.getAttribute("class")),r["shape-"+(c+1)+"-click"]){var l={activeClassCount:{}};t=r["shape-"+(c+1)+"-click"],n=r["shape-"+(c+1)+"-click-animation-duration"],i=r["shape-"+(c+1)+"-click-animation-delay"],o=r["shape-"+(c+1)+"-click-animation-iteration-count"],l.selector="shape-"+(c+1)+"-click-"+t,"infinite"==o&&(o=void 0,console.debug('SweetButton: "infinite" is not supported as an animation-iteration-count property.')),l.animationIterationCount=o||1,l.animationClass=t||"",l.animationDuration=n||1e3,l.animationDelay=i||0,a["element-events"].click.push(l)}if(r["shape-"+(c+1)+"-mouse-enter"]){var l={activeClassCount:{}};t=r["shape-"+(c+1)+"-mouse-enter"],n=r["shape-"+(c+1)+"-mouse-enter-animation-duration"],i=r["shape-"+(c+1)+"-mouse-enter-animation-delay"],o=r["shape-"+(c+1)+"-mouse-enter-animation-iteration-count"],l.selector="shape-"+(c+1)+"-mouse-enter-"+t,"infinite"==o&&(o=void 0,console.debug('SweetButton: "infinite" is not supported as an animation-iteration-count property.')),l.animationClass=t||"",l.animationDuration=n||1e3,l.animationDelay=i||0,l.animationIterationCount=o||1,s=a["element-events"].activeClassCount[l.animationClass],s||(a["element-events"].activeClassCount[l.animationClass]=0),a["element-events"]["mouse-enter"].push(l)}if(r["shape-"+(c+1)+"-mouse-leave"]){var l={activeClassCount:{}};t=r["shape-"+(c+1)+"-mouse-leave"],n=r["shape-"+(c+1)+"-mouse-leave-animation-duration"],i=r["shape-"+(c+1)+"-mouse-leave-animation-delay"],o=r["shape-"+(c+1)+"-mouse-leave-animation-iteration-count"],"infinite"==o&&(o=void 0,console.debug('SweetButton: "infinite" is not supported as an animation-iteration-count property.')),l.selector="shape-"+(c+1)+"-mouse-leave-"+t,l.animationIterationCount=o||1,l.animationClass=t||"",l.animationDuration=n||1e3,l.animationDelay=i||0,s=a["element-events"].activeClassCount[l.animationClass],s||(a["element-events"].activeClassCount[l.animationClass]=0),a["element-events"]["mouse-leave"].push(l)}e.insertAdjacentElement("beforeend",h)}else console.debug("SweetButton: ",u,"is not supported, view the documentation for the completelist of shape types.")},this.createGlyphIcon=function(e,t){if(a["glyph-classes"]){var n=document.createElement("i");n.className=a["glyph-classes"];var i=a["glyph-size"].length?a["glyph-size"]:"xs",o=(a.shapeScale[i].width,a.shapeScale[i].height);if(n.style.fontSize=o/2+"px",n.style.lineHeight=o/2+"px",n.style.color=a["glyph-color"],a.hasChildElem){var s=o/2,l=a.childWidth;a.shapeScale[i].width;n.style.marginTop="-"+s/2+"px",n.style.marginLeft="-"+(s/2+s/8+l/2-2)+"px"}else{var s=o/2;n.style.marginTop="-"+s/2+"px",n.style.marginLeft="-"+(s/2+s/8)+"px"}var r=void 0,u=void 0,c=void 0,m=void 0,h=void 0;if(a["glyph-click"]){var p={};r=a["glyph-click"],u=a["glyph-click-animation-duration"],c=a["glyph-click-animation-delay"],m=a["glyph-click-animation-iteration-count"],"infinite"==m&&(console.debug("SweetButton: ",'"infinite" is not supported as an animation-iteration-count property.an animation-iteration-count'),m=void 0),p.selector="glyph-click-"+r,n.className+=" "+p.selector,p.animationClass=r||"",p.animationDuration=u||1e3,p.animationDelay=c||0,p.animationIterationCount=m||1,a["element-events"].click.push(p)}if(a["glyph-click"]&&a.hasChildElem){var p={};r=a["glyph-click"],u=a["glyph-click-animation-duration"],c=a["glyph-click-animation-delay"],m=a["glyph-click-animation-iteration-count"],"infinite"==m&&(console.debug("SweetButton: ",'"infinite" is not supported as an animation-iteration-count property.an animation-iteration-count'),m=void 0),p.selector=t+"-inner-text",p.animationClass=r||"",p.animationDuration=u||1e3,p.animationDelay=c||0,p.animationIterationCount=m||1,a["element-events"].click.push(p)}if(a["glyph-mouse-enter"]){var p={};r=a["glyph-mouse-enter"],u=a["glyph-mouse-enter-animation-duration"],c=a["glyph-mouse-enter-animation-delay"],m=a["glyph-mouse-enter-animation-iteration-count"],"infinite"==m&&(console.debug("SweetButton: ",'"infinite" is not supported as an animation-iteration-count property.an animation-iteration-count'),m=void 0),p.selector="glyph-mouse-enter-"+r,n.className+=" "+p.selector,p.animationClass=r||"",p.animationDuration=u||1e3,p.animationDelay=c||0,p.animationIterationCount=m||1,h=a["element-events"].activeClassCount[p.animationClass],h||(a["element-events"].activeClassCount[p.animationClass]=0),a["element-events"]["mouse-enter"].push(p)}if(a["glyph-mouse-enter"]&&a.hasChildElem){var p={};r=a["glyph-mouse-enter"],u=a["glyph-mouse-enter-animation-duration"],c=a["glyph-mouse-enter-animation-delay"],m=a["glyph-mouse-enter-animation-iteration-count"],"infinite"==m&&(console.debug("SweetButton: ",'"infinite" is not supported as an animation-iteration-count property.an animation-iteration-count'),m=void 0),p.selector=t+"-inner-text",p.animationClass=r||"",p.animationDuration=u||1e3,p.animationDelay=c||0,p.animationIterationCount=m||1,h=a["element-events"].activeClassCount[p.animationClass],h||(a["element-events"].activeClassCount[p.animationClass]=0),a["element-events"]["mouse-enter"].push(p)}if(a["glyph-mouse-leave"]){var p={};r=a["glyph-mouse-leave"],u=a["glyph-mouse-leave-animation-duration"],c=a["glyph-mouse-leave-animation-delay"],m=a["glyph-mouse-leave-animation-iteration-count"],"infinite"==m&&(console.debug("SweetButton: ",'"infinite" is not supported as an animation-iteration-count property.an animation-iteration-count'),m=void 0),p.selector="glyph-mouse-leave-"+r,n.className+=" "+p.selector,p.animationClass=r||"",p.animationDuration=u||1e3,p.animationDelay=c||0,p.animationIterationCount=m||1,h=a["element-events"].activeClassCount[p.animationClass],h||(a["element-events"].activeClassCount[p.animationClass]=0),a["element-events"]["mouse-leave"].push(p)}if(a["glyph-mouse-leave"]&&a.hasChildElem){var p={};r=a["glyph-mouse-leave"],u=a["glyph-mouse-leave-animation-duration"],c=a["glyph-mouse-leave-animation-delay"],m=a["glyph-mouse-leave-animation-iteration-count"],"infinite"==m&&(console.debug("SweetButton: ",'"infinite" is not supported as an animation-iteration-count property.an animation-iteration-count'),m=void 0),p.selector=t+"-inner-text",p.animationClass=r||"",p.animationDuration=u||1e3,p.animationDelay=c||0,p.animationIterationCount=m||1,h=a["element-events"].activeClassCount[p.animationClass],h||(a["element-events"].activeClassCount[p.animationClass]=0),a["element-events"]["mouse-leave"].push(p)}e.appendChild(n)}},this.createEvents=function(e){a["element-events"].click.length&&e.addEventListener("click",t.HandleClickEvent(e,a["element-events"])),a["element-events"]["mouse-enter"].length&&(e.addEventListener("mouseenter",t.HandleMouseEnterEvent(e,a["element-events"])),e.addEventListener("touchstart",t.HandleMouseEnterEvent(e,a["element-events"]))),a["element-events"]["mouse-leave"].length&&e.addEventListener("mouseleave",t.HandleMouseLeaveEvent(e,a["element-events"])),a["element-events"]["scroll-in"].length&&window.addEventListener("scroll",t.HandleScrollInEvent(e,a["element-events"],!1)),a["element-events"]["scroll-out"].length&&window.addEventListener("scroll",t.HandleScrollOutEvent(e,a["element-events"]))},this.parseBtnInnerHtml=function(t,n){var i=e(t).children();if(0!=i.length){a.hasChildElem=!0;var o=i[0];e(o).addClass(n+"-inner-text");var s=e(o).width();a.childWidth=s;var l=e(o).height();for(var r in a.shapeScale)a.shapeScale[r].width+=1.5*s,a.shapeScale[r].height+=l/2;if(a["glyph-classes"]){var u=a["glyph-size"].length?a["glyph-size"]:"xs",c=a.shapeScale[u].width,m=-2;e(o).css({position:"absolute",top:"50%",left:"50%",marginTop:l/2.25*-1,marginLeft:-1*(s/2-c/8-m)})}else{var m=0;e(o).css({position:"absolute",top:"50%",left:"50%",marginTop:l/2.25*-1,marginLeft:-1*(s/3+o.offsetWidth/6-m)}),console.log("btnchild.width",o.offsetWidth/8)}return o}},this.createDivContainer=function(t,n){var i,o,s,l;e(t).hasClass(n+"-xl")?(i=a.shapeScale.xl.width,s=a.shapeScale.xl.height):e(t).hasClass(n+"-lg")?(i=a.shapeScale.lg.width,s=a.shapeScale.lg.height):e(t).hasClass(n+"-md")?(i=a.shapeScale.md.width,s=a.shapeScale.md.height):e(t).hasClass(n+"-sm")?(i=a.shapeScale.sm.width,s=a.shapeScale.sm.height):(e(t).hasClass(n+"-xs"),i=a.shapeScale.xs.width,s=a.shapeScale.xs.height),o=i/10,l=s/10,a["on-load"]&&(e(t).addClass("animated "+a["on-load"]),a["element-events"].isLoadOccuring=!0,setTimeout(function(){e(t).removeClass(""+a["on-load"]),a["element-events"].isLoadOccuring=!1},1e3)),e(t).css({height:s+2*l+"px",width:i+2*o+"px"});var r=document.createElement("div");return r.setAttribute("class",n+"-wrap"),r.style.height="100%",r.style.width="100%",r},this.shapeDictionary={hexagon:this.createHexagon,square:this.createSquare,circle:this.createCircle},this.parseBtnAttributes(n,i);var o=this.parseBtnInnerHtml(n,i),s=this.createDivContainer(n,i);o&&e(s).append(o),this.createShapes(s),this.createGlyphIcon(s,i),this.createEvents(s),n.insertAdjacentElement("beforeend",s),e(n).css({visibility:"visible"})}return t.AddStaticStyles=function(e){void 0===e&&(e="sweet-btn");var t=e+"-styles",n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.setAttribute("rel","stylesheet"),i.setAttribute("media","only screen"),i.setAttribute("id",t),i.setAttribute("type","text/css");var a="          ."+e+" {\n                position: relative;\n                display: inline-block;\n                visibility: hidden;\n                cursor: pointer;\n                -webkit-touch-callout: text;\n                user-select: text;\n                -webkit-user-select: text;\n                -moz-user-select: text;\n                -ms-user-select: text;\n                -o-user-select: text;\n                vertical-align: middle;\n                text-align: center;\n            }\n            \n            ."+e+" ."+e+"-wrap svg {\n                pointer-events: none;\n                overflow: visible;\n                -webkit-back-face-visibility: hidden;\n                backface-visibility: hidden;\n                z-index: 100;\n                display: inline-block;\n                position: absolute;\n                left:50%;\n                top: 50%;\n                -webkit-animation-fill-mode: both;\n                animation-fill-mode: both;\n            }\n\n            ."+e+" ."+e+"-wrap svg rect,\n            ."+e+" ."+e+"-wrap svg circle,\n            ."+e+" ."+e+"-wrap svg polygon,\n            ."+e+" ."+e+"-wrap svg elipsis {\n                pointer-events: none;\n            }\n            \n            ."+e+" ."+e+"-wrap i {\n                z-index: 150;\n                display: inline-block;\n                position: absolute;\n                left: 50%;\n                top: 50%;\n                pointer-events: none;\n\n                -webkit-text-stroke-color: black;\n                -webkit-text-stroke-width: 0.5px;\n                -webkit-tap-highlight-color: transparent;\n\n            }\n\n            ."+e+" ."+e+"-inner-text {\n                    display: inline-block;\n                    z-index: 150;\n                    whiteSpace: pre;\n                    margin: 0;\n                    padding: 0;\n                    \n                    -webkit-touch-callout: text;\n                    user-select: text;\n                    -webkit-user-select: text;\n                    -moz-user-select: text;\n                    -ms-user-select: text;\n                    -o-user-select: text;\n            }\n            ";i.appendChild(document.createTextNode(a)),n.appendChild(i)},t.RemoveEventAnimationClasses=function(t,n,i){var a;i.forEach(function(i,o){n[i]&&n[i].length&&n[i].forEach(function(n,i){a=e(t).find("."+n.selector),a.hasClass(n.animationClass)&&(a.removeClass(n.animationClass),a.css({"-webkit-animation-duration":"","animation-duration":""}))})})},t.AddEventAnimationClasses=function(t,n,i){var a;i.forEach(function(i,o){n[i]&&n[i].length&&n[i].forEach(function(n,i){a=e(t).find("."+n.selector),a.hasClass(n.animationClass)||(a.addClass(n.animationClass),a.css({"-webkit-animation-duration":n.animationDuration+"ms","animation-duration":n.animationDuration+"ms"}))})})},t.HandleMouseEnterEvent=function(t,n){return function(){if(n.isOnLoadOccuring||n.isMouseEnterOccuring||n.isMouseLeaveOccuring||n.isClickOccuring||n.isScrollInOccuring||n.isScrollOutOccuring)return!1;n.isMouseEnterOccuring=!0;var i;async.each(n["mouse-enter"],function(n,a){async.waterfall([function(a){return i=e(t).find("."+n.selector),i.css({"-webkit-animation-duration":n.animationDuration+"ms","animation-duration":n.animationDuration+"ms","-webkit-animation-iteration-count":n.animationIterationCount,"animation-iteration-count":n.animationIterationCount}),a(null,i)},function(e,t){setTimeout(function(){return e.addClass(""+n.animationClass),t(null,e)},n.animationDelay)},function(e,t){setTimeout(function(){return e.removeClass(""+n.animationClass),t(null,e)},n.animationIterationCount*n.animationDuration)}],a)},function(e){e&&console.debug("err:",e),n.isMouseEnterOccuring=!1})}},t.HandleMouseLeaveEvent=function(n,i){return function(){if(i.isOnLoadOccuring||i.isMouseLeaveOccuring||i.isMouseEnterOccuring||i.isClickOccuring||i.isScrollInOccuring||i.isScrollOutOccuring)return!1;i.isMouseLeaveOccuring=!0;var a;async.each(i["mouse-leave"],function(o,s){async.waterfall([function(t){return a=e(n).find("."+o.selector),a.css({"-webkit-animation-duration":o.animationDuration+"ms","animation-duration":o.animationDuration+"ms","-webkit-animation-iteration-count":o.animationIterationCount,"animation-iteration-count":o.animationIterationCount}),t(null,a)},function(e,t){setTimeout(function(){return i.activeClassCount[""+o.animationClass]++,e.hasClass(""+o.animationClass)||e.addClass(""+o.animationClass),t(null,e)},o.animationDelay)},function(e,a){async.parallel([function(e){setTimeout(function(){return i.isMouseLeaveOccuring=!1,t.HandleMouseEnterEvent(n,i)(),e()},o.animationDuration*o.animationIterationCount-100)},function(t){setTimeout(function(){return i.activeClassCount[""+o.animationClass]--,e.removeClass(""+o.animationClass),a(null,e)},o.animationDuration*o.animationIterationCount)}],a)}],s)},function(e){e&&console.debug("err:",e)})}},t.HandleScrollOutEvent=function(n,i){return function(){function a(){i.isScrollOutOccuring=!0;var a;async.each(i["scroll-out"],function(o,s){async.waterfall([function(t){return a=e(n),a.css({"-webkit-animation-duration":o.animationDuration+"ms","animation-duration":o.animationDuration+"ms","-webkit-animation-iteration-count":o.animationIterationCount,"animation-iteration-count":o.animationIterationCount}),t(null,a)},function(e,t){setTimeout(function(){return e.addClass(""+o.animationClass),t(null,e)},o.animationDelay)},function(e,a){async.parallel([function(e){setTimeout(function(){return i.isScrollOutOccuring=!1,t.HandleScrollInEvent(n,i,!0)(),e()},o.animationDuration*o.animationIterationCount-100)},function(t){setTimeout(function(){return e.removeClass(""+o.animationClass),a(null,e)},o.animationDuration*o.animationIterationCount)}])}],s)},function(e){e&&console.debug("err:",e)})}var o=i.scrollOutLastPos,s=e(window).scrollTop();if(i.scrollOutLastPos=s,i.isOnLoadOccuring||i.isClickOccuring||i.isMouseEnterOccuring||i.isMouseLeaveOccuring||i.isScrollInOccuring||i.isScrollOutOccuring)return!1;var l=e(n).offset(),r=e(n).height();s<o?s+window.innerHeight>l.top+r-r/3&&s+window.innerHeight<l.top+r+r/3&&a():s>l.top-r-r/3&&s<l.top+r/3&&a()}},t.HandleScrollInEvent=function(t,n,i){return function(){function a(){n.isScrollInOccuring=!0;var i;async.each(n["scroll-in"],function(n,a){async.waterfall([function(a){return i=e(t),i.css({"-webkit-animation-duration":n.animationDuration+"ms","animation-duration":n.animationDuration+"ms","-webkit-animation-iteration-count":n.animationIterationCount,"animation-iteration-count":n.animationIterationCount}),a(null,i)},function(e,t){setTimeout(function(){return e.addClass(""+n.animationClass),t(null,e)},n.animationDelay)},function(e,t){setTimeout(function(){return e.removeClass(""+n.animationClass),t(null,e)},n.animationDuration*n.animationIterationCount)}],a)},function(e){e&&console.debug("err:",e),n.isScrollInOccuring=!1})}if(i)return a();var o=n.scrollInLastPos,s=e(window).scrollTop();if(n.scrollInLastPos=s,n.isOnLoadOccuring||n.isClickOccuring||n.isMouseEnterOccuring||n.isMouseLeaveOccuring||n.isScrollInOccuring||n.isScrollOutOccuring)return!1;var l=e(t).offset(),r=e(t).height();s>o?s+window.innerHeight>l.top-r/3&&s+window.innerHeight<l.top+r/3&&a():s>l.top+r-r/3&&s<l.top+r+r/3&&a()}},t.HandleClickEvent=function(n,i){return function(){if(i.isClickOccuring)return!1;i.isClickOccuring=!0;var a;async.each(i.click,function(o,s){async.waterfall([function(s){return a=e(n).find("."+o.selector),t.RemoveEventAnimationClasses(n,i,["mouse-enter","mouse-leave","scroll-in","scroll-out"]),a.css({"-webkit-animation-duration":o.animationDuration+"ms","animation-duration":o.animationDuration+"ms","-webkit-animation-iteration-count":o.animationIterationCount,"animation-iteration-count":o.animationIterationCount}),s(null,a)},function(e,t){setTimeout(function(){return e.addClass(""+o.animationClass),t(null,e)},o.animationDelay)},function(e,t){setTimeout(function(){return e.removeClass(""+o.animationClass),t(null,e)},o.animationDuration*o.animationIterationCount)}],s)},function(e){e&&console.debug("err:",e),i.isClickOccuring=!1})}},t}();t.AddStaticStyles(),e.fn.sweetButton=function(e){void 0===e&&(e={className:"sweet-btn"});var n=e.className;return this.each(function(){var e=new t(this,n);console.log("sweetBtn: ",e)})}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9zd2VldC1pY29ucy50cyJdLCJuYW1lcyI6WyIkIiwiU3dlZXRCdXR0b24iLCJidG5FbGVtZW50IiwiYnRuUHJlZml4IiwiX3RoaXMiLCJ0aGlzIiwiYWN0aXZlQ2xhc3NDb3VudCIsImlzQ2xpY2tPY2N1cmluZyIsImlzTW91c2VFbnRlck9jY3VyaW5nIiwiaXNNb3VzZUxlYXZlT2NjdXJpbmciLCJpc1Njcm9sbEluT2NjdXJpbmciLCJpc1Njcm9sbE91dE9jY3VyaW5nIiwiY2xpY2siLCJtb3VzZS1lbnRlciIsIm1vdXNlLWxlYXZlIiwic2Nyb2xsLWluIiwic2Nyb2xsLW91dCIsInNoYXBlLTEiLCJzaGFwZS0xLXNpemUiLCJzaGFwZS0xLWJhY2tncm91bmQiLCJzaGFwZS0xLXpJbmRleCIsInNoYXBlLTEtbW91c2UtZW50ZXIiLCJzaGFwZS0xLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbiIsInNoYXBlLTEtbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5Iiwic2hhcGUtMS1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50Iiwic2hhcGUtMS1tb3VzZS1sZWF2ZSIsInNoYXBlLTEtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uIiwic2hhcGUtMS1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXkiLCJzaGFwZS0xLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQiLCJzaGFwZS0xLWNsaWNrIiwic2hhcGUtMS1jbGljay1hbmltYXRpb24tZHVyYXRpb24iLCJzaGFwZS0xLWNsaWNrLWFuaW1hdGlvbi1kZWxheSIsInNoYXBlLTEtY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCIsInNoYXBlLTIiLCJzaGFwZS0yLXNpemUiLCJzaGFwZS0yLWJhY2tncm91bmQiLCJzaGFwZS0yLXpJbmRleCIsInNoYXBlLTItbW91c2UtZW50ZXIiLCJzaGFwZS0yLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbiIsInNoYXBlLTItbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5Iiwic2hhcGUtMi1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50Iiwic2hhcGUtMi1tb3VzZS1sZWF2ZSIsInNoYXBlLTItbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uIiwic2hhcGUtMi1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXkiLCJzaGFwZS0yLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQiLCJzaGFwZS0yLWNsaWNrIiwic2hhcGUtMi1jbGljay1hbmltYXRpb24tZHVyYXRpb24iLCJzaGFwZS0yLWNsaWNrLWFuaW1hdGlvbi1kZWxheSIsInNoYXBlLTItY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCIsInNoYXBlLTMiLCJzaGFwZS0zLXNpemUiLCJzaGFwZS0zLWJhY2tncm91bmQiLCJzaGFwZS0zLXpJbmRleCIsInNoYXBlLTMtbW91c2UtZW50ZXIiLCJzaGFwZS0zLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbiIsInNoYXBlLTMtbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5Iiwic2hhcGUtMy1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50Iiwic2hhcGUtMy1tb3VzZS1sZWF2ZSIsInNoYXBlLTMtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uIiwic2hhcGUtMy1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXkiLCJzaGFwZS0zLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQiLCJzaGFwZS0zLWNsaWNrIiwic2hhcGUtMy1jbGljay1hbmltYXRpb24tZHVyYXRpb24iLCJzaGFwZS0zLWNsaWNrLWFuaW1hdGlvbi1kZWxheSIsInNoYXBlLTMtY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCIsInNoYXBlLTQiLCJzaGFwZS00LXNpemUiLCJzaGFwZS00LWJhY2tncm91bmQiLCJzaGFwZS00LXpJbmRleCIsInNoYXBlLTQtbW91c2UtZW50ZXIiLCJzaGFwZS00LW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbiIsInNoYXBlLTQtbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5Iiwic2hhcGUtNC1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50Iiwic2hhcGUtNC1tb3VzZS1sZWF2ZSIsInNoYXBlLTQtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uIiwic2hhcGUtNC1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXkiLCJzaGFwZS00LW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQiLCJzaGFwZS00LWNsaWNrIiwic2hhcGUtNC1jbGljay1hbmltYXRpb24tZHVyYXRpb24iLCJzaGFwZS00LWNsaWNrLWFuaW1hdGlvbi1kZWxheSIsInNoYXBlLTQtY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCIsInNoYXBlLTUiLCJzaGFwZS01LXNpemUiLCJzaGFwZS01LWJhY2tncm91bmQiLCJzaGFwZS01LXpJbmRleCIsInNoYXBlLTUtbW91c2UtZW50ZXIiLCJzaGFwZS01LW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbiIsInNoYXBlLTUtbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5Iiwic2hhcGUtNS1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50Iiwic2hhcGUtNS1tb3VzZS1sZWF2ZSIsInNoYXBlLTUtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uIiwic2hhcGUtNS1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXkiLCJzaGFwZS01LW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQiLCJzaGFwZS01LWNsaWNrIiwic2hhcGUtNS1jbGljay1hbmltYXRpb24tZHVyYXRpb24iLCJzaGFwZS01LWNsaWNrLWFuaW1hdGlvbi1kZWxheSIsInNoYXBlU2NhbGUiLCJ4cyIsIndpZHRoIiwiaGVpZ2h0Iiwic20iLCJtZCIsImxnIiwieGwiLCJjcmVhdGVIZXhhZ29uIiwic2hhcGVDb25maWciLCJzaGFwZUxheWVyTnVtIiwic2hhcGVTaXplIiwibGVuZ3RoIiwic2hhcGVTY2FsZVgiLCJzaGFwZVNwYWNpbmdYIiwic2hhcGVTY2FsZVkiLCJzaGFwZVNwYWNpbmdZIiwic2hhcGVNYXJnaW5MZWZ0Iiwic2hhcGVNYXJnaW5Ub3AiLCJjbGlja0FuaW1hdGlvbk5hbWUiLCJtb3VzZUVudGVyQW5pbWF0aW9uTmFtZSIsIm1vdXNlTGVhdmVBbmltYXRpb25OYW1lIiwic3ZnSGV4YWdvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY2xpY2tDbGFzcyIsIm1vdXNlRW50ZXJDbGFzcyIsIm1vdXNlTGVhdmVDbGFzcyIsInN2Z0hleGFnb25DbGFzc2VzIiwic2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlTlMiLCJwb2x5SGV4YWdvbiIsInB0TXVsdGlwbGllclgiLCJwdE11bHRpcGxpZXJZIiwicG9seVB0cyIsImpvaW4iLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUNpcmNsZSIsInN2Z0NpY2xlIiwic3ZnQ2ljbGVDbGFzc2VzIiwicG9seUNpcmNsZSIsImNyZWF0ZVNxdWFyZSIsInNoYXBlV2lkdGgiLCJzaGFwZUhlaWdodCIsInN2Z1NxdWFyZSIsInN2Z1NxdWFyZUNsYXNzZXMiLCJwb2x5U3F1YXJlIiwicGFyc2VCdG5BdHRyaWJ1dGVzIiwia2V5TmFtZSIsImhhc0RhdGFQcmVmaXgiLCJoYXNCdG5QcmVmaXgiLCJoYXNOdW1iZXIiLCJpbmRleE9mU2hhcGUiLCJidG5BdHRyaWJzIiwiYXR0cmlidXRlcyIsImtleUluZGV4IiwibmFtZSIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJtYXRjaCIsInBhcnNlRmxvYXQiLCJ1bmRlZmluZWQiLCJzaGFwZSIsInZhbHVlIiwiY29uc29sZSIsImRlYnVnIiwiY3JlYXRlU2hhcGVzIiwiZGl2Q29udGFpbmVyIiwiZXZlbnRBbmltYXRpb25DbGFzcyIsImV2ZW50QW5pbWF0aW9uRHVyYXRpb24iLCJldmVudEFuaW1hdGlvbkRlbGF5IiwiZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCIsImV2ZW50SXRlbSIsInB1c2giLCJzaGFwZVR5cGUiLCJpIiwiaiIsInNoYXBlRGljdGlvbmFyeSIsInN2Z1NoYXBlIiwiZ2V0QXR0cmlidXRlIiwibG9nIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiY3JlYXRlR2x5cGhJY29uIiwiaWNvbkdseXBoIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImdseXBoU2l6ZSIsImdseXBoU2NhbGVZIiwic3R5bGUiLCJmb250U2l6ZSIsImxpbmVIZWlnaHQiLCJjb2xvciIsImNoaWxkV2lkdGgiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0IiwiY3JlYXRlRXZlbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkhhbmRsZUNsaWNrRXZlbnQiLCJIYW5kbGVNb3VzZUVudGVyRXZlbnQiLCJIYW5kbGVNb3VzZUxlYXZlRXZlbnQiLCJ3aW5kb3ciLCJIYW5kbGVTY3JvbGxJbkV2ZW50IiwiSGFuZGxlU2Nyb2xsT3V0RXZlbnQiLCJwYXJzZUJ0bklubmVySHRtbCIsImJ0bkNoaWxkcmVuIiwiY2hpbGRyZW4iLCJidG5DaGlsZCIsImFkZENsYXNzIiwiY2hpbGRIZWlnaHQiLCJrZXkiLCJlbGVtV2lkdGgiLCJleHRyYVBhZGRpbmciLCJjc3MiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJvZmZzZXRXaWR0aCIsImNyZWF0ZURpdkNvbnRhaW5lciIsImJ0blNjYWxlWCIsImJ0blNwYWNpbmdYIiwiYnRuU2NhbGVZIiwiYnRuU3BhY2luZ1kiLCJoYXNDbGFzcyIsInNldFRpbWVvdXQiLCJyZW1vdmVDbGFzcyIsImhleGFnb24iLCJzcXVhcmUiLCJjaXJjbGUiLCJjaGlsZEVsZW0iLCJhcHBlbmQiLCJ2aXNpYmlsaXR5IiwiQWRkU3RhdGljU3R5bGVzIiwiYnRuU3R5bGVTaGVldElkIiwicGFnZUhlYWQiLCJoZWFkIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJidG5TdHlsZVNoZWV0IiwiYnRuQ3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwiUmVtb3ZlRXZlbnRBbmltYXRpb25DbGFzc2VzIiwiZWxlbWVudEV2ZW50cyIsImVsZW1lbnRFdmVudEtleU5hbWVzIiwic2VsZWN0ZWRFbGVtZW50IiwiZm9yRWFjaCIsImV2ZW50S2V5TmFtZSIsImluZGV4IiwiZXZlbnQiLCJmaW5kIiwic2VsZWN0b3IiLCJhbmltYXRpb25DbGFzcyIsIi13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uIiwiYW5pbWF0aW9uLWR1cmF0aW9uIiwiQWRkRXZlbnRBbmltYXRpb25DbGFzc2VzIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJhc3luYyIsImVhY2giLCJtb3VzZUVudGVyRXZlbnQiLCJtb3VzZUVudGVyRXZlbnRDQiIsIndhdGVyZmFsbCIsInNlcmllc0NCIiwiLXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50IiwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQiLCJhbmltYXRpb24taXRlcmF0aW9uLWNvdW50IiwiYW5pbWF0aW9uRGVsYXkiLCJlcnIiLCJtb3VzZUxlYXZlIiwibW91c2VMZWF2ZUNCIiwicGFyYWxsZWwiLCJwYXJhQ0IiLCJ0cmlnZ2VyU2Nyb2xsT3V0RXZlbnQiLCJzY3JvbGxPdXRFdmVudCIsInNjcm9sbE91dEV2ZW50Q0IiLCJsYXN0U2Nyb2xsQW1vdW50Iiwic2Nyb2xsQW1vdW50Iiwic2Nyb2xsVG9wIiwiYW1vdW50VG9TY3JvbGwiLCJvZmZzZXQiLCJpbm5lckhlaWdodCIsImZvcmNlRXZlbnQiLCJ0cmlnZ2VyU2Nyb2xsSW5FdmVudCIsInNjcm9sbEluRXZlbnQiLCJzY3JvbGxJbkV2ZW50Q0IiLCJjbGlja0V2ZW50IiwiY2xpY2tFdmVudENCIiwiZm4iLCJzd2VldEJ1dHRvbiIsIm9wdGlvbnMiLCJzd2VldEJ0biIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBR0MsU0FBV0EsR0FDUixHQUFB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LEdBQUcyRSxFQUFXakMsZ0JBRWhDVSxFQUFTLEtBQU1qQixJQUV2QndDLEVBQVduQixpQkFFbEIsU0FBQ3JCLEVBQWlCaUIsR0FFZHBDLFdBQVcsV0FHUCxNQUZBbUIsR0FBZ0JsQixZQUFZLEdBQUcwRCxFQUFXakMsZ0JBRW5DVSxFQUFTLEtBQU1qQixJQUV2QndDLEVBQVc3QixrQkFBb0I2QixFQUFXckIsMkJBRWxEc0IsSUFDSixTQUFDbkIsR0FDSUEsR0FBS3BHLFFBQVFDLE1BQU0sT0FBUW1HLEdBRS9CeEIsRUFBK0IsaUJBQUksTUFzTm5EM08sSUFHQUEsR0FBWWtPLGtCQUdabk8sRUFBRXdSLEdBQUdDLFlBQWMsU0FBU0MsT0FBQSxLQUFBQSxJQUFBQSxHQUFZckcsVUFBVyxhQUUvQyxJQUFNbEwsR0FBWXVSLEVBQVFyRyxTQUcxQixPQUFPaEwsTUFBS3NQLEtBQUssV0FDYixHQUFJZ0MsR0FBVyxHQUFJMVIsR0FBWUksS0FBTUYsRUFDckM2SixTQUFRZ0IsSUFBSSxhQUFjMkcsT0FJbkNDIiwiZmlsZSI6InN3ZWV0LWJ1dHRvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgdmFyIGFzeW5jOiBhbnk7XHJcbmRlY2xhcmUgdmFyIGpRdWVyeTogYW55O1xyXG5cclxuKGZ1bmN0aW9uICggJCApIHtcclxuICAgIGNsYXNzIFN3ZWV0QnV0dG9uIHtcclxuICAgICAgICBwcml2YXRlICdoYXNDaGlsZEVsZW0nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHByaXZhdGUgJ29uLWxvYWQnID0gJyc7XHJcblxyXG4gICAgICAgIHByaXZhdGUgJ3Njcm9sbC1pbicgPSAnJztcclxuICAgICAgICBwcml2YXRlICdzY3JvbGwtaW4tYW5pbWF0aW9uLWR1cmF0aW9uJyA9ICcnO1xyXG4gICAgICAgIHByaXZhdGUgJ3Njcm9sbC1pbi1hbmltYXRpb24tZGVsYXknID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnc2Nyb2xsLWluLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnID0gJyc7XHJcblxyXG4gICAgICAgIHByaXZhdGUgJ3Njcm9sbC1vdXQnID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnc2Nyb2xsLW91dC1hbmltYXRpb24tZHVyYXRpb24nID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnc2Nyb2xsLW91dC1hbmltYXRpb24tZGVsYXknID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnc2Nyb2xsLW91dC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JyA9ICcnO1xyXG5cclxuICAgICAgICBwcml2YXRlICdnbHlwaC1zaXplJyA9ICcnO1xyXG4gICAgICAgIHByaXZhdGUgJ2dseXBoLWNvbG9yJyA9ICcnO1xyXG4gICAgICAgIHByaXZhdGUgJ2dseXBoLWNsYXNzZXMnID0gJyc7XHJcblxyXG4gICAgICAgIHByaXZhdGUgJ2dseXBoLWNsaWNrJyA9ICcnO1xyXG4gICAgICAgIHByaXZhdGUgJ2dseXBoLWNsaWNrLWFuaW1hdGlvbi1kdXJhdGlvbicgPSAnJztcclxuICAgICAgICBwcml2YXRlICdnbHlwaC1jbGljay1hbmltYXRpb24tZGVsYXknID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnZ2x5cGgtY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcgPSAnJztcclxuXHJcbiAgICAgICAgcHJpdmF0ZSAnZ2x5cGgtbW91c2UtZW50ZXInID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnZ2x5cGgtbW91c2UtZW50ZXItYW5pbWF0aW9uLWR1cmF0aW9uJyA9ICcnO1xyXG4gICAgICAgIHByaXZhdGUgJ2dseXBoLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kZWxheScgPSAnJztcclxuICAgICAgICBwcml2YXRlICdnbHlwaC1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JyA9ICcnO1xyXG5cclxuICAgICAgICBwcml2YXRlICdnbHlwaC1tb3VzZS1sZWF2ZScgPSAnJztcclxuICAgICAgICBwcml2YXRlICdnbHlwaC1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZHVyYXRpb24nID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnZ2x5cGgtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWRlbGF5JyA9ICcnO1xyXG4gICAgICAgIHByaXZhdGUgJ2dseXBoLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnID0gJyc7XHJcblxyXG4gICAgICAgIHByaXZhdGUgJ2VsZW1lbnQtZXZlbnRzJyA9IHtcclxuICAgICAgICAgICAgYWN0aXZlQ2xhc3NDb3VudDoge30sXHJcbiAgICAgICAgICAgIGlzQ2xpY2tPY2N1cmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzTW91c2VFbnRlck9jY3VyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNNb3VzZUxlYXZlT2NjdXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1Njcm9sbEluT2NjdXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1Njcm9sbE91dE9jY3VyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgY2xpY2s6IFtdLFxyXG4gICAgICAgICAgICAnbW91c2UtZW50ZXInOiBbXSxcclxuICAgICAgICAgICAgJ21vdXNlLWxlYXZlJzogW10sXHJcbiAgICAgICAgICAgICdzY3JvbGwtaW4nOiBbXSxcclxuICAgICAgICAgICAgJ3Njcm9sbC1vdXQnOiBbXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgJ3NoYXBlJyA9IFt7XHJcbiAgICAgICAgICAgICdzaGFwZS0xJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0xLXNpemUnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTEtYmFja2dyb3VuZCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMS16SW5kZXgnOiAnJyxcclxuXHJcbiAgICAgICAgICAgICdzaGFwZS0xLW1vdXNlLWVudGVyJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0xLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMS1tb3VzZS1lbnRlci1hbmltYXRpb24tZGVsYXknOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTEtbW91c2UtZW50ZXItYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6ICcnLFxyXG5cclxuICAgICAgICAgICAgJ3NoYXBlLTEtbW91c2UtbGVhdmUnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTEtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0xLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1kZWxheSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMS1tb3VzZS1sZWF2ZS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogJycsXHJcblxyXG4gICAgICAgICAgICAnc2hhcGUtMS1jbGljayc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMS1jbGljay1hbmltYXRpb24tZHVyYXRpb24nOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTEtY2xpY2stYW5pbWF0aW9uLWRlbGF5JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0xLWNsaWNrLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiAnJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAnc2hhcGUtMic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMi1zaXplJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0yLWJhY2tncm91bmQnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTItekluZGV4JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0yLW1vdXNlLWVudGVyJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0yLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMi1tb3VzZS1lbnRlci1hbmltYXRpb24tZGVsYXknOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTItbW91c2UtZW50ZXItYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMi1tb3VzZS1sZWF2ZSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMi1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZHVyYXRpb24nOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTItbW91c2UtbGVhdmUtYW5pbWF0aW9uLWRlbGF5JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0yLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTItY2xpY2snOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTItY2xpY2stYW5pbWF0aW9uLWR1cmF0aW9uJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0yLWNsaWNrLWFuaW1hdGlvbi1kZWxheSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMi1jbGljay1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogJycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgICdzaGFwZS0zJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0zLXNpemUnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTMtYmFja2dyb3VuZCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMy16SW5kZXgnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTMtbW91c2UtZW50ZXInOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTMtbW91c2UtZW50ZXItYW5pbWF0aW9uLWR1cmF0aW9uJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0zLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kZWxheSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMy1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0zLW1vdXNlLWxlYXZlJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0zLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1kdXJhdGlvbic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMy1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXknOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTMtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMy1jbGljayc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMy1jbGljay1hbmltYXRpb24tZHVyYXRpb24nOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTMtY2xpY2stYW5pbWF0aW9uLWRlbGF5JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0zLWNsaWNrLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiAnJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAnc2hhcGUtNCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNC1zaXplJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS00LWJhY2tncm91bmQnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTQtekluZGV4JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS00LW1vdXNlLWVudGVyJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS00LW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNC1tb3VzZS1lbnRlci1hbmltYXRpb24tZGVsYXknOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTQtbW91c2UtZW50ZXItYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNC1tb3VzZS1sZWF2ZSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNC1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZHVyYXRpb24nOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTQtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWRlbGF5JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS00LW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTQtY2xpY2snOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTQtY2xpY2stYW5pbWF0aW9uLWR1cmF0aW9uJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS00LWNsaWNrLWFuaW1hdGlvbi1kZWxheSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNC1jbGljay1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogJydcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJ3NoYXBlLTUnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTUtc2l6ZSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNS1iYWNrZ3JvdW5kJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS01LXpJbmRleCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNS1tb3VzZS1lbnRlcic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNS1tb3VzZS1lbnRlci1hbmltYXRpb24tZHVyYXRpb24nOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTUtbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS01LW1vdXNlLWVudGVyLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTUtbW91c2UtbGVhdmUnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTUtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS01LW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1kZWxheSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNS1tb3VzZS1sZWF2ZS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS01LWNsaWNrJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS01LWNsaWNrLWFuaW1hdGlvbi1kdXJhdGlvbic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNS1jbGljay1hbmltYXRpb24tZGVsYXknOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTQtY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6ICcnXHJcbiAgICAgICAgfV07XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2hhcGVTY2FsZSA9IHtcclxuICAgICAgICAgICAgJ3hzJzoge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDMwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAzMFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc20nOiB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNDUsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQ1XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdtZCc6IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA2MCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogNjBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2xnJzoge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDc1LFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA3NVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAneGwnOiB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogOTAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDkwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIGNyZWF0ZUhleGFnb24gPSAoc2hhcGVDb25maWc6IE9iamVjdCwgc2hhcGVMYXllck51bTogbnVtYmVyKSA6IFNWR0VsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAvLyBlbGVtZW50IHNpemUvY2VudGVyaW5nXHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlU2l6ZTogICAgICAgIHN0cmluZyAgPSBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1zaXplYF0ubGVuZ3RoID8gc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tc2l6ZWBdIDogJ3hzJztcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVTY2FsZVg6ICAgICAgbnVtYmVyICA9IHRoaXMuc2hhcGVTY2FsZVtzaGFwZVNpemVdWyd3aWR0aCddO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZVNwYWNpbmdYOiAgICBudW1iZXIgID0gc2hhcGVTY2FsZVggLyAxMDtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVTY2FsZVk6ICAgICAgbnVtYmVyICA9IHRoaXMuc2hhcGVTY2FsZVtzaGFwZVNpemVdWydoZWlnaHQnXTtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVTcGFjaW5nWTogICAgbnVtYmVyICA9IHNoYXBlU2NhbGVZIC8gMTA7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlV2lkdGg6ICAgICAgIG51bWJlciAgPSBzaGFwZVNjYWxlWCArIChzaGFwZVNwYWNpbmdYICogMik7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlSGVpZ2h0OiAgICAgIG51bWJlciAgPSBzaGFwZVNjYWxlWSArIChzaGFwZVNwYWNpbmdZICogMik7XHJcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gdXNlIG5lZ2F0aXZlIG1hcmdpbnMgaGVyZVxyXG4gICAgICAgICAgICBjb25zdCBzaGFwZU1hcmdpbkxlZnQgPSBgJHsoKHNoYXBlU2NhbGVYIC8gMikgKyBzaGFwZVNwYWNpbmdYKSAqIC0xfWA7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlTWFyZ2luVG9wID0gYCR7KChzaGFwZVNjYWxlWSAvIDIpICsgc2hhcGVTcGFjaW5nWSkgKiAtMX1gO1xyXG4gICAgICAgICAgICAvLyBhbmltYXRpb24gY2xhc3MgbmFtZXNcclxuICAgICAgICAgICAgY29uc3QgY2xpY2tBbmltYXRpb25OYW1lID0gc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tY2xpY2tgXTtcclxuICAgICAgICAgICAgY29uc3QgbW91c2VFbnRlckFuaW1hdGlvbk5hbWUgPSBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1tb3VzZS1lbnRlcmBdO1xyXG4gICAgICAgICAgICBjb25zdCBtb3VzZUxlYXZlQW5pbWF0aW9uTmFtZSA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LW1vdXNlLWxlYXZlYF07XHJcblxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIHN2Z1xyXG4gICAgICAgICAgICBsZXQgc3ZnSGV4YWdvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjbGlja0NsYXNzID0gY2xpY2tBbmltYXRpb25OYW1lLmxlbmd0aCA/IGBzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LWNsaWNrLSR7Y2xpY2tBbmltYXRpb25OYW1lfWAgOiAnJztcclxuICAgICAgICAgICAgY29uc3QgbW91c2VFbnRlckNsYXNzID0gbW91c2VFbnRlckFuaW1hdGlvbk5hbWUubGVuZ3RoID8gYHNoYXBlLSR7c2hhcGVMYXllck51bX0tbW91c2UtZW50ZXItJHttb3VzZUVudGVyQW5pbWF0aW9uTmFtZX1gIDogJyc7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlTGVhdmVDbGFzcyA9IG1vdXNlTGVhdmVBbmltYXRpb25OYW1lLmxlbmd0aCA/IGBzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LW1vdXNlLWxlYXZlLSR7bW91c2VMZWF2ZUFuaW1hdGlvbk5hbWV9YCA6ICcnO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3ZnSGV4YWdvbkNsYXNzZXMgPSBgJHtjbGlja0NsYXNzfSAke21vdXNlRW50ZXJDbGFzc30gJHttb3VzZUxlYXZlQ2xhc3N9YDtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBzdmcgY2xhc3Nlc1xyXG4gICAgICAgICAgICBzdmdIZXhhZ29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBzdmdIZXhhZ29uQ2xhc3Nlcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgc3ZnIGF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgc3ZnSGV4YWdvbi5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCIsIFwieG1sbnM6eGxpbmtcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgc3ZnSGV4YWdvbi5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCBgMCAwICR7c2hhcGVTY2FsZVgvMn0gJHtzaGFwZVNjYWxlWS8yfWApO1xyXG4gICAgICAgICAgICBzdmdIZXhhZ29uLnNldEF0dHJpYnV0ZSgnZmlsbCcsIHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LWJhY2tncm91bmRgXSk7XHJcbiAgICAgICAgICAgIHN2Z0hleGFnb24uc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcclxuICAgICAgICAgICAgc3ZnSGV4YWdvbi5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsIGAke3NoYXBlU2NhbGVZLzEwMH1weGApO1xyXG5cclxuICAgICAgICAgICAgLy8gc2l6aW5nL2NlbnRlcmluZ1xyXG4gICAgICAgICAgICBzdmdIZXhhZ29uLnNldEF0dHJpYnV0ZSgnei1pbmRleCcsIHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LXpJbmRleGBdKTtcclxuICAgICAgICAgICAgc3ZnSGV4YWdvbi5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgYCR7KHNoYXBlU2NhbGVYKSArIChzaGFwZVNwYWNpbmdYKjIpfXB4YCk7XHJcbiAgICAgICAgICAgIHN2Z0hleGFnb24uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBgJHsoc2hhcGVTY2FsZVkpICsgKHNoYXBlU3BhY2luZ1kqMil9cHhgKTtcclxuXHJcbiAgICAgICAgICAgIHN2Z0hleGFnb24uc2V0QXR0cmlidXRlKCdzdHlsZScsIGBtYXJnaW4tbGVmdDogJHtzaGFwZU1hcmdpbkxlZnR9cHg7IG1hcmdpbi10b3A6ICR7c2hhcGVNYXJnaW5Ub3B9cHg7YCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIHBvbHkgaGV4YWdvblxyXG4gICAgICAgICAgICBsZXQgcG9seUhleGFnb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BvbHlnb24nKTtcclxuICAgICAgICAgICAgY29uc3QgcHRNdWx0aXBsaWVyWCA9IHNoYXBlU2NhbGVYIC8xMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHB0TXVsdGlwbGllclkgPSBzaGFwZVNjYWxlWSAvMTAwO1xyXG4gICAgICAgICAgICBjb25zdCBwb2x5UHRzID0gW1xyXG4gICAgICAgICAgICAgICAgYCR7NDYgKiBwdE11bHRpcGxpZXJYfSAkezM3LjUgKiBwdE11bHRpcGxpZXJZfWAsXHJcbiAgICAgICAgICAgICAgICBgJHsyNSAqIHB0TXVsdGlwbGllclh9ICR7NDYgKiBwdE11bHRpcGxpZXJZfWAsXHJcbiAgICAgICAgICAgICAgICBgJHs0ICogcHRNdWx0aXBsaWVyWH0gJHszNy41ICogcHRNdWx0aXBsaWVyWX1gLFxyXG4gICAgICAgICAgICAgICAgYCR7NCAqIHB0TXVsdGlwbGllclh9ICR7MTIuNSAqIHB0TXVsdGlwbGllcll9YCxcclxuICAgICAgICAgICAgICAgIGAkezI1ICogcHRNdWx0aXBsaWVyWH0gJHs0ICogcHRNdWx0aXBsaWVyWX1gLFxyXG4gICAgICAgICAgICAgICAgYCR7NDYgKiBwdE11bHRpcGxpZXJYfSAkezEyLjUgKiBwdE11bHRpcGxpZXJZfWBcclxuICAgICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICAgIHBvbHlIZXhhZ29uLnNldEF0dHJpYnV0ZU5TKG51bGwsICdwb2ludHMnLCBwb2x5UHRzLmpvaW4oJywgJykpO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVjdCBwb2x5Z29uIHRvIHN2Z1xyXG4gICAgICAgICAgICBzdmdIZXhhZ29uLmFwcGVuZENoaWxkKHBvbHlIZXhhZ29uKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzdmdIZXhhZ29uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVDaXJjbGUgPSAoc2hhcGVDb25maWc6IE9iamVjdCwgc2hhcGVMYXllck51bTogbnVtYmVyKSA6IFNWR0VsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAvLyBlbGVtZW50IHNpemUvY2VudGVyaW5nXHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlU2l6ZTogICAgIHN0cmluZyAgPSBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1zaXplYF0ubGVuZ3RoID8gc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tc2l6ZWBdIDogJ3hzJztcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVTY2FsZVg6ICAgbnVtYmVyICA9IHRoaXMuc2hhcGVTY2FsZVtzaGFwZVNpemVdWyd3aWR0aCddICogMS4xNDsgLy8gYWRqdXN0aW5nIHNpemUgb2YgY2lyY2xlcyBieSAxNSVcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVTcGFjaW5nWDogbnVtYmVyICA9IHNoYXBlU2NhbGVYIC8gMTA7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlU2NhbGVZOiAgIG51bWJlciAgPSB0aGlzLnNoYXBlU2NhbGVbc2hhcGVTaXplXVsnaGVpZ2h0J10gKiAxLjE0OyAvLyBhZGp1c3Rpbmcgc2l6ZSBvZiBjaXJjbGVzIGJ5IDE1JVxyXG4gICAgICAgICAgICBjb25zdCBzaGFwZVNwYWNpbmdZOiBudW1iZXIgID0gc2hhcGVTY2FsZVkgLyAxMDtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVXaWR0aDogICAgbnVtYmVyICA9IHNoYXBlU2NhbGVYICsgKHNoYXBlU3BhY2luZ1ggKiAyKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVIZWlnaHQ6ICAgbnVtYmVyICA9IHNoYXBlU2NhbGVZICsgKHNoYXBlU3BhY2luZ1kgKiAyKTtcclxuICAgICAgICAgICAgLy8gbmVlZCB0byB1c2UgbmVnYXRpdmUgbWFyZ2lucyBoZXJlXHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlTWFyZ2luTGVmdDogbnVtYmVyID0gKChzaGFwZVNjYWxlWCAvIDIpICsgc2hhcGVTcGFjaW5nWCkgKiAtMTtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVNYXJnaW5Ub3A6ICBudW1iZXIgPSAoKHNoYXBlU2NhbGVZIC8gMikgKyBzaGFwZVNwYWNpbmdZKSAqIC0xO1xyXG4gICAgICAgICAgICAvLyBhbmltYXRpb24gY2xhc3MgbmFtZXNcclxuICAgICAgICAgICAgY29uc3QgY2xpY2tBbmltYXRpb25OYW1lID0gc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tY2xpY2tgXTtcclxuICAgICAgICAgICAgY29uc3QgbW91c2VFbnRlckFuaW1hdGlvbk5hbWUgPSBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1tb3VzZS1lbnRlcmBdO1xyXG4gICAgICAgICAgICBjb25zdCBtb3VzZUxlYXZlQW5pbWF0aW9uTmFtZSA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LW1vdXNlLWxlYXZlYF07XHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgc3ZnXHJcbiAgICAgICAgICAgIGxldCBzdmdDaWNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjbGlja0NsYXNzID0gY2xpY2tBbmltYXRpb25OYW1lLmxlbmd0aCA/IGBzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LWNsaWNrLSR7Y2xpY2tBbmltYXRpb25OYW1lfWAgOiAnJztcclxuICAgICAgICAgICAgY29uc3QgbW91c2VFbnRlckNsYXNzID0gbW91c2VFbnRlckFuaW1hdGlvbk5hbWUubGVuZ3RoID8gYHNoYXBlLSR7c2hhcGVMYXllck51bX0tbW91c2UtZW50ZXItJHttb3VzZUVudGVyQW5pbWF0aW9uTmFtZX1gIDogJyc7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlTGVhdmVDbGFzcyA9IG1vdXNlTGVhdmVBbmltYXRpb25OYW1lLmxlbmd0aCA/IGBzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LW1vdXNlLWxlYXZlLSR7bW91c2VMZWF2ZUFuaW1hdGlvbk5hbWV9YCA6ICcnO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3ZnQ2ljbGVDbGFzc2VzID0gYCR7Y2xpY2tDbGFzc30gJHttb3VzZUVudGVyQ2xhc3N9ICR7bW91c2VMZWF2ZUNsYXNzfWA7XHJcblxyXG4gICAgICAgICAgICAvLyBhZGQgc3ZnIGNsYXNzZXNcclxuICAgICAgICAgICAgc3ZnQ2ljbGUuc2V0QXR0cmlidXRlKCdjbGFzcycsIHN2Z0NpY2xlQ2xhc3Nlcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgc3ZnIGF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgc3ZnQ2ljbGUuc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiLCBcInhtbG5zOnhsaW5rXCIsIFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHN2Z0NpY2xlLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIGAwIDAgJHtzaGFwZVNjYWxlWC8yfSAke3NoYXBlU2NhbGVZLzJ9YCk7XHJcbiAgICAgICAgICAgIHN2Z0NpY2xlLnNldEF0dHJpYnV0ZSgnZmlsbCcsIHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LWJhY2tncm91bmRgXSk7XHJcbiAgICAgICAgICAgIHN2Z0NpY2xlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XHJcbiAgICAgICAgICAgIHN2Z0NpY2xlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgYCR7c2hhcGVTY2FsZVkvMTAwfXB4YCk7XHJcblxyXG4gICAgICAgICAgICAvLyBzaXppbmcvY2VudGVyaW5nXHJcbiAgICAgICAgICAgIHN2Z0NpY2xlLnNldEF0dHJpYnV0ZSgnei1pbmRleCcsIHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LXpJbmRleGBdKTtcclxuICAgICAgICAgICAgc3ZnQ2ljbGUuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGAkeyhzaGFwZVNjYWxlWCkgKyAoc2hhcGVTcGFjaW5nWCoyKX1weGApO1xyXG4gICAgICAgICAgICBzdmdDaWNsZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGAkeyhzaGFwZVNjYWxlWSkgKyAoc2hhcGVTcGFjaW5nWSoyKX1weGApO1xyXG5cclxuICAgICAgICAgICAgc3ZnQ2ljbGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGBtYXJnaW4tbGVmdDogJHtzaGFwZU1hcmdpbkxlZnR9cHg7IG1hcmdpbi10b3A6ICR7c2hhcGVNYXJnaW5Ub3B9cHg7YCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIHNxdWFyZSByZWN0XHJcbiAgICAgICAgICAgIGxldCBwb2x5Q2lyY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdlbGxpcHNlJyk7XHJcbiAgICAgICAgICAgIHBvbHlDaXJjbGUuc2V0QXR0cmlidXRlKCdmaWxsJywgc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tYmFja2dyb3VuZGBdKTtcclxuICAgICAgICAgICAgY29uc3QgY2VudGVyaW5nTXVsaXBsaWVyID0gMC4yODsgXHJcbiAgICAgICAgICAgIHBvbHlDaXJjbGUuc2V0QXR0cmlidXRlKCdjeCcsIGAkeyhzaGFwZVNjYWxlWCpjZW50ZXJpbmdNdWxpcGxpZXIpIC0gKHNoYXBlU3BhY2luZ1gqY2VudGVyaW5nTXVsaXBsaWVyKX1gKTtcclxuICAgICAgICAgICAgcG9seUNpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N5JywgYCR7KHNoYXBlU2NhbGVZKmNlbnRlcmluZ011bGlwbGllcikgLSAoc2hhcGVTcGFjaW5nWSpjZW50ZXJpbmdNdWxpcGxpZXIpfWApO1xyXG4gICAgICAgICAgICBwb2x5Q2lyY2xlLnNldEF0dHJpYnV0ZSgncngnLCBgJHtzaGFwZVNjYWxlWCAvIDV9YCk7XHJcbiAgICAgICAgICAgIHBvbHlDaXJjbGUuc2V0QXR0cmlidXRlKCdyeScsIGAke3NoYXBlU2NhbGVZIC8gNX1gKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlY3QgcG9seWdvbiB0byBzdmdcclxuICAgICAgICAgICAgc3ZnQ2ljbGUuYXBwZW5kQ2hpbGQocG9seUNpcmNsZSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc3ZnQ2ljbGU7XHJcbiAgICAgICAgfVxyXG4gXHJcbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVTcXVhcmUgPSAoc2hhcGVDb25maWc6IE9iamVjdCwgc2hhcGVMYXllck51bTogbnVtYmVyKSA6IFNWR0VsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAvLyBlbGVtZW50IHNpemUvY2VudGVyaW5nXHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlU2l6ZTogICAgc3RyaW5nICA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LXNpemVgXS5sZW5ndGggPyBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1zaXplYF0gOiAneHMnO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZVNjYWxlWDogICBudW1iZXIgID0gdGhpcy5zaGFwZVNjYWxlW3NoYXBlU2l6ZV1bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlU3BhY2luZ1g6IG51bWJlciAgPSBzaGFwZVNjYWxlWCAvIDEwO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZVdpZHRoOiAgIG51bWJlciAgPSBzaGFwZVNjYWxlWCArIChzaGFwZVNwYWNpbmdYICogMik7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlU2NhbGVZOiAgIG51bWJlciAgPSB0aGlzLnNoYXBlU2NhbGVbc2hhcGVTaXplXVsnaGVpZ2h0J107XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlU3BhY2luZ1k6IG51bWJlciAgPSBzaGFwZVNjYWxlWSAvIDEwO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZUhlaWdodDogIG51bWJlciAgPSBzaGFwZVNjYWxlWSArIChzaGFwZVNwYWNpbmdZICogMik7XHJcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gdXNlIG5lZ2F0aXZlIG1hcmdpbnMgaGVyZVxyXG4gICAgICAgICAgICBjb25zdCBzaGFwZU1hcmdpbkxlZnQgPSBgJHsoKHNoYXBlU2NhbGVYIC8gMikgKyBzaGFwZVNwYWNpbmdYKSAqIC0xfWA7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlTWFyZ2luVG9wID0gYCR7KChzaGFwZVNjYWxlWSAvIDIpICsgc2hhcGVTcGFjaW5nWSkgKiAtMX1gO1xyXG4gICAgICAgICAgICAvLyBhbmltYXRpb24gY2xhc3MgbmFtZXNcclxuICAgICAgICAgICAgY29uc3QgY2xpY2tBbmltYXRpb25OYW1lID0gc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tY2xpY2tgXTtcclxuICAgICAgICAgICAgY29uc3QgbW91c2VFbnRlckFuaW1hdGlvbk5hbWUgPSBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1tb3VzZS1lbnRlcmBdO1xyXG4gICAgICAgICAgICBjb25zdCBtb3VzZUxlYXZlQW5pbWF0aW9uTmFtZSA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LW1vdXNlLWxlYXZlYF07XHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgc3ZnXHJcbiAgICAgICAgICAgIGxldCBzdmdTcXVhcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY2xpY2tDbGFzcyA9IGNsaWNrQW5pbWF0aW9uTmFtZS5sZW5ndGggPyBgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1jbGljay0ke2NsaWNrQW5pbWF0aW9uTmFtZX1gIDogJyc7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlRW50ZXJDbGFzcyA9IG1vdXNlRW50ZXJBbmltYXRpb25OYW1lLmxlbmd0aCA/IGBzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LW1vdXNlLWVudGVyLSR7bW91c2VFbnRlckFuaW1hdGlvbk5hbWV9YCA6ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBtb3VzZUxlYXZlQ2xhc3MgPSBtb3VzZUxlYXZlQW5pbWF0aW9uTmFtZS5sZW5ndGggPyBgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1tb3VzZS1sZWF2ZS0ke21vdXNlTGVhdmVBbmltYXRpb25OYW1lfWAgOiAnJztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHN2Z1NxdWFyZUNsYXNzZXMgPSBgJHtjbGlja0NsYXNzfSAke21vdXNlRW50ZXJDbGFzc30gJHttb3VzZUxlYXZlQ2xhc3N9YDtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBzdmcgY2xhc3Nlc1xyXG4gICAgICAgICAgICBzdmdTcXVhcmUuc2V0QXR0cmlidXRlKCdjbGFzcycsIHN2Z1NxdWFyZUNsYXNzZXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gc2V0IHN2ZyBhdHRyaWJ1dGVzXHJcbiAgICAgICAgICAgIHN2Z1NxdWFyZS5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCIsIFwieG1sbnM6eGxpbmtcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgc3ZnU3F1YXJlLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIGAwIDAgJHtzaGFwZVNjYWxlWC8yfSAke3NoYXBlU2NhbGVZLzJ9YCk7XHJcbiAgICAgICAgICAgIHN2Z1NxdWFyZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1iYWNrZ3JvdW5kYF0pO1xyXG4gICAgICAgICAgICBzdmdTcXVhcmUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcclxuICAgICAgICAgICAgc3ZnU3F1YXJlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgYCR7c2hhcGVTY2FsZVkvMTAwfXB4YCk7XHJcblxyXG4gICAgICAgICAgICAvLyBzaXppbmcvY2VudGVyaW5nXHJcbiAgICAgICAgICAgIHN2Z1NxdWFyZS5zZXRBdHRyaWJ1dGUoJ3otaW5kZXgnLCBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS16SW5kZXhgXSk7XHJcbiAgICAgICAgICAgIHN2Z1NxdWFyZS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgYCR7KHNoYXBlU2NhbGVYKSArIChzaGFwZVNwYWNpbmdYKjIpfXB4YCk7XHJcbiAgICAgICAgICAgIHN2Z1NxdWFyZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGAkeyhzaGFwZVNjYWxlWSkgKyAoc2hhcGVTcGFjaW5nWSoyKX1weGApO1xyXG5cclxuICAgICAgICAgICAgc3ZnU3F1YXJlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgbWFyZ2luLWxlZnQ6ICR7c2hhcGVNYXJnaW5MZWZ0fXB4OyBtYXJnaW4tdG9wOiAke3NoYXBlTWFyZ2luVG9wfXB4O2ApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBzcXVhcmUgcmVjdFxyXG4gICAgICAgICAgICBsZXQgcG9seVNxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncmVjdCcpO1xyXG4gICAgICAgICAgICBwb2x5U3F1YXJlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBgJHsoc2hhcGVXaWR0aC8yKSAtIChzaGFwZVNwYWNpbmdYKjIpfWApO1xyXG4gICAgICAgICAgICBwb2x5U3F1YXJlLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgYCR7KHNoYXBlSGVpZ2h0LzIpIC0gKHNoYXBlU3BhY2luZ1kqMil9YCk7XHJcbiAgICAgICAgICAgIHBvbHlTcXVhcmUuc2V0QXR0cmlidXRlKCd4JywgYCR7c2hhcGVTcGFjaW5nWC8yfWApO1xyXG4gICAgICAgICAgICBwb2x5U3F1YXJlLnNldEF0dHJpYnV0ZSgneScsIGAke3NoYXBlU3BhY2luZ1kvMn1gKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlY3QgcG9seWdvbiB0byBzdmdcclxuICAgICAgICAgICAgc3ZnU3F1YXJlLmFwcGVuZENoaWxkKHBvbHlTcXVhcmUpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHN2Z1NxdWFyZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgcGFyc2VCdG5BdHRyaWJ1dGVzID0gKGJ0bkVsZW1lbnQ6IEVsZW1lbnQsIGJ0blByZWZpeDogc3RyaW5nKSA6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhUHJlZml4ID0gJ2RhdGEtJztcclxuICAgICAgICAgICAgY29uc3QgYnRuQXR0cmlicyA9IGJ0bkVsZW1lbnQuYXR0cmlidXRlcztcclxuICAgICAgICAgICAgbGV0IGtleU5hbWU7XHJcbiAgICAgICAgICAgIGxldCBoYXNEYXRhUHJlZml4O1xyXG4gICAgICAgICAgICBsZXQgaGFzQnRuUHJlZml4O1xyXG4gICAgICAgICAgICBsZXQgaGFzTnVtYmVyO1xyXG4gICAgICAgICAgICBsZXQgaW5kZXhPZk51bTtcclxuICAgICAgICAgICAgbGV0IGtleU5hbWVPZlNoYXBlO1xyXG4gICAgICAgICAgICBsZXQgaW5kZXhPZlNoYXBlO1xyXG5cclxuICAgICAgICAgICAgZm9yKGxldCBrZXlJbmRleCA9IDA7IGtleUluZGV4IDwgYnRuQXR0cmlicy5sZW5ndGg7IGtleUluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIGtleU5hbWUgPSBidG5BdHRyaWJzW2tleUluZGV4XS5uYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChrZXlOYW1lID09ICdsZW5ndGgnKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBoYXNEYXRhUHJlZml4ID0ga2V5TmFtZS5pbmRleE9mKGRhdGFQcmVmaXgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhc0RhdGFQcmVmaXggIT0gLTEpIGtleU5hbWUgPSBrZXlOYW1lLnN1YnN0cmluZyhkYXRhUHJlZml4Lmxlbmd0aCwga2V5TmFtZS5sZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGhhc0J0blByZWZpeCA9IGtleU5hbWUuaW5kZXhPZihidG5QcmVmaXgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhc0J0blByZWZpeCAhPSAtMSkga2V5TmFtZSA9IGtleU5hbWUuc3Vic3RyaW5nKGJ0blByZWZpeC5sZW5ndGgrMSwga2V5TmFtZS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBoYXNOdW1iZXIgPSBrZXlOYW1lLm1hdGNoKC9cXGQrL2cpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhc051bWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4T2ZTaGFwZSA9IHBhcnNlRmxvYXQoaGFzTnVtYmVyWzBdKS0xO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFwZVtpbmRleE9mU2hhcGVdW2tleU5hbWVdICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYXBlW2luZGV4T2ZTaGFwZV1ba2V5TmFtZV0gPSBidG5BdHRyaWJzW2tleUluZGV4XS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFwZVtpbmRleE9mU2hhcGVdW2BzaGFwZS0ke2luZGV4T2ZTaGFwZSsxfS16SW5kZXhgXSA9IGluZGV4T2ZTaGFwZSsxO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zaGFwZVtpbmRleE9mU2hhcGVdW2tleU5hbWVdID09IHVuZGVmaW5lZCAmJiBoYXNCdG5QcmVmaXggIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnU3dlZXRCdXR0b246ICcsIGtleU5hbWUsICdpcyBub3Qgc3VwcG9ydGVkLCB0aGUgbWF4aW11bSBudW1iZXIgb2YgbGF5ZXJlZCBzaGFwZXMgaXMgNS4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXNba2V5TmFtZV0gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1trZXlOYW1lXSA9IGJ0bkF0dHJpYnNba2V5SW5kZXhdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzW2tleU5hbWVdID09IHVuZGVmaW5lZCAmJiBoYXNCdG5QcmVmaXggIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTd2VldEJ1dHRvbjogJywga2V5TmFtZSwgJ2lzIG5vdCBzdXBwb3J0ZWQsIHBsZWFzZSB2aXNpdCB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgYSBjb21wbGV0ZSBsaXN0IG9mIHZhbGlkIGF0dHJpYnV0ZXMuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIEFkZFN0YXRpY1N0eWxlcyhidG5QcmVmaXg6IHN0cmluZyA9ICdzd2VldC1idG4nKSA6IHZvaWQge1xyXG4gICAgICAgICAgICBjb25zdCBidG5TdHlsZVNoZWV0SWQgPSBgJHtidG5QcmVmaXh9LXN0eWxlc2A7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VIZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xyXG4gICAgICAgICAgICBsZXQgYnRuU3R5bGVTaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcbiAgICAgICAgICAgIGJ0blN0eWxlU2hlZXQuc2V0QXR0cmlidXRlKCdyZWwnLCAnc3R5bGVzaGVldCcpO1xyXG4gICAgICAgICAgICBidG5TdHlsZVNoZWV0LnNldEF0dHJpYnV0ZSgnbWVkaWEnLCAnb25seSBzY3JlZW4nKTtcclxuICAgICAgICAgICAgYnRuU3R5bGVTaGVldC5zZXRBdHRyaWJ1dGUoJ2lkJywgYnRuU3R5bGVTaGVldElkKTtcclxuICAgICAgICAgICAgYnRuU3R5bGVTaGVldC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGVsZW1lbnQgc3R5bGVzXHJcbiAgICAgICAgICAgIGxldCBidG5Dc3NUZXh0ID0gYCAgICAgICAgICAuJHtidG5QcmVmaXh9IHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogdGV4dDtcclxuICAgICAgICAgICAgICAgIHVzZXItc2VsZWN0OiB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogdGV4dDtcclxuICAgICAgICAgICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAtby11c2VyLXNlbGVjdDogdGV4dDtcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC4ke2J0blByZWZpeH0gLiR7YnRuUHJlZml4fS13cmFwIHN2ZyB7XHJcbiAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgLXdlYmtpdC1iYWNrLWZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgei1pbmRleDogMTAwO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgbGVmdDo1MCU7XHJcbiAgICAgICAgICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICAgICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTogYm90aDtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi1maWxsLW1vZGU6IGJvdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC4ke2J0blByZWZpeH0gLiR7YnRuUHJlZml4fS13cmFwIHN2ZyByZWN0LFxyXG4gICAgICAgICAgICAuJHtidG5QcmVmaXh9IC4ke2J0blByZWZpeH0td3JhcCBzdmcgY2lyY2xlLFxyXG4gICAgICAgICAgICAuJHtidG5QcmVmaXh9IC4ke2J0blByZWZpeH0td3JhcCBzdmcgcG9seWdvbixcclxuICAgICAgICAgICAgLiR7YnRuUHJlZml4fSAuJHtidG5QcmVmaXh9LXdyYXAgc3ZnIGVsaXBzaXMge1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC4ke2J0blByZWZpeH0gLiR7YnRuUHJlZml4fS13cmFwIGkge1xyXG4gICAgICAgICAgICAgICAgei1pbmRleDogMTUwO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgbGVmdDogNTAlO1xyXG4gICAgICAgICAgICAgICAgdG9wOiA1MCU7XHJcbiAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuXHJcbiAgICAgICAgICAgICAgICAtd2Via2l0LXRleHQtc3Ryb2tlLWNvbG9yOiBibGFjaztcclxuICAgICAgICAgICAgICAgIC13ZWJraXQtdGV4dC1zdHJva2Utd2lkdGg6IDAuNXB4O1xyXG4gICAgICAgICAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC4ke2J0blByZWZpeH0gLiR7YnRuUHJlZml4fS1pbm5lci10ZXh0IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMTUwO1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6IHByZTtcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlci1zZWxlY3Q6IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAtbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIC1tcy11c2VyLXNlbGVjdDogdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAtby11c2VyLXNlbGVjdDogdGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBgO1xyXG5cclxuICAgICAgICAgICAgYnRuU3R5bGVTaGVldC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShidG5Dc3NUZXh0KSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL2FkZCA8c3RsZT4gZWxlbSB0byB0aGUgcGFnZVxyXG4gICAgICAgICAgICBwYWdlSGVhZC5hcHBlbmRDaGlsZChidG5TdHlsZVNoZWV0KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGNyZWF0ZVNoYXBlcyA9IChkaXZDb250YWluZXI6IEhUTUxFbGVtZW50KSA6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAvLyBwYXJzZSBlbGVtIGZvciBldmVudHMgaGVyZVxyXG4gICAgICAgICAgICBjb25zdCBkZWZFdmVudEFuaW1hdGlvbkNsYXNzOiAgICAgICAgICAgc3RyaW5nID0gJyc7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZkV2ZW50QW5pbWF0aW9uRHVyYXRpb246ICAgICAgICBudW1iZXIgPSAxMDAwOyAvLyAxc1xyXG4gICAgICAgICAgICBjb25zdCBkZWZFdmVudEFuaW1hdGlvbkRlbGF5OiAgICAgICAgICAgbnVtYmVyID0gMDsgLy8gbm8gZGVsYXk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZkV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ICBudW1iZXIgPSAxO1xyXG4gICAgICAgICAgICBsZXQgZXZlbnRBbmltYXRpb25DbGFzcztcclxuICAgICAgICAgICAgbGV0IGV2ZW50QW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgICAgIGxldCBldmVudEFuaW1hdGlvbkRlbGF5O1xyXG4gICAgICAgICAgICBsZXQgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudDtcclxuICAgICAgICAgICAgbGV0IGFjdGl2ZUNsYXNzQ291bnQ7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodGhpc1snc2Nyb2xsLW91dCddKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRJdGVtOiAgICAgICAgICAgICAgICAgIE9iamVjdCA9IHsgYWN0aXZlQ2xhc3NDb3VudDoge30gfTtcclxuICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgICAgICAgPSB0aGlzW2BzY3JvbGwtb3V0YF07XHJcbiAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID0gdGhpc1tgc2Nyb2xsLW91dC1hbmltYXRpb24tZHVyYXRpb25gXTtcclxuICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgPSB0aGlzW2BzY3JvbGwtb3V0LWFuaW1hdGlvbi1kZWxheWBdO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICA9IHRoaXNbYHNjcm9sbC1vdXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudGBdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNldCBsYXN0IHNjcm9sbGVkIHRvIDBcclxuICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnc2Nyb2xsT3V0TGFzdFBvcyddID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ3NlbGVjdG9yJ10gICAgICAgICAgID0gYHNjcm9sbC1vdXQtJHtldmVudEFuaW1hdGlvbkNsYXNzfWA7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZGlzYWJsZSBpbmZpbml0ZSBhbmltYXRpb25zIGFzIHRoZXkgYXJlIGEgcGFpbiB0byBoYW5kbGUgKGxpa2UgZG8gd2UgcmVhbGx5IHdhbnQgdG8gYWxsb3cgaW5maW5pdGUgYW5pbWF0aW9ucyBvbiBhIG1vdXNlLW91dCBldmVudD8pXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9PSAnaW5maW5pdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTd2VldEJ1dHRvbjogXCJpbmZpbml0ZVwiIGlzIG5vdCBzdXBwb3J0ZWQgYXMgYW4gYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCBwcm9wZXJ0eS4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50YF0gICAgID0gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICA/IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ10gICAgICAgICAgICAgID0gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA/IGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgICAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uQ2xhc3M7XHJcbiAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ2FuaW1hdGlvbkR1cmF0aW9uJ10gICAgICAgICAgID0gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgICAgICA/IGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgICAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkRlbGF5YF0gICAgICAgICAgICAgID0gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICAgICAgICA/IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRGVsYXk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnc2Nyb2xsLW91dCddLnB1c2goZXZlbnRJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBsZXQncyBwYXJzZSB0aGlzIGZvciBvdGhlciBldmVudHNcclxuICAgICAgICAgICAgaWYgKHRoaXNbJ3Njcm9sbC1pbiddKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRJdGVtOiAgICAgICAgICAgICAgICAgIE9iamVjdCA9IHsgYWN0aXZlQ2xhc3NDb3VudDoge30gfTtcclxuICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgICAgICAgPSB0aGlzW2BzY3JvbGwtaW5gXTtcclxuICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgICAgICAgPSB0aGlzW2BzY3JvbGwtaW4tYW5pbWF0aW9uLWR1cmF0aW9uYF07XHJcbiAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgID0gdGhpc1tgc2Nyb2xsLWluLWFuaW1hdGlvbi1kZWxheWBdO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICA9IHRoaXNbYHNjcm9sbC1pbi1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2V0IGxhc3Qgc2Nyb2xsZWQgdG8gMFxyXG4gICAgICAgICAgICAgICAgZXZlbnRJdGVtWydzY3JvbGxJbkxhc3RQb3MnXSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgZXZlbnRJdGVtWydzZWxlY3RvciddICAgICAgICAgICA9IGBzY3JvbGwtaW4tJHtldmVudEFuaW1hdGlvbkNsYXNzfWA7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZGlzYWJsZSBpbmZpbml0ZSBhbmltYXRpb25zIGFzIHRoZXkgYXJlIGEgcGFpbiB0byBoYW5kbGUgKGxpa2UgZG8gd2UgcmVhbGx5IHdhbnQgdG8gYWxsb3cgaW5maW5pdGUgYW5pbWF0aW9ucyBvbiBhIG1vdXNlLW91dCBldmVudD8pXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9PSAnaW5maW5pdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTd2VldEJ1dHRvbjogXCJpbmZpbml0ZVwiIGlzIG5vdCBzdXBwb3J0ZWQgYXMgYW4gYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCBwcm9wZXJ0eS4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50YF0gICAgID0gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICA/IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ10gICAgICAgICAgICAgID0gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA/IGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgICAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uQ2xhc3M7XHJcbiAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ2FuaW1hdGlvbkR1cmF0aW9uJ10gICAgICAgICAgID0gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgICAgICA/IGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgICAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkRlbGF5YF0gICAgICAgICAgICAgID0gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICAgICAgICA/IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRGVsYXk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnc2Nyb2xsLWluJ10ucHVzaChldmVudEl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgc2hhcGVDb25maWc7XHJcbiAgICAgICAgICAgIGxldCBzaGFwZVR5cGU7XHJcbiAgICAgICAgICAgIGxldCBzaGFwZUV2ZW50cztcclxuICAgICAgICAgICAgLy8gdHJhY2sgc2hhcGUgZXZlbnRzXHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDAsIGogPSB0aGlzLnNoYXBlLmxlbmd0aDsgaSA8IGo7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gZ290byBuZXh0IGlmIG5vIHNoYXBlIHR5cGVcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zaGFwZVtpXVtgc2hhcGUtJHtpKzF9YF0pIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgc2hhcGVDb25maWcgPSB0aGlzLnNoYXBlW2ldO1xyXG4gICAgICAgICAgICAgICAgc2hhcGVUeXBlID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfWBdO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBnb3RvIG5leHQgaWYgc2hhcGUgdHlwZSBpcyBpbnZhbGlkXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2hhcGVEaWN0aW9uYXJ5W3NoYXBlVHlwZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTd2VldEJ1dHRvbjogJywgc2hhcGVUeXBlLCAnaXMgbm90IHN1cHBvcnRlZCwgdmlldyB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIGNvbXBsZXRlbGlzdCBvZiBzaGFwZSB0eXBlcy4nKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgbGF5ZXJlZCBidG4gc2hhcGVcclxuICAgICAgICAgICAgICAgIGxldCBzdmdTaGFwZSA9IHRoaXMuc2hhcGVEaWN0aW9uYXJ5W3NoYXBlVHlwZV0oc2hhcGVDb25maWcsIGkrMSk7XHJcbiAgICAgICAgICAgICAgICBzdmdTaGFwZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgKHN2Z1NoYXBlLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSArICcgYW5pbWF0ZWQnKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3ZnIGNsYXNlczogJywgc3ZnU2hhcGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1jbGlja2BdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50SXRlbTogICAgICAgICAgICAgICAgICBPYmplY3QgPSB7IGFjdGl2ZUNsYXNzQ291bnQ6IHt9IH07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke2krMX0tY2xpY2tgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1jbGljay1hbmltYXRpb24tZHVyYXRpb25gXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1jbGljay1hbmltYXRpb24tZGVsYXlgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1jbGljay1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnc2VsZWN0b3InXSAgICAgICAgICAgPSBgc2hhcGUtJHtpKzF9LWNsaWNrLSR7ZXZlbnRBbmltYXRpb25DbGFzc31gO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIGluZmluaXRlIGFuaW1hdGlvbnMgYXMgdGhleSBhcmUgYSBwYWluIHRvIGhhbmRsZSAobGlrZSBkbyB3ZSByZWFsbHkgd2FudCB0byBhbGxvdyBpbmZpbml0ZSBhbmltYXRpb25zIG9uIGEgbW91c2Utb3V0IGV2ZW50PylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9PSAnaW5maW5pdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1N3ZWV0QnV0dG9uOiBcImluZmluaXRlXCIgaXMgbm90IHN1cHBvcnRlZCBhcyBhbiBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50IHByb3BlcnR5LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25JdGVyYXRpb25Db3VudGBdICAgICA9IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgPyBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXSAgICAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgICAgID8gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25DbGFzcztcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ2FuaW1hdGlvbkR1cmF0aW9uJ10gICAgICAgICAgID0gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgICAgICA/IGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgICAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25EZWxheWBdICAgICAgICAgICAgICA9IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgPyBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkRlbGF5O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzWydlbGVtZW50LWV2ZW50cyddWydjbGljayddLnB1c2goZXZlbnRJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1lbnRlcmBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50SXRlbTogICAgICAgICAgICAgICAgICBPYmplY3QgPSB7IGFjdGl2ZUNsYXNzQ291bnQ6IHt9IH07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke2krMX0tbW91c2UtZW50ZXJgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1lbnRlci1hbmltYXRpb24tZHVyYXRpb25gXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1lbnRlci1hbmltYXRpb24tZGVsYXlgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnc2VsZWN0b3InXSAgICAgICAgICAgPSBgc2hhcGUtJHtpKzF9LW1vdXNlLWVudGVyLSR7ZXZlbnRBbmltYXRpb25DbGFzc31gO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIGluZmluaXRlIGFuaW1hdGlvbnMgYXMgdGhleSBhcmUgYSBwYWluIHRvIGhhbmRsZSAobGlrZSBkbyB3ZSByZWFsbHkgd2FudCB0byBhbGxvdyBpbmZpbml0ZSBhbmltYXRpb25zIG9uIGEgbW91c2Utb3V0IGV2ZW50PylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9PSAnaW5maW5pdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1N3ZWV0QnV0dG9uOiBcImluZmluaXRlXCIgaXMgbm90IHN1cHBvcnRlZCBhcyBhbiBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50IHByb3BlcnR5LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddICAgICAgICAgICAgICA9IGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgICAgICAgPyBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkNsYXNzO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uRHVyYXRpb24nXSAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID8gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkRlbGF5YF0gICAgICAgICAgICAgID0gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICAgICAgICA/IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRGVsYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25JdGVyYXRpb25Db3VudGBdICAgICA9IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgPyBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgbnVtYmVyIG9mIGV2ZW50cyB1c2luZyB0aGlzIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NDb3VudCA9IHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ2FjdGl2ZUNsYXNzQ291bnQnXVtldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ11dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWN0aXZlQ2xhc3NDb3VudCkgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnYWN0aXZlQ2xhc3NDb3VudCddW2V2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXV0gPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzWydlbGVtZW50LWV2ZW50cyddWydtb3VzZS1lbnRlciddLnB1c2goZXZlbnRJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1sZWF2ZWBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50SXRlbTogICAgICAgICAgICAgICAgICBPYmplY3QgPSB7IGFjdGl2ZUNsYXNzQ291bnQ6IHt9IH07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke2krMX0tbW91c2UtbGVhdmVgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZHVyYXRpb25gXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXlgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1sZWF2ZS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgaW5maW5pdGUgYW5pbWF0aW9ucyBhcyB0aGV5IGFyZSBhIHBhaW4gdG8gaGFuZGxlIChsaWtlIGRvIHdlIHJlYWxseSB3YW50IHRvIGFsbG93IGluZmluaXRlIGFuaW1hdGlvbnMgb24gYSBtb3VzZS1vdXQgZXZlbnQ/KVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID09ICdpbmZpbml0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnU3dlZXRCdXR0b246IFwiaW5maW5pdGVcIiBpcyBub3Qgc3VwcG9ydGVkIGFzIGFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQgcHJvcGVydHkuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ3NlbGVjdG9yJ10gICAgICAgICAgID0gYHNoYXBlLSR7aSsxfS1tb3VzZS1sZWF2ZS0ke2V2ZW50QW5pbWF0aW9uQ2xhc3N9YDtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50YF0gICAgID0gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICA/IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddICAgICAgICAgICAgICA9IGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgICAgICAgPyBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkNsYXNzO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uRHVyYXRpb24nXSAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID8gKGV2ZW50QW5pbWF0aW9uRHVyYXRpb24pICAgICAgICAgICAgOiAoZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25EZWxheWBdICAgICAgICAgICAgICA9IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgPyBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkRlbGF5O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIG51bWJlciBvZiBldmVudHMgdXNpbmcgdGhpcyBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNsYXNzQ291bnQgPSB0aGlzWydlbGVtZW50LWV2ZW50cyddWydhY3RpdmVDbGFzc0NvdW50J11bZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZUNsYXNzQ291bnQpIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ2FjdGl2ZUNsYXNzQ291bnQnXVtldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ11dID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzWydlbGVtZW50LWV2ZW50cyddWydtb3VzZS1sZWF2ZSddLnB1c2goZXZlbnRJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkaXZDb250YWluZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmVlbmQnLCBzdmdTaGFwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY3JlYXRlR2x5cGhJY29uID0gKGRpdkNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGJ0blByZWZpeDogc3RyaW5nKSA6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpc1snZ2x5cGgtY2xhc3NlcyddKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaWNvbkdseXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGN1c3RvbWl6ZVxyXG4gICAgICAgICAgICAgICAgaWNvbkdseXBoLmNsYXNzTmFtZSA9IHRoaXNbJ2dseXBoLWNsYXNzZXMnXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdseXBoU2l6ZSAgICAgPSB0aGlzWydnbHlwaC1zaXplJ10ubGVuZ3RoID8gdGhpc1snZ2x5cGgtc2l6ZSddIDogJ3hzJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdseXBoU2NhbGVYICAgPSB0aGlzLnNoYXBlU2NhbGVbZ2x5cGhTaXplXVsnd2lkdGgnXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdseXBoU3BhY2luZ1ggPSBnbHlwaFNjYWxlWCAvIDEwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2x5cGhTY2FsZVkgICA9IHRoaXMuc2hhcGVTY2FsZVtnbHlwaFNpemVdWydoZWlnaHQnXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdseXBoU3BhY2luZ1kgPSBnbHlwaFNjYWxlWSAvIDEwO1xyXG5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gZm9udFxyXG4gICAgICAgICAgICAgICAgaWNvbkdseXBoLnN0eWxlLmZvbnRTaXplID0gYCR7Z2x5cGhTY2FsZVkvMn1weGA7XHJcbiAgICAgICAgICAgICAgICBpY29uR2x5cGguc3R5bGUubGluZUhlaWdodCA9IGAke2dseXBoU2NhbGVZLzJ9cHhgO1xyXG4gICAgICAgICAgICAgICAgaWNvbkdseXBoLnN0eWxlLmNvbG9yID0gdGhpc1snZ2x5cGgtY29sb3InXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjZW50ZXJpbmdcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzWydoYXNDaGlsZEVsZW0nXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvbnRTaXplID0gKGdseXBoU2NhbGVZLzIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkV2lkdGggPSB0aGlzWydjaGlsZFdpZHRoJ107XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2x5cGhXaWR0aCA9IHRoaXNbJ3NoYXBlU2NhbGUnXVtnbHlwaFNpemVdWyd3aWR0aCddO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhUGFkZGluZyA9IC0yO1xyXG4gICAgICAgICAgICAgICAgICAgIGljb25HbHlwaC5zdHlsZS5tYXJnaW5Ub3AgPSBgLSR7Zm9udFNpemUvMn1weGA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkdseXBoLnN0eWxlLm1hcmdpbkxlZnQgPSBgLSR7Zm9udFNpemUvMiArIGZvbnRTaXplLzggKyBjaGlsZFdpZHRoLzIgK2V4dHJhUGFkZGluZ31weGA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvbnRTaXplID0gKGdseXBoU2NhbGVZLzIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGljb25HbHlwaC5zdHlsZS5tYXJnaW5Ub3AgPSBgLSR7Zm9udFNpemUvMn1weGA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkdseXBoLnN0eWxlLm1hcmdpbkxlZnQgPSBgLSR7Zm9udFNpemUvMiArIGZvbnRTaXplLzh9cHhgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHBhcnNlIGVsZW0gZm9yIGV2ZW50cyBoZXJlXHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZFdmVudEFuaW1hdGlvbkNsYXNzOiAgICAgICAgICAgc3RyaW5nID0gJyc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZFdmVudEFuaW1hdGlvbkR1cmF0aW9uOiAgICAgICAgbnVtYmVyID0gMTAwMDsgLy8gMXNcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZkV2ZW50QW5pbWF0aW9uRGVsYXk6ICAgICAgICAgICBudW1iZXIgPSAwOyAvLyBubyBkZWxheTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZkV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ICBudW1iZXIgPSAxO1xyXG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50QW5pbWF0aW9uQ2xhc3M7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRBbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgIGxldCBldmVudEFuaW1hdGlvbkRlbGF5O1xyXG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWN0aXZlQ2xhc3NDb3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1snZ2x5cGgtY2xpY2snXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBldmVudEl0ZW06ICAgICAgICAgICAgICAgICAgT2JqZWN0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA9IHRoaXNbYGdseXBoLWNsaWNrYF07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgICAgICA9IHRoaXNbYGdseXBoLWNsaWNrLWFuaW1hdGlvbi1kdXJhdGlvbmBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgPSB0aGlzW2BnbHlwaC1jbGljay1hbmltYXRpb24tZGVsYXlgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gdGhpc1tgZ2x5cGgtY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudGBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9PSBcImluZmluaXRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnU3dlZXRCdXR0b246ICcsICdcImluZmluaXRlXCIgaXMgbm90IHN1cHBvcnRlZCBhcyBhbiBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50IHByb3BlcnR5LmFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnc2VsZWN0b3InXSAgICAgICAgICAgPSBgZ2x5cGgtY2xpY2stJHtldmVudEFuaW1hdGlvbkNsYXNzfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkdseXBoLmNsYXNzTmFtZSAgICAgICAgICAgICArPSBgICR7ZXZlbnRJdGVtWydzZWxlY3RvciddfWA7IFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ10gICAgICAgICAgICAgID0gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICAgICA/IGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkNsYXNzO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uRHVyYXRpb24nXSAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgICAgID8gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25EZWxheWBdICAgICAgICAgICAgICA9IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgICAgPyBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25EZWxheTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50YF0gICAgID0gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICAgICA/IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzWydlbGVtZW50LWV2ZW50cyddWydjbGljayddLnB1c2goZXZlbnRJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1snZ2x5cGgtY2xpY2snXSAmJiB0aGlzWydoYXNDaGlsZEVsZW0nXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBldmVudEl0ZW06ICAgICAgICAgICAgICAgICAgT2JqZWN0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA9IHRoaXNbYGdseXBoLWNsaWNrYF07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgICAgICA9IHRoaXNbYGdseXBoLWNsaWNrLWFuaW1hdGlvbi1kdXJhdGlvbmBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgPSB0aGlzW2BnbHlwaC1jbGljay1hbmltYXRpb24tZGVsYXlgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gdGhpc1tgZ2x5cGgtY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudGBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9PSBcImluZmluaXRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnU3dlZXRCdXR0b246ICcsICdcImluZmluaXRlXCIgaXMgbm90IHN1cHBvcnRlZCBhcyBhbiBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50IHByb3BlcnR5LmFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnc2VsZWN0b3InXSAgICAgICAgICAgPSBgJHtidG5QcmVmaXh9LWlubmVyLXRleHRgO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ10gICAgICAgICAgICAgID0gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICA/IGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkNsYXNzO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uRHVyYXRpb24nXSAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgID8gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25EZWxheWBdICAgICAgICAgICAgICA9IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgPyBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25EZWxheTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50YF0gICAgID0gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICAgICA/IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzWydlbGVtZW50LWV2ZW50cyddWydjbGljayddLnB1c2goZXZlbnRJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1tgZ2x5cGgtbW91c2UtZW50ZXJgXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBldmVudEl0ZW06ICAgICAgICAgICAgICAgICAgT2JqZWN0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA9IHRoaXNbYGdseXBoLW1vdXNlLWVudGVyYF07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgICAgICA9IHRoaXNbYGdseXBoLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbmBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgPSB0aGlzW2BnbHlwaC1tb3VzZS1lbnRlci1hbmltYXRpb24tZGVsYXlgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gdGhpc1tgZ2x5cGgtbW91c2UtZW50ZXItYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudGBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9PSBcImluZmluaXRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnU3dlZXRCdXR0b246ICcsICdcImluZmluaXRlXCIgaXMgbm90IHN1cHBvcnRlZCBhcyBhbiBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50IHByb3BlcnR5LmFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnc2VsZWN0b3InXSAgICAgICAgICAgPSBgZ2x5cGgtbW91c2UtZW50ZXItJHtldmVudEFuaW1hdGlvbkNsYXNzfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkdseXBoLmNsYXNzTmFtZSAgICAgICAgICAgICArPSBgICR7ZXZlbnRJdGVtWydzZWxlY3RvciddfWA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXSAgICAgPSBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgID8gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uQ2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydhbmltYXRpb25EdXJhdGlvbiddICA9IGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgPyBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgIDogZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkRlbGF5YF0gICAgID0gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICA/IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkRlbGF5O1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVtgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRgXSAgICAgPSBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgID8gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgbnVtYmVyIG9mIGV2ZW50cyB1c2luZyB0aGlzIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NDb3VudCA9IHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ2FjdGl2ZUNsYXNzQ291bnQnXVtldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ11dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWN0aXZlQ2xhc3NDb3VudCkgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnYWN0aXZlQ2xhc3NDb3VudCddW2V2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXV0gPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzWydlbGVtZW50LWV2ZW50cyddWydtb3VzZS1lbnRlciddLnB1c2goZXZlbnRJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1snZ2x5cGgtbW91c2UtZW50ZXInXSAmJiB0aGlzWydoYXNDaGlsZEVsZW0nXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBldmVudEl0ZW06ICAgICAgICAgICAgICAgICAgT2JqZWN0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgID0gdGhpc1tgZ2x5cGgtbW91c2UtZW50ZXJgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgPSB0aGlzW2BnbHlwaC1tb3VzZS1lbnRlci1hbmltYXRpb24tZHVyYXRpb25gXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgPSB0aGlzW2BnbHlwaC1tb3VzZS1lbnRlci1hbmltYXRpb24tZGVsYXlgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gdGhpc1tgZ2x5cGgtbW91c2UtZW50ZXItYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudGBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9PSBcImluZmluaXRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnU3dlZXRCdXR0b246ICcsICdcImluZmluaXRlXCIgaXMgbm90IHN1cHBvcnRlZCBhcyBhbiBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50IHByb3BlcnR5LmFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnc2VsZWN0b3InXSAgICAgICAgICAgPSBgJHtidG5QcmVmaXh9LWlubmVyLXRleHRgO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ10gICAgID0gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICA/IGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkNsYXNzO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uRHVyYXRpb24nXSAgPSBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgID8gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25EZWxheWBdICAgICA9IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgPyBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25EZWxheTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50YF0gICAgID0gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICAgICA/IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIG51bWJlciBvZiBldmVudHMgdXNpbmcgdGhpcyBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNsYXNzQ291bnQgPSB0aGlzWydlbGVtZW50LWV2ZW50cyddWydhY3RpdmVDbGFzc0NvdW50J11bZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZUNsYXNzQ291bnQpIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ2FjdGl2ZUNsYXNzQ291bnQnXVtldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ11dID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzWydlbGVtZW50LWV2ZW50cyddWydtb3VzZS1lbnRlciddLnB1c2goZXZlbnRJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1tgZ2x5cGgtbW91c2UtbGVhdmVgXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBldmVudEl0ZW06ICAgICAgICAgICAgICAgICAgT2JqZWN0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgID0gdGhpc1tgZ2x5cGgtbW91c2UtbGVhdmVgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgPSB0aGlzW2BnbHlwaC1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZHVyYXRpb25gXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgPSB0aGlzW2BnbHlwaC1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXlgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gdGhpc1tgZ2x5cGgtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudGBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9PSBcImluZmluaXRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnU3dlZXRCdXR0b246ICcsICdcImluZmluaXRlXCIgaXMgbm90IHN1cHBvcnRlZCBhcyBhbiBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50IHByb3BlcnR5LmFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnc2VsZWN0b3InXSAgICAgICAgICAgPSBgZ2x5cGgtbW91c2UtbGVhdmUtJHtldmVudEFuaW1hdGlvbkNsYXNzfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkdseXBoLmNsYXNzTmFtZSAgICAgICAgICAgICArPSBgICR7ZXZlbnRJdGVtWydzZWxlY3RvciddfWA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXSAgICAgPSBldmVudEFuaW1hdGlvbkNsYXNzICAgID8gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgIDogZGVmRXZlbnRBbmltYXRpb25DbGFzcztcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ2FuaW1hdGlvbkR1cmF0aW9uJ10gID0gZXZlbnRBbmltYXRpb25EdXJhdGlvbiA/IGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICA6IGRlZkV2ZW50QW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25EZWxheWBdICAgICA9IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgPyBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkRlbGF5O1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVtgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRgXSAgICAgPSBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgID8gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgbnVtYmVyIG9mIGV2ZW50cyB1c2luZyB0aGlzIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NDb3VudCA9IHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ2FjdGl2ZUNsYXNzQ291bnQnXVtldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ11dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWN0aXZlQ2xhc3NDb3VudCkgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnYWN0aXZlQ2xhc3NDb3VudCddW2V2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ21vdXNlLWxlYXZlJ10ucHVzaChldmVudEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzWydnbHlwaC1tb3VzZS1sZWF2ZSddICYmIHRoaXNbJ2hhc0NoaWxkRWxlbSddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50SXRlbTogICAgICAgICAgICAgICAgICBPYmplY3QgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgPSB0aGlzW2BnbHlwaC1tb3VzZS1sZWF2ZWBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgICA9IHRoaXNbYGdseXBoLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1kdXJhdGlvbmBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICA9IHRoaXNbYGdseXBoLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1kZWxheWBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgPSB0aGlzW2BnbHlwaC1tb3VzZS1sZWF2ZS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID09IFwiaW5maW5pdGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTd2VldEJ1dHRvbjogJywgJ1wiaW5maW5pdGVcIiBpcyBub3Qgc3VwcG9ydGVkIGFzIGFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQgcHJvcGVydHkuYW4gYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydzZWxlY3RvciddICAgICAgICAgICA9IGAke2J0blByZWZpeH0taW5uZXItdGV4dGA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXSAgICAgPSBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgID8gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uQ2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydhbmltYXRpb25EdXJhdGlvbiddICA9IGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgPyBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgIDogZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkRlbGF5YF0gICAgID0gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICA/IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkRlbGF5O1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVtgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRgXSAgICAgPSBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgID8gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgbnVtYmVyIG9mIGV2ZW50cyB1c2luZyB0aGlzIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NDb3VudCA9IHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ2FjdGl2ZUNsYXNzQ291bnQnXVtldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ11dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWN0aXZlQ2xhc3NDb3VudCkgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnYWN0aXZlQ2xhc3NDb3VudCddW2V2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ21vdXNlLWxlYXZlJ10ucHVzaChldmVudEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFwcGVuZCBpY29uIHRvIGRpdkNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgZGl2Q29udGFpbmVyLmFwcGVuZENoaWxkKGljb25HbHlwaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIEhhbmRsZU1vdXNlRW50ZXJFdmVudCA9IChkaXZDb250YWluZXI6IEhUTUxFbGVtZW50LCBlbGVtZW50RXZlbnRzOiBPYmplY3QpIDogRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCA9PiB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3Qgc3RhcnQgZXZlbiBpZiB0aGVzZSBhcmUgaGFwcGVuaW5nXHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudEV2ZW50c1snaXNPbkxvYWRPY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNNb3VzZUVudGVyT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzTW91c2VMZWF2ZU9jY3VyaW5nJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc0NsaWNrT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzU2Nyb2xsSW5PY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNTY3JvbGxPdXRPY2N1cmluZyddKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNNb3VzZUVudGVyT2NjdXJpbmcnXSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkRWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICBhc3luYy5lYWNoKGVsZW1lbnRFdmVudHNbJ21vdXNlLWVudGVyJ10sIChtb3VzZUVudGVyRXZlbnQsIG1vdXNlRW50ZXJFdmVudENCKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLndhdGVyZmFsbChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZXJpZXNDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50ID0gJChkaXZDb250YWluZXIpLmZpbmQoYC4ke21vdXNlRW50ZXJFdmVudC5zZWxlY3Rvcn1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBjc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbic6IGAke21vdXNlRW50ZXJFdmVudC5hbmltYXRpb25EdXJhdGlvbn1tc2AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FuaW1hdGlvbi1kdXJhdGlvbic6IGAke21vdXNlRW50ZXJFdmVudC5hbmltYXRpb25EdXJhdGlvbn1tc2AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6IG1vdXNlRW50ZXJFdmVudC5hbmltYXRpb25JdGVyYXRpb25Db3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6IG1vdXNlRW50ZXJFdmVudC5hbmltYXRpb25JdGVyYXRpb25Db3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcmllc0NCKG51bGwsIHNlbGVjdGVkRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZWxlY3RlZEVsZW1lbnQsIHNlcmllc0NCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBhbmltYXRpb24gZGVsYXkgYW5kIHRoZW4gYWRkIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LmFkZENsYXNzKGAke21vdXNlRW50ZXJFdmVudC5hbmltYXRpb25DbGFzc31gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcmllc0NCKG51bGwsIHNlbGVjdGVkRWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbW91c2VFbnRlckV2ZW50LmFuaW1hdGlvbkRlbGF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGVjdGVkRWxlbWVudCwgc2VyaWVzQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjbGFzc2VzICAmIGNzcyBhZnRlciBhbmltYXRpb24gaGFzIGNvbXBsZXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5yZW1vdmVDbGFzcyhgJHttb3VzZUVudGVyRXZlbnQuYW5pbWF0aW9uQ2xhc3N9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXJpZXNDQihudWxsLCBzZWxlY3RlZEVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG1vdXNlRW50ZXJFdmVudC5hbmltYXRpb25JdGVyYXRpb25Db3VudCAqIG1vdXNlRW50ZXJFdmVudC5hbmltYXRpb25EdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBdLCBtb3VzZUVudGVyRXZlbnRDQik7XHJcbiAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgY29uc29sZS5kZWJ1ZygnZXJyOicsIGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNNb3VzZUVudGVyT2NjdXJpbmcnXSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBIYW5kbGVNb3VzZUxlYXZlRXZlbnQgPSAoZGl2Q29udGFpbmVyOiBIVE1MRWxlbWVudCwgZWxlbWVudEV2ZW50czogT2JqZWN0KSA6IEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIGRvbid0IHN0YXJ0IGV2ZW4gaWYgdGhlc2UgYXJlIGhhcHBlbmluZ1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRFdmVudHNbJ2lzT25Mb2FkT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzTW91c2VMZWF2ZU9jY3VyaW5nJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc01vdXNlRW50ZXJPY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNDbGlja09jY3VyaW5nJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc1Njcm9sbEluT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzU2Nyb2xsT3V0T2NjdXJpbmcnXSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzTW91c2VMZWF2ZU9jY3VyaW5nJ10gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgYXN5bmMuZWFjaChlbGVtZW50RXZlbnRzWydtb3VzZS1sZWF2ZSddLCAobW91c2VMZWF2ZSwgbW91c2VMZWF2ZUNCKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLndhdGVyZmFsbChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZXJpZXNDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50ID0gJChkaXZDb250YWluZXIpLmZpbmQoYC4ke21vdXNlTGVhdmUuc2VsZWN0b3J9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgY3NzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24nOiBgJHttb3VzZUxlYXZlLmFuaW1hdGlvbkR1cmF0aW9ufW1zYCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5pbWF0aW9uLWR1cmF0aW9uJzogYCR7bW91c2VMZWF2ZS5hbmltYXRpb25EdXJhdGlvbn1tc2AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6IG1vdXNlTGVhdmUuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiBtb3VzZUxlYXZlLmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWVzQ0IobnVsbCwgc2VsZWN0ZWRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGVjdGVkRWxlbWVudCwgc2VyaWVzQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFwcGx5IGFuaW1hdGlvbiBkZWxheSBhbmQgdGhlbiBhZGQgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluY3JlbWVudCBudW1iZXIgb2YgYWN0aXZlIGV2ZW50cyB1c2luZyB0aGlzIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snYWN0aXZlQ2xhc3NDb3VudCddW2Ake21vdXNlTGVhdmUuYW5pbWF0aW9uQ2xhc3N9YF0rKztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZEVsZW1lbnQuaGFzQ2xhc3MoYCR7bW91c2VMZWF2ZS5hbmltYXRpb25DbGFzc31gKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQuYWRkQ2xhc3MoYCR7bW91c2VMZWF2ZS5hbmltYXRpb25DbGFzc31gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXJpZXNDQihudWxsLCBzZWxlY3RlZEVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG1vdXNlTGVhdmUuYW5pbWF0aW9uRGVsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc2VsZWN0ZWRFbGVtZW50LCBzZXJpZXNDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgdGhlIG1vdXNlIGluIGFuaW1hdGlvbiAxMDBtcyBlYXJsaWVyIHRoYW4gdGhlIGNsYXNzIGdldHMgcmVtb3ZlZCB0byBhdm9pZCBmbGlja2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luYy5wYXJhbGxlbChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHBhcmFDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzTW91c2VMZWF2ZU9jY3VyaW5nJ10gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyaWdnZXIgbW91c2UgZW50ZXIgYWZ0ZXIgYSBtb3VzZSBsZWF2ZSBpZiBub3QgYWxyZWFkeSBvY2N1cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3dlZXRCdXR0b24uSGFuZGxlTW91c2VFbnRlckV2ZW50KGRpdkNvbnRhaW5lciwgZWxlbWVudEV2ZW50cykoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYUNCKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG1vdXNlTGVhdmUuYW5pbWF0aW9uRHVyYXRpb24gKiBtb3VzZUxlYXZlLmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IC0gMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwYXJhQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzZXMgICYgY3NzIGFmdGVyIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlY3JlbWVudCB0aGUgbnVtYmVyIG9mIGV2ZW50cyB1c2luZyB0aGlzIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydhY3RpdmVDbGFzc0NvdW50J11bYCR7bW91c2VMZWF2ZS5hbmltYXRpb25DbGFzc31gXS0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgcmVtb3ZlIHRoaXMgY2xhc3MgaWYgdGhlcmUgYXJlIG5vIGV2ZW50cyBuZWVkaW5nIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlbGVtZW50RXZlbnRzWydhY3RpdmVDbGFzc0NvdW50J10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGVsZW1lbnRFdmVudHNbJ2FjdGl2ZUNsYXNzQ291bnQnXVtgJHttb3VzZUxlYXZlLmFuaW1hdGlvbkNsYXNzfWBdID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBzZWxlY3RlZEVsZW1lbnQucmVtb3ZlQ2xhc3MoYCR7bW91c2VMZWF2ZS5hbmltYXRpb25DbGFzc31gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5yZW1vdmVDbGFzcyhgJHttb3VzZUxlYXZlLmFuaW1hdGlvbkNsYXNzfWApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXJpZXNDQihudWxsLCBzZWxlY3RlZEVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbW91c2VMZWF2ZS5hbmltYXRpb25EdXJhdGlvbiAqIG1vdXNlTGVhdmUuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sIHNlcmllc0NCKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXSwgbW91c2VMZWF2ZUNCKTtcclxuICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmRlYnVnKCdlcnI6JywgZXJyKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgSGFuZGxlU2Nyb2xsT3V0RXZlbnQgPSAoZGl2Q29udGFpbmVyOiBIVE1MRWxlbWVudCwgZWxlbWVudEV2ZW50czogT2JqZWN0KSA6IEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFNjcm9sbEFtb3VudCA9IGVsZW1lbnRFdmVudHNbJ3Njcm9sbE91dExhc3RQb3MnXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNjcm9sbEFtb3VudCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ3Njcm9sbE91dExhc3RQb3MnXSA9ICBzY3JvbGxBbW91bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRFdmVudHNbJ2lzT25Mb2FkT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzQ2xpY2tPY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNNb3VzZUVudGVyT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzTW91c2VMZWF2ZU9jY3VyaW5nJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc1Njcm9sbEluT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzU2Nyb2xsT3V0T2NjdXJpbmcnXSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudFRvU2Nyb2xsID0gJChkaXZDb250YWluZXIpLm9mZnNldCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gJChkaXZDb250YWluZXIpLmhlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxBbW91bnQgPCBsYXN0U2Nyb2xsQW1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudCBpcyBpbiBib3R0b20gcG9ydGlvbiBvZiBzY3JlZW5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsQW1vdW50ICsgd2luZG93LmlubmVySGVpZ2h0ID4gYW1vdW50VG9TY3JvbGwudG9wICsgb2Zmc2V0IC0gKG9mZnNldC8zKSAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW1vdW50ICsgd2luZG93LmlubmVySGVpZ2h0IDwgYW1vdW50VG9TY3JvbGwudG9wICsgb2Zmc2V0ICsgKG9mZnNldC8zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyU2Nyb2xsT3V0RXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsaW5nIHVwXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudCBpcyBpbiB0b3AgcG9ydGlvbiBvZiBzY3JlZW5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsQW1vdW50ID4gYW1vdW50VG9TY3JvbGwudG9wIC0gb2Zmc2V0IC0gKG9mZnNldC8zKSAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW1vdW50IDwgYW1vdW50VG9TY3JvbGwudG9wICsgKG9mZnNldC8zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyU2Nyb2xsT3V0RXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRyaWdnZXJTY3JvbGxPdXRFdmVudCgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc1Njcm9sbE91dE9jY3VyaW5nJ10gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhc3luYy5lYWNoKGVsZW1lbnRFdmVudHNbJ3Njcm9sbC1vdXQnXSwgKHNjcm9sbE91dEV2ZW50LCBzY3JvbGxPdXRFdmVudENCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jLndhdGVyZmFsbChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VyaWVzQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQgPSAkKGRpdkNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbic6IGAke3Njcm9sbE91dEV2ZW50LmFuaW1hdGlvbkR1cmF0aW9ufW1zYCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FuaW1hdGlvbi1kdXJhdGlvbic6IGAke3Njcm9sbE91dEV2ZW50LmFuaW1hdGlvbkR1cmF0aW9ufW1zYCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6IHNjcm9sbE91dEV2ZW50LmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6IHNjcm9sbE91dEV2ZW50LmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXJpZXNDQihudWxsLCBzZWxlY3RlZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzZWxlY3RlZEVsZW1lbnQsIHNlcmllc0NCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgYW5pbWF0aW9uIGRlbGF5IGFuZCB0aGVuIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQuYWRkQ2xhc3MoYCR7c2Nyb2xsT3V0RXZlbnQuYW5pbWF0aW9uQ2xhc3N9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWVzQ0IobnVsbCwgc2VsZWN0ZWRFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgc2Nyb2xsT3V0RXZlbnQuYW5pbWF0aW9uRGVsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzZWxlY3RlZEVsZW1lbnQsIHNlcmllc0NCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgdGhlIG1vdXNlIGluIGFuaW1hdGlvbiAxMDBtcyBlYXJsaWVyIHRoYW4gdGhlIGNsYXNzIGdldHMgcmVtb3ZlZCB0byBhdm9pZCBmbGlja2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMucGFyYWxsZWwoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGFyYUNCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc1Njcm9sbE91dE9jY3VyaW5nJ10gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIG1vdXNlIGVudGVyIGFmdGVyIGEgbW91c2UgbGVhdmUgaWYgbm90IGFscmVhZHkgb2NjdXJpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2VldEJ1dHRvbi5IYW5kbGVTY3JvbGxJbkV2ZW50KGRpdkNvbnRhaW5lciwgZWxlbWVudEV2ZW50cywgdHJ1ZSkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFDQigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgc2Nyb2xsT3V0RXZlbnQuYW5pbWF0aW9uRHVyYXRpb24gKiBzY3JvbGxPdXRFdmVudC5hbmltYXRpb25JdGVyYXRpb25Db3VudCAtIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwYXJhQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjbGFzc2VzICAmIGNzcyBhZnRlciBhbmltYXRpb24gaGFzIGNvbXBsZXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LnJlbW92ZUNsYXNzKGAke3Njcm9sbE91dEV2ZW50LmFuaW1hdGlvbkNsYXNzfWApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWVzQ0IobnVsbCwgc2VsZWN0ZWRFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBzY3JvbGxPdXRFdmVudC5hbmltYXRpb25EdXJhdGlvbiAqIHNjcm9sbE91dEV2ZW50LmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLCBzY3JvbGxPdXRFdmVudENCKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIGNvbnNvbGUuZGVidWcoJ2VycjonLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgSGFuZGxlU2Nyb2xsSW5FdmVudCA9IChkaXZDb250YWluZXI6IEhUTUxFbGVtZW50LCBlbGVtZW50RXZlbnRzOiBPYmplY3QsIGZvcmNlRXZlbnQ6IEJvb2xlYW4pIDogRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZm9yY2VFdmVudCkgcmV0dXJuIHRyaWdnZXJTY3JvbGxJbkV2ZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFNjcm9sbEFtb3VudCA9IGVsZW1lbnRFdmVudHNbJ3Njcm9sbEluTGFzdFBvcyddO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Nyb2xsQW1vdW50ID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snc2Nyb2xsSW5MYXN0UG9zJ10gPSAgc2Nyb2xsQW1vdW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50RXZlbnRzWydpc09uTG9hZE9jY3VyaW5nJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc0NsaWNrT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzTW91c2VFbnRlck9jY3VyaW5nJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc01vdXNlTGVhdmVPY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNTY3JvbGxJbk9jY3VyaW5nJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc1Njcm9sbE91dE9jY3VyaW5nJ10pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnRUb1Njcm9sbCA9ICQoZGl2Q29udGFpbmVyKS5vZmZzZXQoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9ICQoZGl2Q29udGFpbmVyKS5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGxpbmcgZG93blxyXG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbEFtb3VudCA+IGxhc3RTY3JvbGxBbW91bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50IGlzIGluIGJvdHRvbSBwb3J0aW9uIG9mIHNjcmVlblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGxBbW91bnQgKyB3aW5kb3cuaW5uZXJIZWlnaHQgPiBhbW91bnRUb1Njcm9sbC50b3AgLSAob2Zmc2V0LzMpICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbW91bnQgKyB3aW5kb3cuaW5uZXJIZWlnaHQgPCBhbW91bnRUb1Njcm9sbC50b3AgKyAob2Zmc2V0LzMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJTY3JvbGxJbkV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbGluZyB1cFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgaXMgaW4gdG9wIHBvcnRpb24gb2Ygc2NyZWVuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjcm9sbEFtb3VudCA+IGFtb3VudFRvU2Nyb2xsLnRvcCArIG9mZnNldCAtIChvZmZzZXQvMykgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFtb3VudCA8IGFtb3VudFRvU2Nyb2xsLnRvcCArIG9mZnNldCArIChvZmZzZXQvMykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJTY3JvbGxJbkV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0cmlnZ2VyU2Nyb2xsSW5FdmVudCgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc1Njcm9sbEluT2NjdXJpbmcnXSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLmVhY2goZWxlbWVudEV2ZW50c1snc2Nyb2xsLWluJ10sIChzY3JvbGxJbkV2ZW50LCBzY3JvbGxJbkV2ZW50Q0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMud2F0ZXJmYWxsKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzZXJpZXNDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudCA9ICQoZGl2Q29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbic6IGAke3Njcm9sbEluRXZlbnQuYW5pbWF0aW9uRHVyYXRpb259bXNgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5pbWF0aW9uLWR1cmF0aW9uJzogYCR7c2Nyb2xsSW5FdmVudC5hbmltYXRpb25EdXJhdGlvbn1tc2AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiBzY3JvbGxJbkV2ZW50LmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6IHNjcm9sbEluRXZlbnQuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcmllc0NCKG51bGwsIHNlbGVjdGVkRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGVjdGVkRWxlbWVudCwgc2VyaWVzQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBhbmltYXRpb24gZGVsYXkgYW5kIHRoZW4gYWRkIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5hZGRDbGFzcyhgJHtzY3JvbGxJbkV2ZW50LmFuaW1hdGlvbkNsYXNzfWApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcmllc0NCKG51bGwsIHNlbGVjdGVkRWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHNjcm9sbEluRXZlbnQuYW5pbWF0aW9uRGVsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzZWxlY3RlZEVsZW1lbnQsIHNlcmllc0NCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzZXMgICYgY3NzIGFmdGVyIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5yZW1vdmVDbGFzcyhgJHtzY3JvbGxJbkV2ZW50LmFuaW1hdGlvbkNsYXNzfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcmllc0NCKG51bGwsIHNlbGVjdGVkRWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHNjcm9sbEluRXZlbnQuYW5pbWF0aW9uRHVyYXRpb24gKiBzY3JvbGxJbkV2ZW50LmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXSwgc2Nyb2xsSW5FdmVudENCKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIGNvbnNvbGUuZGVidWcoJ2VycjonLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNTY3JvbGxJbk9jY3VyaW5nJ10gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIEhhbmRsZUNsaWNrRXZlbnQgPSAoZGl2Q29udGFpbmVyOiBIVE1MRWxlbWVudCwgZWxlbWVudEV2ZW50czogT2JqZWN0KSA6IEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudEV2ZW50c1snaXNDbGlja09jY3VyaW5nJ10pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc0NsaWNrT2NjdXJpbmcnXSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkRWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICBhc3luYy5lYWNoKGVsZW1lbnRFdmVudHNbJ2NsaWNrJ10sIChjbGlja0V2ZW50LCBjbGlja0V2ZW50Q0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhc3luYy53YXRlcmZhbGwoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc2VyaWVzQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudCA9ICQoZGl2Q29udGFpbmVyKS5maW5kKGAuJHtjbGlja0V2ZW50LnNlbGVjdG9yfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3dlZXRCdXR0b24uUmVtb3ZlRXZlbnRBbmltYXRpb25DbGFzc2VzKGRpdkNvbnRhaW5lciwgZWxlbWVudEV2ZW50cywgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtb3VzZS1lbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21vdXNlLWxlYXZlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2Nyb2xsLWluJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2Nyb2xsLW91dCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGNzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJzogYCR7Y2xpY2tFdmVudC5hbmltYXRpb25EdXJhdGlvbn1tc2AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FuaW1hdGlvbi1kdXJhdGlvbic6IGAke2NsaWNrRXZlbnQuYW5pbWF0aW9uRHVyYXRpb259bXNgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiBjbGlja0V2ZW50LmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogY2xpY2tFdmVudC5hbmltYXRpb25JdGVyYXRpb25Db3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcmllc0NCKG51bGwsIHNlbGVjdGVkRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZWxlY3RlZEVsZW1lbnQsIHNlcmllc0NCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBhbmltYXRpb24gZGVsYXkgYW5kIHRoZW4gYWRkIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQuYWRkQ2xhc3MoYCR7Y2xpY2tFdmVudC5hbmltYXRpb25DbGFzc31gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcmllc0NCKG51bGwsIHNlbGVjdGVkRWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2xpY2tFdmVudC5hbmltYXRpb25EZWxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZWxlY3RlZEVsZW1lbnQsIHNlcmllc0NCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgY2xhc3NlcyAgJiBjc3MgYWZ0ZXIgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5yZW1vdmVDbGFzcyhgJHtjbGlja0V2ZW50LmFuaW1hdGlvbkNsYXNzfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXJpZXNDQihudWxsLCBzZWxlY3RlZEVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGNsaWNrRXZlbnQuYW5pbWF0aW9uRHVyYXRpb24gKiBjbGlja0V2ZW50LmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF0sIGNsaWNrRXZlbnRDQik7XHJcbiAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgY29uc29sZS5kZWJ1ZygnZXJyOicsIGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNDbGlja09jY3VyaW5nJ10gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBSZW1vdmVFdmVudEFuaW1hdGlvbkNsYXNzZXMgKGRpdkNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGVsZW1lbnRFdmVudHM6IE9iamVjdCwgZWxlbWVudEV2ZW50S2V5TmFtZXM6IEFycmF5PHN0cmluZz4pIHtcclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkRWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnRFdmVudEtleU5hbWVzLmZvckVhY2goKGV2ZW50S2V5TmFtZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudEV2ZW50c1tldmVudEtleU5hbWVdKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRFdmVudHNbZXZlbnRLZXlOYW1lXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzW2V2ZW50S2V5TmFtZV0uZm9yRWFjaCgoZXZlbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudCAgICAgPSAkKGRpdkNvbnRhaW5lcikuZmluZChgLiR7ZXZlbnQuc2VsZWN0b3J9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50Lmhhc0NsYXNzKGV2ZW50LmFuaW1hdGlvbkNsYXNzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LnJlbW92ZUNsYXNzKGV2ZW50LmFuaW1hdGlvbkNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbic6IGBgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhbmltYXRpb24tZHVyYXRpb24nOiBgYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgQWRkRXZlbnRBbmltYXRpb25DbGFzc2VzIChkaXZDb250YWluZXI6IEhUTUxFbGVtZW50LCBlbGVtZW50RXZlbnRzOiBPYmplY3QsIGVsZW1lbnRFdmVudEtleU5hbWVzOiBBcnJheTxzdHJpbmc+KSB7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50RXZlbnRLZXlOYW1lcy5mb3JFYWNoKChldmVudEtleU5hbWUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRFdmVudHNbZXZlbnRLZXlOYW1lXSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50RXZlbnRzW2V2ZW50S2V5TmFtZV0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1tldmVudEtleU5hbWVdLmZvckVhY2goKGV2ZW50LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQgICAgID0gJChkaXZDb250YWluZXIpLmZpbmQoYC4ke2V2ZW50LnNlbGVjdG9yfWApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZEVsZW1lbnQuaGFzQ2xhc3MoZXZlbnQuYW5pbWF0aW9uQ2xhc3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQuYWRkQ2xhc3MoZXZlbnQuYW5pbWF0aW9uQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJzogYCR7ZXZlbnQuYW5pbWF0aW9uRHVyYXRpb259bXNgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhbmltYXRpb24tZHVyYXRpb24nOiBgJHtldmVudC5hbmltYXRpb25EdXJhdGlvbn1tc2BcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY3JlYXRlRXZlbnRzID0gKGRpdkNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIDogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIC8vIGFkZCBjbGljayBldmVudFxyXG4gICAgICAgICAgICBpZiAodGhpc1snZWxlbWVudC1ldmVudHMnXVsnY2xpY2snXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGRpdkNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFN3ZWV0QnV0dG9uLkhhbmRsZUNsaWNrRXZlbnQoZGl2Q29udGFpbmVyLCB0aGlzWydlbGVtZW50LWV2ZW50cyddKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYWRkIG1vdXNlLWVudGVyIGV2ZW50XHJcbiAgICAgICAgICAgIGlmICh0aGlzWydlbGVtZW50LWV2ZW50cyddWydtb3VzZS1lbnRlciddLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZGl2Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBTd2VldEJ1dHRvbi5IYW5kbGVNb3VzZUVudGVyRXZlbnQoZGl2Q29udGFpbmVyLCB0aGlzWydlbGVtZW50LWV2ZW50cyddKSk7XHJcbiAgICAgICAgICAgICAgICBkaXZDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIFN3ZWV0QnV0dG9uLkhhbmRsZU1vdXNlRW50ZXJFdmVudChkaXZDb250YWluZXIsIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ10pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBhZGQgbW91c2UtbGVhdmUgZXZlbnRcclxuICAgICAgICAgICAgaWYgKHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ21vdXNlLWxlYXZlJ10ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBkaXZDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIFN3ZWV0QnV0dG9uLkhhbmRsZU1vdXNlTGVhdmVFdmVudChkaXZDb250YWluZXIsIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ10pKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ3Njcm9sbC1pbiddLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFN3ZWV0QnV0dG9uLkhhbmRsZVNjcm9sbEluRXZlbnQoZGl2Q29udGFpbmVyLCB0aGlzWydlbGVtZW50LWV2ZW50cyddLCBmYWxzZSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpc1snZWxlbWVudC1ldmVudHMnXVsnc2Nyb2xsLW91dCddLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFN3ZWV0QnV0dG9uLkhhbmRsZVNjcm9sbE91dEV2ZW50KGRpdkNvbnRhaW5lciwgdGhpc1snZWxlbWVudC1ldmVudHMnXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwYXJzZUJ0bklubmVySHRtbCA9IChidG5FbGVtZW50OiBIVE1MRWxlbWVudCwgYnRuUHJlZml4OiBzdHJpbmcpOiBIVE1MRWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ0bkNoaWxkcmVuID0gJChidG5FbGVtZW50KS5jaGlsZHJlbigpO1xyXG4gICAgICAgICAgICBpZiAoYnRuQ2hpbGRyZW4ubGVuZ3RoID09IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHRoaXNbJ2hhc0NoaWxkRWxlbSddID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc3QgYnRuQ2hpbGQgPSBidG5DaGlsZHJlblswXTtcclxuICAgICAgICAgICAgJChidG5DaGlsZCkuYWRkQ2xhc3MoYCR7YnRuUHJlZml4fS1pbm5lci10ZXh0YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkV2lkdGggPSAkKGJ0bkNoaWxkKS53aWR0aCgpO1xyXG4gICAgICAgICAgICB0aGlzWydjaGlsZFdpZHRoJ10gPSBjaGlsZFdpZHRoO1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZEhlaWdodCA9ICQoYnRuQ2hpbGQpLmhlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gbW9kaWZ5IHNoYXBlU2NhbGVzIHRvIGZpdCB0aGUgbmV3IGVsZW1lbnRcclxuICAgICAgICAgICAgZm9yKGxldCBrZXkgaW4gdGhpcy5zaGFwZVNjYWxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXBlU2NhbGVba2V5XVsnd2lkdGgnXSAgICArPSAoY2hpbGRXaWR0aCAqIDEuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXBlU2NhbGVba2V5XVsnaGVpZ2h0J10gICArPSAoY2hpbGRIZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICh0aGlzWydnbHlwaC1jbGFzc2VzJ10pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdseXBoU2l6ZSAgICAgPSB0aGlzWydnbHlwaC1zaXplJ10ubGVuZ3RoID8gdGhpc1snZ2x5cGgtc2l6ZSddIDogJ3hzJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1XaWR0aCAgICAgPSB0aGlzLnNoYXBlU2NhbGVbZ2x5cGhTaXplXVsnd2lkdGgnXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhUGFkZGluZyAgPSAtMjsgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBhZGp1c3QgcG9zaXRpb25cclxuICAgICAgICAgICAgICAgICQoYnRuQ2hpbGQpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBcIjUwJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiNTAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAoY2hpbGRIZWlnaHQgLyAyLjI1ICogLTEpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6ICgoY2hpbGRXaWR0aCAvIDIgLSAoZWxlbVdpZHRoLzgpIC0gZXh0cmFQYWRkaW5nKSAqIC0xKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleHRyYVBhZGRpbmcgID0gMDtcclxuICAgICAgICAgICAgICAgIC8vIGFkanVzdCBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgJChidG5DaGlsZCkuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IFwiNTAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogXCI1MCVcIixcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IChjaGlsZEhlaWdodCAvIDIuMjUgKiAtMSksXHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogKCgoY2hpbGRXaWR0aCAvIDMpICsgKGJ0bkNoaWxkLm9mZnNldFdpZHRoLzYpIC0gZXh0cmFQYWRkaW5nKSAqIC0xKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2J0bmNoaWxkLndpZHRoJywgYnRuQ2hpbGQub2Zmc2V0V2lkdGggLyA4KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGJ0bkNoaWxkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVEaXZDb250YWluZXIgPSAoYnRuRWxlbWVudDogSFRNTEVsZW1lbnQsIGJ0blByZWZpeDogc3RyaW5nKTogSFRNTEVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAvLyBwYXJzZSBlbGVtZW50IGNsYXNzZXMgZm9yIGEgc2l6ZVxyXG4gICAgICAgICAgICBsZXQgYnRuU2NhbGVYO1xyXG4gICAgICAgICAgICBsZXQgYnRuU3BhY2luZ1g7XHJcbiAgICAgICAgICAgIGxldCBidG5TY2FsZVk7XHJcbiAgICAgICAgICAgIGxldCBidG5TcGFjaW5nWTtcclxuICAgICAgICAgICAgaWYgKCQoYnRuRWxlbWVudCkuaGFzQ2xhc3MoYCR7YnRuUHJlZml4fS14bGApKSB7XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVggPSB0aGlzLnNoYXBlU2NhbGVbJ3hsJ11bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVkgPSB0aGlzLnNoYXBlU2NhbGVbJ3hsJ11bJ2hlaWdodCddO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQoYnRuRWxlbWVudCkuaGFzQ2xhc3MoYCR7YnRuUHJlZml4fS1sZ2ApKSB7XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVggPSB0aGlzLnNoYXBlU2NhbGVbJ2xnJ11bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVkgPSB0aGlzLnNoYXBlU2NhbGVbJ2xnJ11bJ2hlaWdodCddO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQoYnRuRWxlbWVudCkuaGFzQ2xhc3MoYCR7YnRuUHJlZml4fS1tZGApKSB7XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVggPSB0aGlzLnNoYXBlU2NhbGVbJ21kJ11bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVkgPSB0aGlzLnNoYXBlU2NhbGVbJ21kJ11bJ2hlaWdodCddO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQoYnRuRWxlbWVudCkuaGFzQ2xhc3MoYCR7YnRuUHJlZml4fS1zbWApKSB7XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVggPSB0aGlzLnNoYXBlU2NhbGVbJ3NtJ11bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVkgPSB0aGlzLnNoYXBlU2NhbGVbJ3NtJ11bJ2hlaWdodCddO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQoYnRuRWxlbWVudCkuaGFzQ2xhc3MoYCR7YnRuUHJlZml4fS14c2ApKSB7XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVggPSB0aGlzLnNoYXBlU2NhbGVbJ3hzJ11bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVkgPSB0aGlzLnNoYXBlU2NhbGVbJ3hzJ11bJ2hlaWdodCddO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0byB4c1xyXG4gICAgICAgICAgICAgICAgYnRuU2NhbGVYID0gdGhpcy5zaGFwZVNjYWxlWyd4cyddWyd3aWR0aCddO1xyXG4gICAgICAgICAgICAgICAgYnRuU2NhbGVZID0gdGhpcy5zaGFwZVNjYWxlWyd4cyddWydoZWlnaHQnXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnRuU3BhY2luZ1ggPSBidG5TY2FsZVggLyAxMDtcclxuICAgICAgICAgICAgYnRuU3BhY2luZ1kgPSBidG5TY2FsZVkgLyAxMDtcclxuXHJcbiAgICAgICAgICAgIC8vIHNldCB0aGUgb24gbG9hZCBjbGFzc2VzXHJcbiAgICAgICAgICAgIGlmICh0aGlzWydvbi1sb2FkJ10pIHtcclxuICAgICAgICAgICAgICAgICQoYnRuRWxlbWVudCkuYWRkQ2xhc3MoYGFuaW1hdGVkICR7dGhpc1snb24tbG9hZCddfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnaXNMb2FkT2NjdXJpbmcnXSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IFxyXG4gICAgICAgICAgICAgICAgICAgICQoYnRuRWxlbWVudCkucmVtb3ZlQ2xhc3MoYCR7dGhpc1snb24tbG9hZCddfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICQoYnRuRWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnaXNMb2FkT2NjdXJpbmcnXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNldCBidG4gZWxlbSB3aWR0aC9oZWlnaHQgbm93IHRoYXQgY2hpbGQgZWxlbXMgaGF2ZSBiZWVuIHBhcnNlZFxyXG4gICAgICAgICAgICAkKGJ0bkVsZW1lbnQpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGAke2J0blNjYWxlWSArIChidG5TcGFjaW5nWSAqIDIpfXB4YCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtidG5TY2FsZVggKyAoYnRuU3BhY2luZ1ggKiAyKX1weGBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGl2Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgYCR7YnRuUHJlZml4fS13cmFwYCk7XHJcbiAgICAgICAgICAgIGRpdkNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgZGl2Q29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGl2Q29udGFpbmVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzaGFwZURpY3Rpb25hcnkgPSB7XHJcbiAgICAgICAgICAgICdoZXhhZ29uJzogdGhpcy5jcmVhdGVIZXhhZ29uLFxyXG4gICAgICAgICAgICAnc3F1YXJlJzogdGhpcy5jcmVhdGVTcXVhcmUsXHJcbiAgICAgICAgICAgICdjaXJjbGUnOiB0aGlzLmNyZWF0ZUNpcmNsZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGJ0bkVsZW1lbnQ6IEhUTUxFbGVtZW50LCBidG5QcmVmaXg6IHN0cmluZykge1xyXG4gICAgICAgICAgICAvLyBwYXJzZSBhdHRyaWJzIGZvciBvYmplY3QgY29uZmlnICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMucGFyc2VCdG5BdHRyaWJ1dGVzKGJ0bkVsZW1lbnQsIGJ0blByZWZpeCk7XHJcbiAgICAgICAgICAgIC8vIG1vZGlmeSBlbGVtZW50IHNjYWxlIGJhc2VkIG9uIGlubmVyIHRleHRcclxuICAgICAgICAgICAgbGV0IGNoaWxkRWxlbSA9IHRoaXMucGFyc2VCdG5Jbm5lckh0bWwoYnRuRWxlbWVudCwgYnRuUHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGJ1aWxkIG91ciBkaXYgd3JhcHBlclxyXG4gICAgICAgICAgICBsZXQgZGl2Q29udGFpbmVyID0gdGhpcy5jcmVhdGVEaXZDb250YWluZXIoYnRuRWxlbWVudCwgYnRuUHJlZml4KTtcclxuICAgICAgICAgICAgaWYgKGNoaWxkRWxlbSkgJChkaXZDb250YWluZXIpLmFwcGVuZChjaGlsZEVsZW0pO1xyXG5cclxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBzaGFwZSBlbGVtZW50c1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNoYXBlcyhkaXZDb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBnbHlwaCBpY29uXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlR2x5cGhJY29uKGRpdkNvbnRhaW5lciwgYnRuUHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgZXZlbnRzXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRXZlbnRzKGRpdkNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgICAgICAvLyBhcHBlbmQgZGl2IGNvbnRhaW5lciB0byBidG4gZWxlbWVudFxyXG4gICAgICAgICAgICBidG5FbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlZW5kJywgZGl2Q29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG1ha2UgYnRuIHZpc2libGVcclxuICAgICAgICAgICAgJChidG5FbGVtZW50KS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ3Zpc2libGUnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIGFkZCBzdGF0aWMgc3R5bGVzIGFzYXAuXHJcbiAgICBTd2VldEJ1dHRvbi5BZGRTdGF0aWNTdHlsZXMoKTtcclxuXHJcbiAgICAvLyBhZGQgdGhlIHN3ZWV0QnV0dG9uIGZuIHRvIHRoZSBnbG9iYWwgalF1ZXJ5IG9iai5cclxuICAgICQuZm4uc3dlZXRCdXR0b24gPSBmdW5jdGlvbihvcHRpb25zID0geyBjbGFzc05hbWU6ICdzd2VldC1idG4nIH0pIHtcclxuICAgICAgICAvLyBidG4gcHJlZml4XHJcbiAgICAgICAgY29uc3QgYnRuUHJlZml4ID0gb3B0aW9ucy5jbGFzc05hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGVhY2ggYnV0dG9uIGFuZCBtYW5pcHVsYXRlXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBzd2VldEJ0biA9IG5ldyBTd2VldEJ1dHRvbih0aGlzLCBidG5QcmVmaXgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc3dlZXRCdG46ICcsIHN3ZWV0QnRuKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn0oIGpRdWVyeSApKTsiXX0=
