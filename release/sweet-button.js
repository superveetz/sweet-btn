!function(e){var t=function(){function t(n,i){var a=this;this.hasChildElem=!1,this["on-load"]="",this["scroll-in"]="",this["scroll-in-animation-duration"]="",this["scroll-in-animation-delay"]="",this["scroll-in-animation-iteration-count"]="",this["scroll-out"]="",this["scroll-out-animation-duration"]="",this["scroll-out-animation-delay"]="",this["scroll-out-animation-iteration-count"]="",this["glyph-size"]="",this["glyph-color"]="",this["glyph-classes"]="",this["glyph-click"]="",this["glyph-click-animation-duration"]="",this["glyph-click-animation-delay"]="",this["glyph-click-animation-iteration-count"]="",this["glyph-mouse-enter"]="",this["glyph-mouse-enter-animation-duration"]="",this["glyph-mouse-enter-animation-delay"]="",this["glyph-mouse-enter-animation-iteration-count"]="",this["glyph-mouse-leave"]="",this["glyph-mouse-leave-animation-duration"]="",this["glyph-mouse-leave-animation-delay"]="",this["glyph-mouse-leave-animation-iteration-count"]="",this["element-events"]={activeClassCount:{},isClickOccuring:!1,isMouseEnterOccuring:!1,isMouseLeaveOccuring:!1,isScrollInOccuring:!1,isScrollOutOccuring:!1,click:[],"mouse-enter":[],"mouse-leave":[],"scroll-in":[],"scroll-out":[]},this.shape=[{"shape-1":"","shape-1-size":"","shape-1-background":"","shape-1-zIndex":"","shape-1-mouse-enter":"","shape-1-mouse-enter-animation-duration":"","shape-1-mouse-enter-animation-delay":"","shape-1-mouse-enter-animation-iteration-count":"","shape-1-mouse-leave":"","shape-1-mouse-leave-animation-duration":"","shape-1-mouse-leave-animation-delay":"","shape-1-mouse-leave-animation-iteration-count":"","shape-1-click":"","shape-1-click-animation-duration":"","shape-1-click-animation-delay":"","shape-1-click-animation-iteration-count":""},{"shape-2":"","shape-2-size":"","shape-2-background":"","shape-2-zIndex":"","shape-2-mouse-enter":"","shape-2-mouse-enter-animation-duration":"","shape-2-mouse-enter-animation-delay":"","shape-2-mouse-enter-animation-iteration-count":"","shape-2-mouse-leave":"","shape-2-mouse-leave-animation-duration":"","shape-2-mouse-leave-animation-delay":"","shape-2-mouse-leave-animation-iteration-count":"","shape-2-click":"","shape-2-click-animation-duration":"","shape-2-click-animation-delay":"","shape-2-click-animation-iteration-count":""},{"shape-3":"","shape-3-size":"","shape-3-background":"","shape-3-zIndex":"","shape-3-mouse-enter":"","shape-3-mouse-enter-animation-duration":"","shape-3-mouse-enter-animation-delay":"","shape-3-mouse-enter-animation-iteration-count":"","shape-3-mouse-leave":"","shape-3-mouse-leave-animation-duration":"","shape-3-mouse-leave-animation-delay":"","shape-3-mouse-leave-animation-iteration-count":"","shape-3-click":"","shape-3-click-animation-duration":"","shape-3-click-animation-delay":"","shape-3-click-animation-iteration-count":""},{"shape-4":"","shape-4-size":"","shape-4-background":"","shape-4-zIndex":"","shape-4-mouse-enter":"","shape-4-mouse-enter-animation-duration":"","shape-4-mouse-enter-animation-delay":"","shape-4-mouse-enter-animation-iteration-count":"","shape-4-mouse-leave":"","shape-4-mouse-leave-animation-duration":"","shape-4-mouse-leave-animation-delay":"","shape-4-mouse-leave-animation-iteration-count":"","shape-4-click":"","shape-4-click-animation-duration":"","shape-4-click-animation-delay":"","shape-4-click-animation-iteration-count":""},{"shape-5":"","shape-5-size":"","shape-5-background":"","shape-5-zIndex":"","shape-5-mouse-enter":"","shape-5-mouse-enter-animation-duration":"","shape-5-mouse-enter-animation-delay":"","shape-5-mouse-enter-animation-iteration-count":"","shape-5-mouse-leave":"","shape-5-mouse-leave-animation-duration":"","shape-5-mouse-leave-animation-delay":"","shape-5-mouse-leave-animation-iteration-count":"","shape-5-click":"","shape-5-click-animation-duration":"","shape-5-click-animation-delay":"","shape-4-click-animation-iteration-count":""}],this.shapeScale={xs:{width:30,height:30},sm:{width:45,height:45},md:{width:60,height:60},lg:{width:75,height:75},xl:{width:90,height:90}},this.createHexagon=function(e,t){var n=e["shape-"+t+"-size"].length?e["shape-"+t+"-size"]:"xs",i=a.shapeScale[n].width,o=i/10,s=a.shapeScale[n].height,l=s/10,r=""+-1*(i/2+o),u=""+-1*(s/2+l),c=e["shape-"+t+"-click"],m=e["shape-"+t+"-mouse-enter"],h=e["shape-"+t+"-mouse-leave"],p=document.createElementNS("http://www.w3.org/2000/svg","svg"),d=c.length?"shape-"+t+"-click-"+c:"",v=m.length?"shape-"+t+"-mouse-enter-"+m:"",g=h.length?"shape-"+t+"-mouse-leave-"+h:"",f=d+" "+v+" "+g;p.setAttribute("class",f),p.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),p.setAttribute("viewBox","0 0 "+i/2+" "+s/2),p.setAttribute("fill",e["shape-"+t+"-background"]),p.setAttribute("stroke","black"),p.setAttribute("stroke-width",s/100+"px"),p.setAttribute("z-index",e["shape-"+t+"-zIndex"]),p.setAttribute("width",i+2*o+"px"),p.setAttribute("height",s+2*l+"px"),p.setAttribute("style","margin-left: "+r+"px; margin-top: "+u+"px;");var y=document.createElementNS("http://www.w3.org/2000/svg","polygon"),C=i/100,w=s/100,b=[46*C+" "+37.5*w,25*C+" "+46*w,4*C+" "+37.5*w,4*C+" "+12.5*w,25*C+" "+4*w,46*C+" "+12.5*w];return y.setAttributeNS(null,"points",b.join(", ")),p.appendChild(y),p},this.createCircle=function(e,t){var n=e["shape-"+t+"-size"].length?e["shape-"+t+"-size"]:"xs",i=1.14*a.shapeScale[n].width,o=i/10,s=1.14*a.shapeScale[n].height,l=s/10,r=-1*(i/2+o),u=-1*(s/2+l),c=e["shape-"+t+"-click"],m=e["shape-"+t+"-mouse-enter"],h=e["shape-"+t+"-mouse-leave"],p=document.createElementNS("http://www.w3.org/2000/svg","svg"),d=c.length?"shape-"+t+"-click-"+c:"",v=m.length?"shape-"+t+"-mouse-enter-"+m:"",g=h.length?"shape-"+t+"-mouse-leave-"+h:"",f=d+" "+v+" "+g;p.setAttribute("class",f),p.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),p.setAttribute("viewBox","0 0 "+i/2+" "+s/2),p.setAttribute("fill",e["shape-"+t+"-background"]),p.setAttribute("stroke","black"),p.setAttribute("stroke-width",s/100+"px"),p.setAttribute("z-index",e["shape-"+t+"-zIndex"]),p.setAttribute("width",i+2*o+"px"),p.setAttribute("height",s+2*l+"px"),p.setAttribute("style","margin-left: "+r+"px; margin-top: "+u+"px;");var y=document.createElementNS("http://www.w3.org/2000/svg","ellipse");y.setAttribute("fill",e["shape-"+t+"-background"]);return y.setAttribute("cx",""+(.28*i-.28*o)),y.setAttribute("cy",""+(.28*s-.28*l)),y.setAttribute("rx",""+i/5),y.setAttribute("ry",""+s/5),p.appendChild(y),p},this.createSquare=function(e,t){var n=e["shape-"+t+"-size"].length?e["shape-"+t+"-size"]:"xs",i=a.shapeScale[n].width,o=i/10,s=i+2*o,l=a.shapeScale[n].height,r=l/10,u=l+2*r,c=""+-1*(i/2+o),m=""+-1*(l/2+r),h=e["shape-"+t+"-click"],p=e["shape-"+t+"-mouse-enter"],d=e["shape-"+t+"-mouse-leave"],v=document.createElementNS("http://www.w3.org/2000/svg","svg"),g=h.length?"shape-"+t+"-click-"+h:"",f=p.length?"shape-"+t+"-mouse-enter-"+p:"",y=d.length?"shape-"+t+"-mouse-leave-"+d:"",C=g+" "+f+" "+y;v.setAttribute("class",C),v.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),v.setAttribute("viewBox","0 0 "+i/2+" "+l/2),v.setAttribute("fill",e["shape-"+t+"-background"]),v.setAttribute("stroke","black"),v.setAttribute("stroke-width",l/100+"px"),v.setAttribute("z-index",e["shape-"+t+"-zIndex"]),v.setAttribute("width",i+2*o+"px"),v.setAttribute("height",l+2*r+"px"),v.setAttribute("style","margin-left: "+c+"px; margin-top: "+m+"px;");var w=document.createElementNS("http://www.w3.org/2000/svg","rect");return w.setAttribute("width",""+(s/2-2*o)),w.setAttribute("height",""+(u/2-2*r)),w.setAttribute("x",""+o/2),w.setAttribute("y",""+r/2),v.appendChild(w),v},this.parseBtnAttributes=function(e,t){for(var n,i,o,s,l,r=e.attributes,u=0;u<r.length;u++)"length"!=(n=r[u].name)&&(i=n.indexOf("data-"),-1!=i&&(n=n.substring("data-".length,n.length)),o=n.indexOf(t),-1!=o&&(n=n.substring(t.length+1,n.length)),s=n.match(/\d+/g),s?(l=parseFloat(s[0])-1,void 0!=a.shape[l][n]?(a.shape[l][n]=r[u].value,a.shape[l]["shape-"+(l+1)+"-zIndex"]=l+1):void 0==a.shape[l][n]&&-1!=o&&console.debug("SweetButton: ",n,"is not supported, the maximum number of layered shapes is 5.")):void 0!=a[n]?a[n]=r[u].value:void 0==a[n]&&-1!=o&&console.debug("SweetButton: ",n,"is not supported, please visit the documentation for a complete list of valid attributes."))},this.createShapes=function(e){var t,n,i,o,s;if(a["scroll-out"]){var l={activeClassCount:{}};t=a["scroll-out"],n=a["scroll-out-animation-duration"],i=a["scroll-out-animation-delay"],o=a["scroll-out-animation-iteration-count"],l.scrollOutLastPos=0,l.selector="scroll-out-"+t,"infinite"==o&&(o=void 0,console.debug('SweetButton: "infinite" is not supported as an animation-iteration-count property.')),l.animationIterationCount=o||1,l.animationClass=t||"",l.animationDuration=n||1e3,l.animationDelay=i||0,a["element-events"]["scroll-out"].push(l)}if(a["scroll-in"]){var l={activeClassCount:{}};t=a["scroll-in"],n=a["scroll-in-animation-duration"],i=a["scroll-in-animation-delay"],o=a["scroll-in-animation-iteration-count"],l.scrollInLastPos=0,l.selector="scroll-in-"+t,"infinite"==o&&(o=void 0,console.debug('SweetButton: "infinite" is not supported as an animation-iteration-count property.')),l.animationIterationCount=o||1,l.animationClass=t||"",l.animationDuration=n||1e3,l.animationDelay=i||0,a["element-events"]["scroll-in"].push(l)}for(var r,u,c=0,m=a.shape.length;c<m;c++)if(a.shape[c]["shape-"+(c+1)])if(r=a.shape[c],u=r["shape-"+(c+1)],a.shapeDictionary[u]){var h=a.shapeDictionary[u](r,c+1);if(h.setAttribute("class",h.getAttribute("class")+" animated"),r["shape-"+(c+1)+"-click"]){var l={activeClassCount:{}};t=r["shape-"+(c+1)+"-click"],n=r["shape-"+(c+1)+"-click-animation-duration"],i=r["shape-"+(c+1)+"-click-animation-delay"],o=r["shape-"+(c+1)+"-click-animation-iteration-count"],l.selector="shape-"+(c+1)+"-click-"+t,"infinite"==o&&(o=void 0,console.debug('SweetButton: "infinite" is not supported as an animation-iteration-count property.')),l.animationIterationCount=o||1,l.animationClass=t||"",l.animationDuration=n||1e3,l.animationDelay=i||0,a["element-events"].click.push(l)}if(r["shape-"+(c+1)+"-mouse-enter"]){var l={activeClassCount:{}};t=r["shape-"+(c+1)+"-mouse-enter"],n=r["shape-"+(c+1)+"-mouse-enter-animation-duration"],i=r["shape-"+(c+1)+"-mouse-enter-animation-delay"],o=r["shape-"+(c+1)+"-mouse-enter-animation-iteration-count"],l.selector="shape-"+(c+1)+"-mouse-enter-"+t,"infinite"==o&&(o=void 0,console.debug('SweetButton: "infinite" is not supported as an animation-iteration-count property.')),l.animationClass=t||"",l.animationDuration=n||1e3,l.animationDelay=i||0,l.animationIterationCount=o||1,s=a["element-events"].activeClassCount[l.animationClass],s||(a["element-events"].activeClassCount[l.animationClass]=0),a["element-events"]["mouse-enter"].push(l)}if(r["shape-"+(c+1)+"-mouse-leave"]){var l={activeClassCount:{}};t=r["shape-"+(c+1)+"-mouse-leave"],n=r["shape-"+(c+1)+"-mouse-leave-animation-duration"],i=r["shape-"+(c+1)+"-mouse-leave-animation-delay"],o=r["shape-"+(c+1)+"-mouse-leave-animation-iteration-count"],"infinite"==o&&(o=void 0,console.debug('SweetButton: "infinite" is not supported as an animation-iteration-count property.')),l.selector="shape-"+(c+1)+"-mouse-leave-"+t,l.animationIterationCount=o||1,l.animationClass=t||"",l.animationDuration=n||1e3,l.animationDelay=i||0,s=a["element-events"].activeClassCount[l.animationClass],s||(a["element-events"].activeClassCount[l.animationClass]=0),a["element-events"]["mouse-leave"].push(l)}e.insertAdjacentElement("beforeend",h)}else console.debug("SweetButton: ",u,"is not supported, view the documentation for the completelist of shape types.")},this.createGlyphIcon=function(e,t){if(a["glyph-classes"]){var n=document.createElement("i");n.className=a["glyph-classes"];var i=a["glyph-size"].length?a["glyph-size"]:"xs",o=(a.shapeScale[i].width,a.shapeScale[i].height);if(n.style.fontSize=o/2+"px",n.style.lineHeight=o/2+"px",n.style.color=a["glyph-color"],a.hasChildElem){var s=o/2,l=a.childWidth;a.shapeScale[i].width;n.style.marginTop="-"+s/2+"px",n.style.marginLeft="-"+(s/2+s/8+l/2+2)+"px"}else{var s=o/2;n.style.marginTop="-"+s/2+"px",n.style.marginLeft="-"+(s/2+s/8)+"px"}var r=void 0,u=void 0,c=void 0,m=void 0,h=void 0;if(a["glyph-click"]){var p={};r=a["glyph-click"],u=a["glyph-click-animation-duration"],c=a["glyph-click-animation-delay"],m=a["glyph-click-animation-iteration-count"],"infinite"==m&&(console.debug("SweetButton: ",'"infinite" is not supported as an animation-iteration-count property.an animation-iteration-count'),m=void 0),p.selector="glyph-click-"+r,n.className+=" "+p.selector,p.animationClass=r||"",p.animationDuration=u||1e3,p.animationDelay=c||0,p.animationIterationCount=m||1,a["element-events"].click.push(p)}if(a["glyph-click"]&&a.hasChildElem){var p={};r=a["glyph-click"],u=a["glyph-click-animation-duration"],c=a["glyph-click-animation-delay"],m=a["glyph-click-animation-iteration-count"],"infinite"==m&&(console.debug("SweetButton: ",'"infinite" is not supported as an animation-iteration-count property.an animation-iteration-count'),m=void 0),p.selector=t+"-inner-text",p.animationClass=r||"",p.animationDuration=u||1e3,p.animationDelay=c||0,p.animationIterationCount=m||1,a["element-events"].click.push(p)}if(a["glyph-mouse-enter"]){var p={};r=a["glyph-mouse-enter"],u=a["glyph-mouse-enter-animation-duration"],c=a["glyph-mouse-enter-animation-delay"],m=a["glyph-mouse-enter-animation-iteration-count"],"infinite"==m&&(console.debug("SweetButton: ",'"infinite" is not supported as an animation-iteration-count property.an animation-iteration-count'),m=void 0),p.selector="glyph-mouse-enter-"+r,n.className+=" "+p.selector,p.animationClass=r||"",p.animationDuration=u||1e3,p.animationDelay=c||0,p.animationIterationCount=m||1,h=a["element-events"].activeClassCount[p.animationClass],h||(a["element-events"].activeClassCount[p.animationClass]=0),a["element-events"]["mouse-enter"].push(p)}if(a["glyph-mouse-enter"]&&a.hasChildElem){var p={};r=a["glyph-mouse-enter"],u=a["glyph-mouse-enter-animation-duration"],c=a["glyph-mouse-enter-animation-delay"],m=a["glyph-mouse-enter-animation-iteration-count"],"infinite"==m&&(console.debug("SweetButton: ",'"infinite" is not supported as an animation-iteration-count property.an animation-iteration-count'),m=void 0),p.selector=t+"-inner-text",p.animationClass=r||"",p.animationDuration=u||1e3,p.animationDelay=c||0,p.animationIterationCount=m||1,h=a["element-events"].activeClassCount[p.animationClass],h||(a["element-events"].activeClassCount[p.animationClass]=0),a["element-events"]["mouse-enter"].push(p)}if(a["glyph-mouse-leave"]){var p={};r=a["glyph-mouse-leave"],u=a["glyph-mouse-leave-animation-duration"],c=a["glyph-mouse-leave-animation-delay"],m=a["glyph-mouse-leave-animation-iteration-count"],"infinite"==m&&(console.debug("SweetButton: ",'"infinite" is not supported as an animation-iteration-count property.an animation-iteration-count'),m=void 0),p.selector="glyph-mouse-leave-"+r,n.className+=" "+p.selector,p.animationClass=r||"",p.animationDuration=u||1e3,p.animationDelay=c||0,p.animationIterationCount=m||1,h=a["element-events"].activeClassCount[p.animationClass],h||(a["element-events"].activeClassCount[p.animationClass]=0),a["element-events"]["mouse-leave"].push(p)}if(a["glyph-mouse-leave"]&&a.hasChildElem){var p={};r=a["glyph-mouse-leave"],u=a["glyph-mouse-leave-animation-duration"],c=a["glyph-mouse-leave-animation-delay"],m=a["glyph-mouse-leave-animation-iteration-count"],"infinite"==m&&(console.debug("SweetButton: ",'"infinite" is not supported as an animation-iteration-count property.an animation-iteration-count'),m=void 0),p.selector=t+"-inner-text",p.animationClass=r||"",p.animationDuration=u||1e3,p.animationDelay=c||0,p.animationIterationCount=m||1,h=a["element-events"].activeClassCount[p.animationClass],h||(a["element-events"].activeClassCount[p.animationClass]=0),a["element-events"]["mouse-leave"].push(p)}e.appendChild(n)}},this.createEvents=function(e){a["element-events"].click.length&&e.addEventListener("click",t.HandleClickEvent(e,a["element-events"])),a["element-events"]["mouse-enter"].length&&(e.addEventListener("mouseenter",t.HandleMouseEnterEvent(e,a["element-events"])),e.addEventListener("touchstart",t.HandleMouseEnterEvent(e,a["element-events"]))),a["element-events"]["mouse-leave"].length&&e.addEventListener("mouseleave",t.HandleMouseLeaveEvent(e,a["element-events"])),a["element-events"]["scroll-in"].length&&window.addEventListener("scroll",t.HandleScrollInEvent(e,a["element-events"],!1)),a["element-events"]["scroll-out"].length&&window.addEventListener("scroll",t.HandleScrollOutEvent(e,a["element-events"]))},this.parseBtnInnerHtml=function(t,n){var i=e(t).children();if(0!=i.length){a.hasChildElem=!0;var o=i[0];e(o).addClass(n+"-inner-text");var s=e(o).width();a.childWidth=s;var l=e(o).height();for(var r in a.shapeScale)a.shapeScale[r].width+=1.5*s,a.shapeScale[r].height+=l/2;if(a["glyph-classes"]){var u=a["glyph-size"].length?a["glyph-size"]:"xs",c=a.shapeScale[u].width;e(o).css({position:"absolute",top:"50%",left:"50%",marginTop:l/2.25*-1,marginLeft:-1*(s/2-c/8-2)})}else e(o).css({position:"absolute",top:"50%",left:"50%",marginTop:l/2.25*-1,marginLeft:s/2*-1});return o}},this.createDivContainer=function(t,n){var i,o,s,l;e(t).hasClass(n+"-xl")?(i=a.shapeScale.xl.width,s=a.shapeScale.xl.height):e(t).hasClass(n+"-lg")?(i=a.shapeScale.lg.width,s=a.shapeScale.lg.height):e(t).hasClass(n+"-md")?(i=a.shapeScale.md.width,s=a.shapeScale.md.height):e(t).hasClass(n+"-sm")?(i=a.shapeScale.sm.width,s=a.shapeScale.sm.height):(e(t).hasClass(n+"-xs"),i=a.shapeScale.xs.width,s=a.shapeScale.xs.height),o=i/10,l=s/10,a["on-load"]&&(e(t).addClass("animated "+a["on-load"]),a["element-events"].isLoadOccuring=!0,setTimeout(function(){e(t).removeClass(""+a["on-load"]),e(t).removeClass("animated"),a["element-events"].isLoadOccuring=!1},1e3)),e(t).css({height:s+2*l+"px",width:i+2*o+"px"});var r=document.createElement("div");return r.setAttribute("class",n+"-wrap"),r.style.height="100%",r.style.width="100%",r},this.shapeDictionary={hexagon:this.createHexagon,square:this.createSquare,circle:this.createCircle},this.parseBtnAttributes(n,i);var o=this.parseBtnInnerHtml(n,i),s=this.createDivContainer(n,i);o&&e(s).append(o),this.createShapes(s),this.createGlyphIcon(s,i),this.createEvents(s),n.insertAdjacentElement("beforeend",s),e(n).css({visibility:"visible"})}return t.AddStaticStyles=function(e){void 0===e&&(e="sweet-btn");var t=e+"-styles",n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.setAttribute("rel","stylesheet"),i.setAttribute("media","only screen"),i.setAttribute("id",t),i.setAttribute("type","text/css");var a="          ."+e+" {\n                position: relative;\n                display: inline-block;\n                visibility: hidden;\n                cursor: pointer;\n                -webkit-touch-callout: text;\n                user-select: text;\n                -webkit-user-select: text;\n                -moz-user-select: text;\n                -ms-user-select: text;\n                -o-user-select: text;\n                vertical-align: middle;\n                text-align: center;\n            }\n            \n            ."+e+" ."+e+"-wrap svg {\n                pointer-events: none;\n                overflow: visible;\n                -webkit-back-face-visibility: hidden;\n                backface-visibility: hidden;\n                z-index: 100;\n                display: inline-block;\n                position: absolute;\n                left:50%;\n                top: 50%;\n                -webkit-animation-fill-mode: both;\n                animation-fill-mode: both;\n            }\n\n            ."+e+" ."+e+"-wrap svg rect,\n            ."+e+" ."+e+"-wrap svg circle,\n            ."+e+" ."+e+"-wrap svg polygon,\n            ."+e+" ."+e+"-wrap svg elipsis {\n                pointer-events: none;\n            }\n            \n            ."+e+" ."+e+"-wrap i {\n                z-index: 150;\n                display: inline-block;\n                position: absolute;\n                left: 50%;\n                top: 50%;\n                pointer-events: none;\n\n                -webkit-text-stroke-color: black;\n                -webkit-text-stroke-width: 0.5px;\n                -webkit-tap-highlight-color: transparent;\n\n            }\n\n            ."+e+" ."+e+"-inner-text {\n                    display: inline-block;\n                    z-index: 150;\n                    whiteSpace: pre;\n                    margin: 0;\n                    padding: 0;\n                    \n                    -webkit-touch-callout: text;\n                    user-select: text;\n                    -webkit-user-select: text;\n                    -moz-user-select: text;\n                    -ms-user-select: text;\n                    -o-user-select: text;\n            }\n            ";i.appendChild(document.createTextNode(a)),n.appendChild(i)},t.RemoveEventAnimationClasses=function(t,n,i){var a;i.forEach(function(i,o){n[i]&&n[i].length&&n[i].forEach(function(n,i){a=e(t).find("."+n.selector),a.hasClass(n.animationClass)&&(a.removeClass(n.animationClass),a.css({"-webkit-animation-duration":"","animation-duration":""}))})})},t.AddEventAnimationClasses=function(t,n,i){var a;i.forEach(function(i,o){n[i]&&n[i].length&&n[i].forEach(function(n,i){a=e(t).find("."+n.selector),a.hasClass(n.animationClass)||(a.addClass(n.animationClass),a.css({"-webkit-animation-duration":n.animationDuration+"ms","animation-duration":n.animationDuration+"ms"}))})})},t.HandleMouseEnterEvent=function(t,n){return function(){if(n.isOnLoadOccuring||n.isMouseEnterOccuring||n.isMouseLeaveOccuring||n.isClickOccuring||n.isScrollInOccuring||n.isScrollOutOccuring)return!1;n.isMouseEnterOccuring=!0;var i;async.each(n["mouse-enter"],function(n,a){async.waterfall([function(a){return i=e(t).find("."+n.selector),i.css({"-webkit-animation-duration":n.animationDuration+"ms","animation-duration":n.animationDuration+"ms","-webkit-animation-iteration-count":n.animationIterationCount,"animation-iteration-count":n.animationIterationCount}),a(null,i)},function(e,t){setTimeout(function(){return e.addClass(""+n.animationClass),t(null,e)},n.animationDelay)},function(e,t){setTimeout(function(){return e.removeClass(""+n.animationClass),t(null,e)},n.animationIterationCount*n.animationDuration)}],a)},function(e){e&&console.debug("err:",e),n.isMouseEnterOccuring=!1})}},t.HandleMouseLeaveEvent=function(n,i){return function(){if(i.isOnLoadOccuring||i.isMouseLeaveOccuring||i.isMouseEnterOccuring||i.isClickOccuring||i.isScrollInOccuring||i.isScrollOutOccuring)return!1;i.isMouseLeaveOccuring=!0;var a;async.each(i["mouse-leave"],function(o,s){async.waterfall([function(t){return a=e(n).find("."+o.selector),a.css({"-webkit-animation-duration":o.animationDuration+"ms","animation-duration":o.animationDuration+"ms","-webkit-animation-iteration-count":o.animationIterationCount,"animation-iteration-count":o.animationIterationCount}),t(null,a)},function(e,t){setTimeout(function(){return i.activeClassCount[""+o.animationClass]++,e.hasClass(""+o.animationClass)||e.addClass(""+o.animationClass),t(null,e)},o.animationDelay)},function(e,a){async.parallel([function(e){setTimeout(function(){return i.isMouseLeaveOccuring=!1,t.HandleMouseEnterEvent(n,i)(),e()},o.animationDuration*o.animationIterationCount-100)},function(t){setTimeout(function(){return i.activeClassCount[""+o.animationClass]--,0==i.activeClassCount[""+o.animationClass]&&e.removeClass(""+o.animationClass),a(null,e)},o.animationDuration*o.animationIterationCount)}],a)}],s)},function(e){e&&console.debug("err:",e)})}},t.HandleScrollOutEvent=function(n,i){return function(){function a(){i.isScrollOutOccuring=!0;var a;async.each(i["scroll-out"],function(o,s){async.waterfall([function(t){return a=e(n),a.css({"-webkit-animation-duration":o.animationDuration+"ms","animation-duration":o.animationDuration+"ms","-webkit-animation-iteration-count":o.animationIterationCount,"animation-iteration-count":o.animationIterationCount}),t(null,a)},function(e,t){setTimeout(function(){return e.addClass(""+o.animationClass),t(null,e)},o.animationDelay)},function(e,a){async.parallel([function(e){setTimeout(function(){return i.isScrollOutOccuring=!1,t.HandleScrollInEvent(n,i,!0)(),e()},o.animationDuration*o.animationIterationCount-100)},function(t){setTimeout(function(){return e.removeClass(""+o.animationClass),a(null,e)},o.animationDuration*o.animationIterationCount)}])}],s)},function(e){e&&console.debug("err:",e)})}var o=i.scrollOutLastPos,s=e(window).scrollTop();if(i.scrollOutLastPos=s,i.isOnLoadOccuring||i.isClickOccuring||i.isMouseEnterOccuring||i.isMouseLeaveOccuring||i.isScrollInOccuring||i.isScrollOutOccuring)return!1;var l=e(n).offset(),r=e(n).height();s<o?s+window.innerHeight>l.top+r-r/3&&s+window.innerHeight<l.top+r+r/3&&a():s>l.top-r-r/3&&s<l.top+r/3&&a()}},t.HandleScrollInEvent=function(t,n,i){return function(){function a(){n.isScrollInOccuring=!0;var i;async.each(n["scroll-in"],function(n,a){async.waterfall([function(a){return i=e(t),i.css({"-webkit-animation-duration":n.animationDuration+"ms","animation-duration":n.animationDuration+"ms","-webkit-animation-iteration-count":n.animationIterationCount,"animation-iteration-count":n.animationIterationCount}),a(null,i)},function(e,t){setTimeout(function(){return e.addClass(""+n.animationClass),t(null,e)},n.animationDelay)},function(e,t){setTimeout(function(){return e.removeClass(""+n.animationClass),t(null,e)},n.animationDuration*n.animationIterationCount)}],a)},function(e){e&&console.debug("err:",e),n.isScrollInOccuring=!1})}if(i)return a();var o=n.scrollInLastPos,s=e(window).scrollTop();if(n.scrollInLastPos=s,n.isOnLoadOccuring||n.isClickOccuring||n.isMouseEnterOccuring||n.isMouseLeaveOccuring||n.isScrollInOccuring||n.isScrollOutOccuring)return!1;var l=e(t).offset(),r=e(t).height();s>o?s+window.innerHeight>l.top-r/3&&s+window.innerHeight<l.top+r/3&&a():s>l.top+r-r/3&&s<l.top+r+r/3&&a()}},t.HandleClickEvent=function(n,i){return function(){if(i.isClickOccuring)return!1;i.isClickOccuring=!0;var a;async.each(i.click,function(o,s){async.waterfall([function(s){return a=e(n).find("."+o.selector),t.RemoveEventAnimationClasses(n,i,["mouse-enter","mouse-leave","scroll-in","scroll-out"]),a.css({"-webkit-animation-duration":o.animationDuration+"ms","animation-duration":o.animationDuration+"ms","-webkit-animation-iteration-count":o.animationIterationCount,"animation-iteration-count":o.animationIterationCount}),s(null,a)},function(e,t){setTimeout(function(){return e.addClass(""+o.animationClass),t(null,e)},o.animationDelay)},function(e,t){setTimeout(function(){return e.removeClass(""+o.animationClass),t(null,e)},o.animationDuration*o.animationIterationCount)}],s)},function(e){e&&console.debug("err:",e),i.isClickOccuring=!1})}},t}();t.AddStaticStyles(),e.fn.sweetButton=function(e){void 0===e&&(e={className:"sweet-btn"});var n=e.className;return this.each(function(){var e=new t(this,n);console.log("sweetBtn: ",e)})}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9zd2VldC1pY29ucy50cyJdLCJuYW1lcyI6WyIkIiwiU3dlZXRCdXR0b24iLCJidG5FbGVtZW50IiwiYnRuUHJlZml4IiwiX3RoaXMiLCJ0aGlzIiwiYWN0aXZlQ2xhc3NDb3VudCIsImlzQ2xpY2tPY2N1cmluZyIsImlzTW91c2VFbnRlck9jY3VyaW5nIiwiaXNNb3VzZUxlYXZlT2NjdXJpbmciLCJpc1Njcm9sbEluT2NjdXJpbmciLCJpc1Njcm9sbE91dE9jY3VyaW5nIiwiY2xpY2siLCJtb3VzZS1lbnRlciIsIm1vdXNlLWxlYXZlIiwic2Nyb2xsLWluIiwic2Nyb2xsLW91dCIsInNoYXBlLTEiLCJzaGFwZS0xLXNpemUiLCJzaGFwZS0xLWJhY2tncm91bmQiLCJzaGFwZS0xLXpJbmRleCIsInNoYXBlLTEtbW91c2UtZW50ZXIiLCJzaGFwZS0xLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbiIsInNoYXBlLTEtbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5Iiwic2hhcGUtMS1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50Iiwic2hhcGUtMS1tb3VzZS1sZWF2ZSIsInNoYXBlLTEtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uIiwic2hhcGUtMS1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXkiLCJzaGFwZS0xLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQiLCJzaGFwZS0xLWNsaWNrIiwic2hhcGUtMS1jbGljay1hbmltYXRpb24tZHVyYXRpb24iLCJzaGFwZS0xLWNsaWNrLWFuaW1hdGlvbi1kZWxheSIsInNoYXBlLTEtY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCIsInNoYXBlLTIiLCJzaGFwZS0yLXNpemUiLCJzaGFwZS0yLWJhY2tncm91bmQiLCJzaGFwZS0yLXpJbmRleCIsInNoYXBlLTItbW91c2UtZW50ZXIiLCJzaGFwZS0yLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbiIsInNoYXBlLTItbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5Iiwic2hhcGUtMi1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50Iiwic2hhcGUtMi1tb3VzZS1sZWF2ZSIsInNoYXBlLTItbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uIiwic2hhcGUtMi1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXkiLCJzaGFwZS0yLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQiLCJzaGFwZS0yLWNsaWNrIiwic2hhcGUtMi1jbGljay1hbmltYXRpb24tZHVyYXRpb24iLCJzaGFwZS0yLWNsaWNrLWFuaW1hdGlvbi1kZWxheSIsInNoYXBlLTItY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCIsInNoYXBlLTMiLCJzaGFwZS0zLXNpemUiLCJzaGFwZS0zLWJhY2tncm91bmQiLCJzaGFwZS0zLXpJbmRleCIsInNoYXBlLTMtbW91c2UtZW50ZXIiLCJzaGFwZS0zLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbiIsInNoYXBlLTMtbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5Iiwic2hhcGUtMy1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50Iiwic2hhcGUtMy1tb3VzZS1sZWF2ZSIsInNoYXBlLTMtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uIiwic2hhcGUtMy1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXkiLCJzaGFwZS0zLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQiLCJzaGFwZS0zLWNsaWNrIiwic2hhcGUtMy1jbGljay1hbmltYXRpb24tZHVyYXRpb24iLCJzaGFwZS0zLWNsaWNrLWFuaW1hdGlvbi1kZWxheSIsInNoYXBlLTMtY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCIsInNoYXBlLTQiLCJzaGFwZS00LXNpemUiLCJzaGFwZS00LWJhY2tncm91bmQiLCJzaGFwZS00LXpJbmRleCIsInNoYXBlLTQtbW91c2UtZW50ZXIiLCJzaGFwZS00LW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbiIsInNoYXBlLTQtbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5Iiwic2hhcGUtNC1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50Iiwic2hhcGUtNC1tb3VzZS1sZWF2ZSIsInNoYXBlLTQtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uIiwic2hhcGUtNC1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXkiLCJzaGFwZS00LW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQiLCJzaGFwZS00LWNsaWNrIiwic2hhcGUtNC1jbGljay1hbmltYXRpb24tZHVyYXRpb24iLCJzaGFwZS00LWNsaWNrLWFuaW1hdGlvbi1kZWxheSIsInNoYXBlLTQtY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCIsInNoYXBlLTUiLCJzaGFwZS01LXNpemUiLCJzaGFwZS01LWJhY2tncm91bmQiLCJzaGFwZS01LXpJbmRleCIsInNoYXBlLTUtbW91c2UtZW50ZXIiLCJzaGFwZS01LW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbiIsInNoYXBlLTUtbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5Iiwic2hhcGUtNS1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50Iiwic2hhcGUtNS1tb3VzZS1sZWF2ZSIsInNoYXBlLTUtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uIiwic2hhcGUtNS1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXkiLCJzaGFwZS01LW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQiLCJzaGFwZS01LWNsaWNrIiwic2hhcGUtNS1jbGljay1hbmltYXRpb24tZHVyYXRpb24iLCJzaGFwZS01LWNsaWNrLWFuaW1hdGlvbi1kZWxheSIsInNoYXBlU2NhbGUiLCJ4cyIsIndpZHRoIiwiaGVpZ2h0Iiwic20iLCJtZCIsImxnIiwieGwiLCJjcmVhdGVIZXhhZ29uIiwic2hhcGVDb25maWciLCJzaGFwZUxheWVyTnVtIiwic2hhcGVTaXplIiwibGVuZ3RoIiwic2hhcGVTY2FsZVgiLCJzaGFwZVNwYWNpbmdYIiwic2hhcGVTY2FsZVkiLCJzaGFwZVNwYWNpbmdZIiwic2hhcGVNYXJnaW5MZWZ0Iiwic2hhcGVNYXJnaW5Ub3AiLCJjbGlja0FuaW1hdGlvbk5hbWUiLCJtb3VzZUVudGVyQW5pbWF0aW9uTmFtZSIsIm1vdXNlTGVhdmVBbmltYXRpb25OYW1lIiwic3ZnSGV4YWdvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY2xpY2tDbGFzcyIsIm1vdXNlRW50ZXJDbGFzcyIsIm1vdXNlTGVhdmVDbGFzcyIsInN2Z0hleGFnb25DbGFzc2VzIiwic2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlTlMiLCJwb2x5SGV4YWdvbiIsInB0TXVsdGlwbGllclgiLCJwdE11bHRpcGxpZXJZIiwicG9seVB0cyIsImpvaW4iLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUNpcmNsZSIsInN2Z0NpY2xlIiwic3ZnQ2ljbGVDbGFzc2VzIiwicG9seUNpcmNsZSIsImNyZWF0ZVNxdWFyZSIsInNoYXBlV2lkdGgiLCJzaGFwZUhlaWdodCIsInN2Z1NxdWFyZSIsInN2Z1NxdWFyZUNsYXNzZXMiLCJwb2x5U3F1YXJlIiwicGFyc2VCdG5BdHRyaWJ1dGVzIiwia2V5TmFtZSIsImhhc0RhdGFQcmVmaXgiLCJoYXNCdG5QcmVmaXgiLCJoYXNOdW1iZXIiLCJpbmRleE9mU2hhcGUiLCJidG5BdHRyaWJzIiwiYXR0cmlidXRlcyIsImtleUluZGV4IiwibmFtZSIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJtYXRjaCIsInBhcnNlRmxvYXQiLCJ1bmRlZmluZWQiLCJzaGFwZSIsInZhbHVlIiwiY29uc29sZSIsImRlYnVnIiwiY3JlYXRlU2hhcGVzIiwiZGl2Q29udGFpbmVyIiwiZXZlbnRBbmltYXRpb25DbGFzcyIsImV2ZW50QW5pbWF0aW9uRHVyYXRpb24iLCJldmVudEFuaW1hdGlvbkRlbGF5IiwiZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCIsImV2ZW50SXRlbSIsInB1c2giLCJzaGFwZVR5cGUiLCJpIiwiaiIsInNoYXBlRGljdGlvbmFyeSIsInN2Z1NoYXBlIiwiZ2V0QXR0cmlidXRlIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiY3JlYXRlR2x5cGhJY29uIiwiaWNvbkdseXBoIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImdseXBoU2l6ZSIsImdseXBoU2NhbGVZIiwic3R5bGUiLCJmb250U2l6ZSIsImxpbmVIZWlnaHQiLCJjb2xvciIsImNoaWxkV2lkdGgiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0IiwiY3JlYXRlRXZlbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkhhbmRsZUNsaWNrRXZlbnQiLCJIYW5kbGVNb3VzZUVudGVyRXZlbnQiLCJIYW5kbGVNb3VzZUxlYXZlRXZlbnQiLCJ3aW5kb3ciLCJIYW5kbGVTY3JvbGxJbkV2ZW50IiwiSGFuZGxlU2Nyb2xsT3V0RXZlbnQiLCJwYXJzZUJ0bklubmVySHRtbCIsImJ0bkNoaWxkcmVuIiwiY2hpbGRyZW4iLCJidG5DaGlsZCIsImFkZENsYXNzIiwiY2hpbGRIZWlnaHQiLCJrZXkiLCJlbGVtV2lkdGgiLCJjc3MiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJjcmVhdGVEaXZDb250YWluZXIiLCJidG5TY2FsZVgiLCJidG5TcGFjaW5nWCIsImJ0blNjYWxlWSIsImJ0blNwYWNpbmdZIiwiaGFzQ2xhc3MiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ2xhc3MiLCJoZXhhZ29uIiwic3F1YXJlIiwiY2lyY2xlIiwiY2hpbGRFbGVtIiwiYXBwZW5kIiwidmlzaWJpbGl0eSIsIkFkZFN0YXRpY1N0eWxlcyIsImJ0blN0eWxlU2hlZXRJZCIsInBhZ2VIZWFkIiwiaGVhZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYnRuU3R5bGVTaGVldCIsImJ0bkNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIlJlbW92ZUV2ZW50QW5pbWF0aW9uQ2xhc3NlcyIsImVsZW1lbnRFdmVudHMiLCJlbGVtZW50RXZlbnRLZXlOYW1lcyIsInNlbGVjdGVkRWxlbWVudCIsImZvckVhY2giLCJldmVudEtleU5hbWUiLCJpbmRleCIsImV2ZW50IiwiZmluZCIsInNlbGVjdG9yIiwiYW5pbWF0aW9uQ2xhc3MiLCItd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbiIsImFuaW1hdGlvbi1kdXJhdGlvbiIsIkFkZEV2ZW50QW5pbWF0aW9uQ2xhc3NlcyIsImFuaW1hdGlvbkR1cmF0aW9uIiwiYXN5bmMiLCJlYWNoIiwibW91c2VFbnRlckV2ZW50IiwibW91c2VFbnRlckV2ZW50Q0IiLCJ3YXRlcmZhbGwiLCJzZXJpZXNDQiIsIi13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCIsImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IiwiYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCIsImFuaW1hdGlvbkRlbGF5IiwiZXJyIiwibW91c2VMZWF2ZSIsIm1vdXNlTGVhdmVDQiIsInBhcmFsbGVsIiwicGFyYUNCIiwidHJpZ2dlclNjcm9sbE91dEV2ZW50Iiwic2Nyb2xsT3V0RXZlbnQiLCJzY3JvbGxPdXRFdmVudENCIiwibGFzdFNjcm9sbEFtb3VudCIsInNjcm9sbEFtb3VudCIsInNjcm9sbFRvcCIsImFtb3VudFRvU2Nyb2xsIiwib2Zmc2V0IiwiaW5uZXJIZWlnaHQiLCJmb3JjZUV2ZW50IiwidHJpZ2dlclNjcm9sbEluRXZlbnQiLCJzY3JvbGxJbkV2ZW50Iiwic2Nyb2xsSW5FdmVudENCIiwiY2xpY2tFdmVudCIsImNsaWNrRXZlbnRDQiIsImZuIiwic3dlZXRCdXR0b24iLCJvcHRpb25zIiwic3dlZXRCdG4iLCJsb2ciLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUdDLFNBQVdBLEdBQ1IsR0FBQUMsR0FBQSxXQTQyQ0ksUUFBQUEsR0FBWUMsRUFB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QixZQUFZLEdBQUcwRCxFQUFXakMsZ0JBRW5DVSxFQUFTLEtBQU1qQixJQUV2QndDLEVBQVc3QixrQkFBb0I2QixFQUFXckIsMkJBRWxEc0IsSUFDSixTQUFDbkIsR0FDSUEsR0FBS2pHLFFBQVFDLE1BQU0sT0FBUWdHLEdBRS9CeEIsRUFBK0IsaUJBQUksTUFrTm5EeE8sSUFHQUEsR0FBWStOLGtCQUdaaE8sRUFBRXFSLEdBQUdDLFlBQWMsU0FBU0MsT0FBQSxLQUFBQSxJQUFBQSxHQUFZbkcsVUFBVyxhQUUvQyxJQUFNakwsR0FBWW9SLEVBQVFuRyxTQUcxQixPQUFPL0ssTUFBS21QLEtBQUssV0FDYixHQUFJZ0MsR0FBVyxHQUFJdlIsR0FBWUksS0FBTUYsRUFDckM2SixTQUFReUgsSUFBSSxhQUFjRCxPQUluQ0UiLCJmaWxlIjoic3dlZXQtYnV0dG9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZGVjbGFyZSB2YXIgYXN5bmM6IGFueTtcclxuZGVjbGFyZSB2YXIgalF1ZXJ5OiBhbnk7XHJcblxyXG4oZnVuY3Rpb24gKCAkICkge1xyXG4gICAgY2xhc3MgU3dlZXRCdXR0b24ge1xyXG4gICAgICAgIHByaXZhdGUgJ2hhc0NoaWxkRWxlbScgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSAnb24tbG9hZCcgPSAnJztcclxuXHJcbiAgICAgICAgcHJpdmF0ZSAnc2Nyb2xsLWluJyA9ICcnO1xyXG4gICAgICAgIHByaXZhdGUgJ3Njcm9sbC1pbi1hbmltYXRpb24tZHVyYXRpb24nID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnc2Nyb2xsLWluLWFuaW1hdGlvbi1kZWxheScgPSAnJztcclxuICAgICAgICBwcml2YXRlICdzY3JvbGwtaW4tYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcgPSAnJztcclxuXHJcbiAgICAgICAgcHJpdmF0ZSAnc2Nyb2xsLW91dCcgPSAnJztcclxuICAgICAgICBwcml2YXRlICdzY3JvbGwtb3V0LWFuaW1hdGlvbi1kdXJhdGlvbicgPSAnJztcclxuICAgICAgICBwcml2YXRlICdzY3JvbGwtb3V0LWFuaW1hdGlvbi1kZWxheScgPSAnJztcclxuICAgICAgICBwcml2YXRlICdzY3JvbGwtb3V0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnID0gJyc7XHJcblxyXG4gICAgICAgIHByaXZhdGUgJ2dseXBoLXNpemUnID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnZ2x5cGgtY29sb3InID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnZ2x5cGgtY2xhc3NlcycgPSAnJztcclxuXHJcbiAgICAgICAgcHJpdmF0ZSAnZ2x5cGgtY2xpY2snID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnZ2x5cGgtY2xpY2stYW5pbWF0aW9uLWR1cmF0aW9uJyA9ICcnO1xyXG4gICAgICAgIHByaXZhdGUgJ2dseXBoLWNsaWNrLWFuaW1hdGlvbi1kZWxheScgPSAnJztcclxuICAgICAgICBwcml2YXRlICdnbHlwaC1jbGljay1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JyA9ICcnO1xyXG5cclxuICAgICAgICBwcml2YXRlICdnbHlwaC1tb3VzZS1lbnRlcicgPSAnJztcclxuICAgICAgICBwcml2YXRlICdnbHlwaC1tb3VzZS1lbnRlci1hbmltYXRpb24tZHVyYXRpb24nID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnZ2x5cGgtbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5JyA9ICcnO1xyXG4gICAgICAgIHByaXZhdGUgJ2dseXBoLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnID0gJyc7XHJcblxyXG4gICAgICAgIHByaXZhdGUgJ2dseXBoLW1vdXNlLWxlYXZlJyA9ICcnO1xyXG4gICAgICAgIHByaXZhdGUgJ2dseXBoLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1kdXJhdGlvbicgPSAnJztcclxuICAgICAgICBwcml2YXRlICdnbHlwaC1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXknID0gJyc7XHJcbiAgICAgICAgcHJpdmF0ZSAnZ2x5cGgtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcgPSAnJztcclxuXHJcbiAgICAgICAgcHJpdmF0ZSAnZWxlbWVudC1ldmVudHMnID0ge1xyXG4gICAgICAgICAgICBhY3RpdmVDbGFzc0NvdW50OiB7fSxcclxuICAgICAgICAgICAgaXNDbGlja09jY3VyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNNb3VzZUVudGVyT2NjdXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc01vdXNlTGVhdmVPY2N1cmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzU2Nyb2xsSW5PY2N1cmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzU2Nyb2xsT3V0T2NjdXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBjbGljazogW10sXHJcbiAgICAgICAgICAgICdtb3VzZS1lbnRlcic6IFtdLFxyXG4gICAgICAgICAgICAnbW91c2UtbGVhdmUnOiBbXSxcclxuICAgICAgICAgICAgJ3Njcm9sbC1pbic6IFtdLFxyXG4gICAgICAgICAgICAnc2Nyb2xsLW91dCc6IFtdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSAnc2hhcGUnID0gW3tcclxuICAgICAgICAgICAgJ3NoYXBlLTEnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTEtc2l6ZSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMS1iYWNrZ3JvdW5kJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0xLXpJbmRleCc6ICcnLFxyXG5cclxuICAgICAgICAgICAgJ3NoYXBlLTEtbW91c2UtZW50ZXInOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTEtbW91c2UtZW50ZXItYW5pbWF0aW9uLWR1cmF0aW9uJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0xLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kZWxheSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMS1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogJycsXHJcblxyXG4gICAgICAgICAgICAnc2hhcGUtMS1tb3VzZS1sZWF2ZSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMS1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZHVyYXRpb24nOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTEtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWRlbGF5JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0xLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiAnJyxcclxuXHJcbiAgICAgICAgICAgICdzaGFwZS0xLWNsaWNrJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0xLWNsaWNrLWFuaW1hdGlvbi1kdXJhdGlvbic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMS1jbGljay1hbmltYXRpb24tZGVsYXknOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTEtY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6ICcnXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgICdzaGFwZS0yJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0yLXNpemUnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTItYmFja2dyb3VuZCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMi16SW5kZXgnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTItbW91c2UtZW50ZXInOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTItbW91c2UtZW50ZXItYW5pbWF0aW9uLWR1cmF0aW9uJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0yLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kZWxheSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMi1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0yLW1vdXNlLWxlYXZlJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0yLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1kdXJhdGlvbic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMi1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXknOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTItbW91c2UtbGVhdmUtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMi1jbGljayc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMi1jbGljay1hbmltYXRpb24tZHVyYXRpb24nOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTItY2xpY2stYW5pbWF0aW9uLWRlbGF5JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0yLWNsaWNrLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiAnJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJ3NoYXBlLTMnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTMtc2l6ZSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMy1iYWNrZ3JvdW5kJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0zLXpJbmRleCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMy1tb3VzZS1lbnRlcic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMy1tb3VzZS1lbnRlci1hbmltYXRpb24tZHVyYXRpb24nOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTMtbW91c2UtZW50ZXItYW5pbWF0aW9uLWRlbGF5JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0zLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTMtbW91c2UtbGVhdmUnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTMtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0zLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1kZWxheSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMy1tb3VzZS1sZWF2ZS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0zLWNsaWNrJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS0zLWNsaWNrLWFuaW1hdGlvbi1kdXJhdGlvbic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtMy1jbGljay1hbmltYXRpb24tZGVsYXknOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTMtY2xpY2stYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6ICcnXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgICdzaGFwZS00JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS00LXNpemUnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTQtYmFja2dyb3VuZCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNC16SW5kZXgnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTQtbW91c2UtZW50ZXInOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTQtbW91c2UtZW50ZXItYW5pbWF0aW9uLWR1cmF0aW9uJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS00LW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kZWxheSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNC1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS00LW1vdXNlLWxlYXZlJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS00LW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1kdXJhdGlvbic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNC1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXknOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTQtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNC1jbGljayc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNC1jbGljay1hbmltYXRpb24tZHVyYXRpb24nOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTQtY2xpY2stYW5pbWF0aW9uLWRlbGF5JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS00LWNsaWNrLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiAnJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAnc2hhcGUtNSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNS1zaXplJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS01LWJhY2tncm91bmQnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTUtekluZGV4JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS01LW1vdXNlLWVudGVyJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS01LW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbic6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNS1tb3VzZS1lbnRlci1hbmltYXRpb24tZGVsYXknOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTUtbW91c2UtZW50ZXItYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNS1tb3VzZS1sZWF2ZSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNS1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZHVyYXRpb24nOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTUtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWRlbGF5JzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS01LW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTUtY2xpY2snOiAnJyxcclxuICAgICAgICAgICAgJ3NoYXBlLTUtY2xpY2stYW5pbWF0aW9uLWR1cmF0aW9uJzogJycsXHJcbiAgICAgICAgICAgICdzaGFwZS01LWNsaWNrLWFuaW1hdGlvbi1kZWxheSc6ICcnLFxyXG4gICAgICAgICAgICAnc2hhcGUtNC1jbGljay1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogJydcclxuICAgICAgICB9XTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzaGFwZVNjYWxlID0ge1xyXG4gICAgICAgICAgICAneHMnOiB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMzAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzbSc6IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA0NSxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogNDVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ21kJzoge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDYwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA2MFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnbGcnOiB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNzUsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDc1XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICd4bCc6IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA5MCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogOTBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgY3JlYXRlSGV4YWdvbiA9IChzaGFwZUNvbmZpZzogT2JqZWN0LCBzaGFwZUxheWVyTnVtOiBudW1iZXIpIDogU1ZHRWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIC8vIGVsZW1lbnQgc2l6ZS9jZW50ZXJpbmdcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVTaXplOiAgICAgICAgc3RyaW5nICA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LXNpemVgXS5sZW5ndGggPyBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1zaXplYF0gOiAneHMnO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZVNjYWxlWDogICAgICBudW1iZXIgID0gdGhpcy5zaGFwZVNjYWxlW3NoYXBlU2l6ZV1bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlU3BhY2luZ1g6ICAgIG51bWJlciAgPSBzaGFwZVNjYWxlWCAvIDEwO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZVNjYWxlWTogICAgICBudW1iZXIgID0gdGhpcy5zaGFwZVNjYWxlW3NoYXBlU2l6ZV1bJ2hlaWdodCddO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZVNwYWNpbmdZOiAgICBudW1iZXIgID0gc2hhcGVTY2FsZVkgLyAxMDtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVXaWR0aDogICAgICAgbnVtYmVyICA9IHNoYXBlU2NhbGVYICsgKHNoYXBlU3BhY2luZ1ggKiAyKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVIZWlnaHQ6ICAgICAgbnVtYmVyICA9IHNoYXBlU2NhbGVZICsgKHNoYXBlU3BhY2luZ1kgKiAyKTtcclxuICAgICAgICAgICAgLy8gbmVlZCB0byB1c2UgbmVnYXRpdmUgbWFyZ2lucyBoZXJlXHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlTWFyZ2luTGVmdCA9IGAkeygoc2hhcGVTY2FsZVggLyAyKSArIHNoYXBlU3BhY2luZ1gpICogLTF9YDtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVNYXJnaW5Ub3AgPSBgJHsoKHNoYXBlU2NhbGVZIC8gMikgKyBzaGFwZVNwYWNpbmdZKSAqIC0xfWA7XHJcbiAgICAgICAgICAgIC8vIGFuaW1hdGlvbiBjbGFzcyBuYW1lc1xyXG4gICAgICAgICAgICBjb25zdCBjbGlja0FuaW1hdGlvbk5hbWUgPSBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1jbGlja2BdO1xyXG4gICAgICAgICAgICBjb25zdCBtb3VzZUVudGVyQW5pbWF0aW9uTmFtZSA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LW1vdXNlLWVudGVyYF07XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlTGVhdmVBbmltYXRpb25OYW1lID0gc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tbW91c2UtbGVhdmVgXTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgc3ZnXHJcbiAgICAgICAgICAgIGxldCBzdmdIZXhhZ29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNsaWNrQ2xhc3MgPSBjbGlja0FuaW1hdGlvbk5hbWUubGVuZ3RoID8gYHNoYXBlLSR7c2hhcGVMYXllck51bX0tY2xpY2stJHtjbGlja0FuaW1hdGlvbk5hbWV9YCA6ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBtb3VzZUVudGVyQ2xhc3MgPSBtb3VzZUVudGVyQW5pbWF0aW9uTmFtZS5sZW5ndGggPyBgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1tb3VzZS1lbnRlci0ke21vdXNlRW50ZXJBbmltYXRpb25OYW1lfWAgOiAnJztcclxuICAgICAgICAgICAgY29uc3QgbW91c2VMZWF2ZUNsYXNzID0gbW91c2VMZWF2ZUFuaW1hdGlvbk5hbWUubGVuZ3RoID8gYHNoYXBlLSR7c2hhcGVMYXllck51bX0tbW91c2UtbGVhdmUtJHttb3VzZUxlYXZlQW5pbWF0aW9uTmFtZX1gIDogJyc7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzdmdIZXhhZ29uQ2xhc3NlcyA9IGAke2NsaWNrQ2xhc3N9ICR7bW91c2VFbnRlckNsYXNzfSAke21vdXNlTGVhdmVDbGFzc31gO1xyXG5cclxuICAgICAgICAgICAgLy8gYWRkIHN2ZyBjbGFzc2VzXHJcbiAgICAgICAgICAgIHN2Z0hleGFnb24uc2V0QXR0cmlidXRlKCdjbGFzcycsIHN2Z0hleGFnb25DbGFzc2VzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNldCBzdmcgYXR0cmlidXRlc1xyXG4gICAgICAgICAgICBzdmdIZXhhZ29uLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIiwgXCJ4bWxuczp4bGlua1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzdmdIZXhhZ29uLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIGAwIDAgJHtzaGFwZVNjYWxlWC8yfSAke3NoYXBlU2NhbGVZLzJ9YCk7XHJcbiAgICAgICAgICAgIHN2Z0hleGFnb24uc2V0QXR0cmlidXRlKCdmaWxsJywgc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tYmFja2dyb3VuZGBdKTtcclxuICAgICAgICAgICAgc3ZnSGV4YWdvbi5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdibGFjaycpO1xyXG4gICAgICAgICAgICBzdmdIZXhhZ29uLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgYCR7c2hhcGVTY2FsZVkvMTAwfXB4YCk7XHJcblxyXG4gICAgICAgICAgICAvLyBzaXppbmcvY2VudGVyaW5nXHJcbiAgICAgICAgICAgIHN2Z0hleGFnb24uc2V0QXR0cmlidXRlKCd6LWluZGV4Jywgc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tekluZGV4YF0pO1xyXG4gICAgICAgICAgICBzdmdIZXhhZ29uLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBgJHsoc2hhcGVTY2FsZVgpICsgKHNoYXBlU3BhY2luZ1gqMil9cHhgKTtcclxuICAgICAgICAgICAgc3ZnSGV4YWdvbi5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGAkeyhzaGFwZVNjYWxlWSkgKyAoc2hhcGVTcGFjaW5nWSoyKX1weGApO1xyXG5cclxuICAgICAgICAgICAgc3ZnSGV4YWdvbi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYG1hcmdpbi1sZWZ0OiAke3NoYXBlTWFyZ2luTGVmdH1weDsgbWFyZ2luLXRvcDogJHtzaGFwZU1hcmdpblRvcH1weDtgKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgcG9seSBoZXhhZ29uXHJcbiAgICAgICAgICAgIGxldCBwb2x5SGV4YWdvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncG9seWdvbicpO1xyXG4gICAgICAgICAgICBjb25zdCBwdE11bHRpcGxpZXJYID0gc2hhcGVTY2FsZVggLzEwMDtcclxuICAgICAgICAgICAgY29uc3QgcHRNdWx0aXBsaWVyWSA9IHNoYXBlU2NhbGVZIC8xMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvbHlQdHMgPSBbXHJcbiAgICAgICAgICAgICAgICBgJHs0NiAqIHB0TXVsdGlwbGllclh9ICR7MzcuNSAqIHB0TXVsdGlwbGllcll9YCxcclxuICAgICAgICAgICAgICAgIGAkezI1ICogcHRNdWx0aXBsaWVyWH0gJHs0NiAqIHB0TXVsdGlwbGllcll9YCxcclxuICAgICAgICAgICAgICAgIGAkezQgKiBwdE11bHRpcGxpZXJYfSAkezM3LjUgKiBwdE11bHRpcGxpZXJZfWAsXHJcbiAgICAgICAgICAgICAgICBgJHs0ICogcHRNdWx0aXBsaWVyWH0gJHsxMi41ICogcHRNdWx0aXBsaWVyWX1gLFxyXG4gICAgICAgICAgICAgICAgYCR7MjUgKiBwdE11bHRpcGxpZXJYfSAkezQgKiBwdE11bHRpcGxpZXJZfWAsXHJcbiAgICAgICAgICAgICAgICBgJHs0NiAqIHB0TXVsdGlwbGllclh9ICR7MTIuNSAqIHB0TXVsdGlwbGllcll9YFxyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgcG9seUhleGFnb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3BvaW50cycsIHBvbHlQdHMuam9pbignLCAnKSk7XHJcblxyXG4gICAgICAgICAgICAvLyByZWN0IHBvbHlnb24gdG8gc3ZnXHJcbiAgICAgICAgICAgIHN2Z0hleGFnb24uYXBwZW5kQ2hpbGQocG9seUhleGFnb24pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHN2Z0hleGFnb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGNyZWF0ZUNpcmNsZSA9IChzaGFwZUNvbmZpZzogT2JqZWN0LCBzaGFwZUxheWVyTnVtOiBudW1iZXIpIDogU1ZHRWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIC8vIGVsZW1lbnQgc2l6ZS9jZW50ZXJpbmdcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVTaXplOiAgICAgc3RyaW5nICA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LXNpemVgXS5sZW5ndGggPyBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1zaXplYF0gOiAneHMnO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZVNjYWxlWDogICBudW1iZXIgID0gdGhpcy5zaGFwZVNjYWxlW3NoYXBlU2l6ZV1bJ3dpZHRoJ10gKiAxLjE0OyAvLyBhZGp1c3Rpbmcgc2l6ZSBvZiBjaXJjbGVzIGJ5IDE1JVxyXG4gICAgICAgICAgICBjb25zdCBzaGFwZVNwYWNpbmdYOiBudW1iZXIgID0gc2hhcGVTY2FsZVggLyAxMDtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVTY2FsZVk6ICAgbnVtYmVyICA9IHRoaXMuc2hhcGVTY2FsZVtzaGFwZVNpemVdWydoZWlnaHQnXSAqIDEuMTQ7IC8vIGFkanVzdGluZyBzaXplIG9mIGNpcmNsZXMgYnkgMTUlXHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlU3BhY2luZ1k6IG51bWJlciAgPSBzaGFwZVNjYWxlWSAvIDEwO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZVdpZHRoOiAgICBudW1iZXIgID0gc2hhcGVTY2FsZVggKyAoc2hhcGVTcGFjaW5nWCAqIDIpO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZUhlaWdodDogICBudW1iZXIgID0gc2hhcGVTY2FsZVkgKyAoc2hhcGVTcGFjaW5nWSAqIDIpO1xyXG4gICAgICAgICAgICAvLyBuZWVkIHRvIHVzZSBuZWdhdGl2ZSBtYXJnaW5zIGhlcmVcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVNYXJnaW5MZWZ0OiBudW1iZXIgPSAoKHNoYXBlU2NhbGVYIC8gMikgKyBzaGFwZVNwYWNpbmdYKSAqIC0xO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZU1hcmdpblRvcDogIG51bWJlciA9ICgoc2hhcGVTY2FsZVkgLyAyKSArIHNoYXBlU3BhY2luZ1kpICogLTE7XHJcbiAgICAgICAgICAgIC8vIGFuaW1hdGlvbiBjbGFzcyBuYW1lc1xyXG4gICAgICAgICAgICBjb25zdCBjbGlja0FuaW1hdGlvbk5hbWUgPSBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1jbGlja2BdO1xyXG4gICAgICAgICAgICBjb25zdCBtb3VzZUVudGVyQW5pbWF0aW9uTmFtZSA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LW1vdXNlLWVudGVyYF07XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlTGVhdmVBbmltYXRpb25OYW1lID0gc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tbW91c2UtbGVhdmVgXTtcclxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBzdmdcclxuICAgICAgICAgICAgbGV0IHN2Z0NpY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNsaWNrQ2xhc3MgPSBjbGlja0FuaW1hdGlvbk5hbWUubGVuZ3RoID8gYHNoYXBlLSR7c2hhcGVMYXllck51bX0tY2xpY2stJHtjbGlja0FuaW1hdGlvbk5hbWV9YCA6ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBtb3VzZUVudGVyQ2xhc3MgPSBtb3VzZUVudGVyQW5pbWF0aW9uTmFtZS5sZW5ndGggPyBgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1tb3VzZS1lbnRlci0ke21vdXNlRW50ZXJBbmltYXRpb25OYW1lfWAgOiAnJztcclxuICAgICAgICAgICAgY29uc3QgbW91c2VMZWF2ZUNsYXNzID0gbW91c2VMZWF2ZUFuaW1hdGlvbk5hbWUubGVuZ3RoID8gYHNoYXBlLSR7c2hhcGVMYXllck51bX0tbW91c2UtbGVhdmUtJHttb3VzZUxlYXZlQW5pbWF0aW9uTmFtZX1gIDogJyc7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzdmdDaWNsZUNsYXNzZXMgPSBgJHtjbGlja0NsYXNzfSAke21vdXNlRW50ZXJDbGFzc30gJHttb3VzZUxlYXZlQ2xhc3N9YDtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBzdmcgY2xhc3Nlc1xyXG4gICAgICAgICAgICBzdmdDaWNsZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgc3ZnQ2ljbGVDbGFzc2VzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNldCBzdmcgYXR0cmlidXRlc1xyXG4gICAgICAgICAgICBzdmdDaWNsZS5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCIsIFwieG1sbnM6eGxpbmtcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgc3ZnQ2ljbGUuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgYDAgMCAke3NoYXBlU2NhbGVYLzJ9ICR7c2hhcGVTY2FsZVkvMn1gKTtcclxuICAgICAgICAgICAgc3ZnQ2ljbGUuc2V0QXR0cmlidXRlKCdmaWxsJywgc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tYmFja2dyb3VuZGBdKTtcclxuICAgICAgICAgICAgc3ZnQ2ljbGUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcclxuICAgICAgICAgICAgc3ZnQ2ljbGUuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCBgJHtzaGFwZVNjYWxlWS8xMDB9cHhgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNpemluZy9jZW50ZXJpbmdcclxuICAgICAgICAgICAgc3ZnQ2ljbGUuc2V0QXR0cmlidXRlKCd6LWluZGV4Jywgc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tekluZGV4YF0pO1xyXG4gICAgICAgICAgICBzdmdDaWNsZS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgYCR7KHNoYXBlU2NhbGVYKSArIChzaGFwZVNwYWNpbmdYKjIpfXB4YCk7XHJcbiAgICAgICAgICAgIHN2Z0NpY2xlLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgYCR7KHNoYXBlU2NhbGVZKSArIChzaGFwZVNwYWNpbmdZKjIpfXB4YCk7XHJcblxyXG4gICAgICAgICAgICBzdmdDaWNsZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYG1hcmdpbi1sZWZ0OiAke3NoYXBlTWFyZ2luTGVmdH1weDsgbWFyZ2luLXRvcDogJHtzaGFwZU1hcmdpblRvcH1weDtgKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgc3F1YXJlIHJlY3RcclxuICAgICAgICAgICAgbGV0IHBvbHlDaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2VsbGlwc2UnKTtcclxuICAgICAgICAgICAgcG9seUNpcmNsZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1iYWNrZ3JvdW5kYF0pO1xyXG4gICAgICAgICAgICBjb25zdCBjZW50ZXJpbmdNdWxpcGxpZXIgPSAwLjI4OyBcclxuICAgICAgICAgICAgcG9seUNpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N4JywgYCR7KHNoYXBlU2NhbGVYKmNlbnRlcmluZ011bGlwbGllcikgLSAoc2hhcGVTcGFjaW5nWCpjZW50ZXJpbmdNdWxpcGxpZXIpfWApO1xyXG4gICAgICAgICAgICBwb2x5Q2lyY2xlLnNldEF0dHJpYnV0ZSgnY3knLCBgJHsoc2hhcGVTY2FsZVkqY2VudGVyaW5nTXVsaXBsaWVyKSAtIChzaGFwZVNwYWNpbmdZKmNlbnRlcmluZ011bGlwbGllcil9YCk7XHJcbiAgICAgICAgICAgIHBvbHlDaXJjbGUuc2V0QXR0cmlidXRlKCdyeCcsIGAke3NoYXBlU2NhbGVYIC8gNX1gKTtcclxuICAgICAgICAgICAgcG9seUNpcmNsZS5zZXRBdHRyaWJ1dGUoJ3J5JywgYCR7c2hhcGVTY2FsZVkgLyA1fWApO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVjdCBwb2x5Z29uIHRvIHN2Z1xyXG4gICAgICAgICAgICBzdmdDaWNsZS5hcHBlbmRDaGlsZChwb2x5Q2lyY2xlKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzdmdDaWNsZTtcclxuICAgICAgICB9XHJcbiBcclxuICAgICAgICBwcml2YXRlIGNyZWF0ZVNxdWFyZSA9IChzaGFwZUNvbmZpZzogT2JqZWN0LCBzaGFwZUxheWVyTnVtOiBudW1iZXIpIDogU1ZHRWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIC8vIGVsZW1lbnQgc2l6ZS9jZW50ZXJpbmdcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVTaXplOiAgICBzdHJpbmcgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tc2l6ZWBdLmxlbmd0aCA/IHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LXNpemVgXSA6ICd4cyc7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlU2NhbGVYOiAgIG51bWJlciAgPSB0aGlzLnNoYXBlU2NhbGVbc2hhcGVTaXplXVsnd2lkdGgnXTtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVTcGFjaW5nWDogbnVtYmVyICA9IHNoYXBlU2NhbGVYIC8gMTA7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlV2lkdGg6ICAgbnVtYmVyICA9IHNoYXBlU2NhbGVYICsgKHNoYXBlU3BhY2luZ1ggKiAyKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVTY2FsZVk6ICAgbnVtYmVyICA9IHRoaXMuc2hhcGVTY2FsZVtzaGFwZVNpemVdWydoZWlnaHQnXTtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVTcGFjaW5nWTogbnVtYmVyICA9IHNoYXBlU2NhbGVZIC8gMTA7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlSGVpZ2h0OiAgbnVtYmVyICA9IHNoYXBlU2NhbGVZICsgKHNoYXBlU3BhY2luZ1kgKiAyKTtcclxuICAgICAgICAgICAgLy8gbmVlZCB0byB1c2UgbmVnYXRpdmUgbWFyZ2lucyBoZXJlXHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlTWFyZ2luTGVmdCA9IGAkeygoc2hhcGVTY2FsZVggLyAyKSArIHNoYXBlU3BhY2luZ1gpICogLTF9YDtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVNYXJnaW5Ub3AgPSBgJHsoKHNoYXBlU2NhbGVZIC8gMikgKyBzaGFwZVNwYWNpbmdZKSAqIC0xfWA7XHJcbiAgICAgICAgICAgIC8vIGFuaW1hdGlvbiBjbGFzcyBuYW1lc1xyXG4gICAgICAgICAgICBjb25zdCBjbGlja0FuaW1hdGlvbk5hbWUgPSBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtzaGFwZUxheWVyTnVtfS1jbGlja2BdO1xyXG4gICAgICAgICAgICBjb25zdCBtb3VzZUVudGVyQW5pbWF0aW9uTmFtZSA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LW1vdXNlLWVudGVyYF07XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlTGVhdmVBbmltYXRpb25OYW1lID0gc2hhcGVDb25maWdbYHNoYXBlLSR7c2hhcGVMYXllck51bX0tbW91c2UtbGVhdmVgXTtcclxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBzdmdcclxuICAgICAgICAgICAgbGV0IHN2Z1NxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjbGlja0NsYXNzID0gY2xpY2tBbmltYXRpb25OYW1lLmxlbmd0aCA/IGBzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LWNsaWNrLSR7Y2xpY2tBbmltYXRpb25OYW1lfWAgOiAnJztcclxuICAgICAgICAgICAgY29uc3QgbW91c2VFbnRlckNsYXNzID0gbW91c2VFbnRlckFuaW1hdGlvbk5hbWUubGVuZ3RoID8gYHNoYXBlLSR7c2hhcGVMYXllck51bX0tbW91c2UtZW50ZXItJHttb3VzZUVudGVyQW5pbWF0aW9uTmFtZX1gIDogJyc7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlTGVhdmVDbGFzcyA9IG1vdXNlTGVhdmVBbmltYXRpb25OYW1lLmxlbmd0aCA/IGBzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LW1vdXNlLWxlYXZlLSR7bW91c2VMZWF2ZUFuaW1hdGlvbk5hbWV9YCA6ICcnO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3ZnU3F1YXJlQ2xhc3NlcyA9IGAke2NsaWNrQ2xhc3N9ICR7bW91c2VFbnRlckNsYXNzfSAke21vdXNlTGVhdmVDbGFzc31gO1xyXG5cclxuICAgICAgICAgICAgLy8gYWRkIHN2ZyBjbGFzc2VzXHJcbiAgICAgICAgICAgIHN2Z1NxdWFyZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgc3ZnU3F1YXJlQ2xhc3Nlcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgc3ZnIGF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgc3ZnU3F1YXJlLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIiwgXCJ4bWxuczp4bGlua1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzdmdTcXVhcmUuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgYDAgMCAke3NoYXBlU2NhbGVYLzJ9ICR7c2hhcGVTY2FsZVkvMn1gKTtcclxuICAgICAgICAgICAgc3ZnU3F1YXJlLnNldEF0dHJpYnV0ZSgnZmlsbCcsIHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LWJhY2tncm91bmRgXSk7XHJcbiAgICAgICAgICAgIHN2Z1NxdWFyZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdibGFjaycpO1xyXG4gICAgICAgICAgICBzdmdTcXVhcmUuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCBgJHtzaGFwZVNjYWxlWS8xMDB9cHhgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNpemluZy9jZW50ZXJpbmdcclxuICAgICAgICAgICAgc3ZnU3F1YXJlLnNldEF0dHJpYnV0ZSgnei1pbmRleCcsIHNoYXBlQ29uZmlnW2BzaGFwZS0ke3NoYXBlTGF5ZXJOdW19LXpJbmRleGBdKTtcclxuICAgICAgICAgICAgc3ZnU3F1YXJlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBgJHsoc2hhcGVTY2FsZVgpICsgKHNoYXBlU3BhY2luZ1gqMil9cHhgKTtcclxuICAgICAgICAgICAgc3ZnU3F1YXJlLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgYCR7KHNoYXBlU2NhbGVZKSArIChzaGFwZVNwYWNpbmdZKjIpfXB4YCk7XHJcblxyXG4gICAgICAgICAgICBzdmdTcXVhcmUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGBtYXJnaW4tbGVmdDogJHtzaGFwZU1hcmdpbkxlZnR9cHg7IG1hcmdpbi10b3A6ICR7c2hhcGVNYXJnaW5Ub3B9cHg7YCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIHNxdWFyZSByZWN0XHJcbiAgICAgICAgICAgIGxldCBwb2x5U3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdyZWN0Jyk7XHJcbiAgICAgICAgICAgIHBvbHlTcXVhcmUuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGAkeyhzaGFwZVdpZHRoLzIpIC0gKHNoYXBlU3BhY2luZ1gqMil9YCk7XHJcbiAgICAgICAgICAgIHBvbHlTcXVhcmUuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBgJHsoc2hhcGVIZWlnaHQvMikgLSAoc2hhcGVTcGFjaW5nWSoyKX1gKTtcclxuICAgICAgICAgICAgcG9seVNxdWFyZS5zZXRBdHRyaWJ1dGUoJ3gnLCBgJHtzaGFwZVNwYWNpbmdYLzJ9YCk7XHJcbiAgICAgICAgICAgIHBvbHlTcXVhcmUuc2V0QXR0cmlidXRlKCd5JywgYCR7c2hhcGVTcGFjaW5nWS8yfWApO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVjdCBwb2x5Z29uIHRvIHN2Z1xyXG4gICAgICAgICAgICBzdmdTcXVhcmUuYXBwZW5kQ2hpbGQocG9seVNxdWFyZSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc3ZnU3F1YXJlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwYXJzZUJ0bkF0dHJpYnV0ZXMgPSAoYnRuRWxlbWVudDogRWxlbWVudCwgYnRuUHJlZml4OiBzdHJpbmcpIDogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFQcmVmaXggPSAnZGF0YS0nO1xyXG4gICAgICAgICAgICBjb25zdCBidG5BdHRyaWJzID0gYnRuRWxlbWVudC5hdHRyaWJ1dGVzO1xyXG4gICAgICAgICAgICBsZXQga2V5TmFtZTtcclxuICAgICAgICAgICAgbGV0IGhhc0RhdGFQcmVmaXg7XHJcbiAgICAgICAgICAgIGxldCBoYXNCdG5QcmVmaXg7XHJcbiAgICAgICAgICAgIGxldCBoYXNOdW1iZXI7XHJcbiAgICAgICAgICAgIGxldCBpbmRleE9mTnVtO1xyXG4gICAgICAgICAgICBsZXQga2V5TmFtZU9mU2hhcGU7XHJcbiAgICAgICAgICAgIGxldCBpbmRleE9mU2hhcGU7XHJcblxyXG4gICAgICAgICAgICBmb3IobGV0IGtleUluZGV4ID0gMDsga2V5SW5kZXggPCBidG5BdHRyaWJzLmxlbmd0aDsga2V5SW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAga2V5TmFtZSA9IGJ0bkF0dHJpYnNba2V5SW5kZXhdLm5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGtleU5hbWUgPT0gJ2xlbmd0aCcpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGhhc0RhdGFQcmVmaXggPSBrZXlOYW1lLmluZGV4T2YoZGF0YVByZWZpeCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzRGF0YVByZWZpeCAhPSAtMSkga2V5TmFtZSA9IGtleU5hbWUuc3Vic3RyaW5nKGRhdGFQcmVmaXgubGVuZ3RoLCBrZXlOYW1lLmxlbmd0aCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaGFzQnRuUHJlZml4ID0ga2V5TmFtZS5pbmRleE9mKGJ0blByZWZpeCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzQnRuUHJlZml4ICE9IC0xKSBrZXlOYW1lID0ga2V5TmFtZS5zdWJzdHJpbmcoYnRuUHJlZml4Lmxlbmd0aCsxLCBrZXlOYW1lLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGhhc051bWJlciA9IGtleU5hbWUubWF0Y2goL1xcZCsvZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzTnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhPZlNoYXBlID0gcGFyc2VGbG9hdChoYXNOdW1iZXJbMF0pLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoYXBlW2luZGV4T2ZTaGFwZV1ba2V5TmFtZV0gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhcGVbaW5kZXhPZlNoYXBlXVtrZXlOYW1lXSA9IGJ0bkF0dHJpYnNba2V5SW5kZXhdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYXBlW2luZGV4T2ZTaGFwZV1bYHNoYXBlLSR7aW5kZXhPZlNoYXBlKzF9LXpJbmRleGBdID0gaW5kZXhPZlNoYXBlKzE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNoYXBlW2luZGV4T2ZTaGFwZV1ba2V5TmFtZV0gPT0gdW5kZWZpbmVkICYmIGhhc0J0blByZWZpeCAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTd2VldEJ1dHRvbjogJywga2V5TmFtZSwgJ2lzIG5vdCBzdXBwb3J0ZWQsIHRoZSBtYXhpbXVtIG51bWJlciBvZiBsYXllcmVkIHNoYXBlcyBpcyA1LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpc1trZXlOYW1lXSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzW2tleU5hbWVdID0gYnRuQXR0cmlic1trZXlJbmRleF0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXNba2V5TmFtZV0gPT0gdW5kZWZpbmVkICYmIGhhc0J0blByZWZpeCAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1N3ZWV0QnV0dG9uOiAnLCBrZXlOYW1lLCAnaXMgbm90IHN1cHBvcnRlZCwgcGxlYXNlIHZpc2l0IHRoZSBkb2N1bWVudGF0aW9uIGZvciBhIGNvbXBsZXRlIGxpc3Qgb2YgdmFsaWQgYXR0cmlidXRlcy4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQWRkU3RhdGljU3R5bGVzKGJ0blByZWZpeDogc3RyaW5nID0gJ3N3ZWV0LWJ0bicpIDogdm9pZCB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ0blN0eWxlU2hlZXRJZCA9IGAke2J0blByZWZpeH0tc3R5bGVzYDtcclxuICAgICAgICAgICAgY29uc3QgcGFnZUhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XHJcbiAgICAgICAgICAgIGxldCBidG5TdHlsZVNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICAgICAgICAgICAgYnRuU3R5bGVTaGVldC5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdzdHlsZXNoZWV0Jyk7XHJcbiAgICAgICAgICAgIGJ0blN0eWxlU2hlZXQuc2V0QXR0cmlidXRlKCdtZWRpYScsICdvbmx5IHNjcmVlbicpO1xyXG4gICAgICAgICAgICBidG5TdHlsZVNoZWV0LnNldEF0dHJpYnV0ZSgnaWQnLCBidG5TdHlsZVNoZWV0SWQpO1xyXG4gICAgICAgICAgICBidG5TdHlsZVNoZWV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xyXG5cclxuICAgICAgICAgICAgLy8gZWxlbWVudCBzdHlsZXNcclxuICAgICAgICAgICAgbGV0IGJ0bkNzc1RleHQgPSBgICAgICAgICAgIC4ke2J0blByZWZpeH0ge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgdXNlci1zZWxlY3Q6IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgLW1vei11c2VyLXNlbGVjdDogdGV4dDtcclxuICAgICAgICAgICAgICAgIC1tcy11c2VyLXNlbGVjdDogdGV4dDtcclxuICAgICAgICAgICAgICAgIC1vLXVzZXItc2VsZWN0OiB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLiR7YnRuUHJlZml4fSAuJHtidG5QcmVmaXh9LXdyYXAgc3ZnIHtcclxuICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XHJcbiAgICAgICAgICAgICAgICAtd2Via2l0LWJhY2stZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgICAgICAgICAgICAgICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgICAgICAgICAgICAgICB6LWluZGV4OiAxMDA7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OjUwJTtcclxuICAgICAgICAgICAgICAgIHRvcDogNTAlO1xyXG4gICAgICAgICAgICAgICAgLXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOiBib3RoO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLWZpbGwtbW9kZTogYm90aDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLiR7YnRuUHJlZml4fSAuJHtidG5QcmVmaXh9LXdyYXAgc3ZnIHJlY3QsXHJcbiAgICAgICAgICAgIC4ke2J0blByZWZpeH0gLiR7YnRuUHJlZml4fS13cmFwIHN2ZyBjaXJjbGUsXHJcbiAgICAgICAgICAgIC4ke2J0blByZWZpeH0gLiR7YnRuUHJlZml4fS13cmFwIHN2ZyBwb2x5Z29uLFxyXG4gICAgICAgICAgICAuJHtidG5QcmVmaXh9IC4ke2J0blByZWZpeH0td3JhcCBzdmcgZWxpcHNpcyB7XHJcbiAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLiR7YnRuUHJlZml4fSAuJHtidG5QcmVmaXh9LXdyYXAgaSB7XHJcbiAgICAgICAgICAgICAgICB6LWluZGV4OiAxNTA7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgICAgICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG5cclxuICAgICAgICAgICAgICAgIC13ZWJraXQtdGV4dC1zdHJva2UtY29sb3I6IGJsYWNrO1xyXG4gICAgICAgICAgICAgICAgLXdlYmtpdC10ZXh0LXN0cm9rZS13aWR0aDogMC41cHg7XHJcbiAgICAgICAgICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLiR7YnRuUHJlZml4fSAuJHtidG5QcmVmaXh9LWlubmVyLXRleHQge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiAxNTA7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpdGVTcGFjZTogcHJlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLW1zLXVzZXItc2VsZWN0OiB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIC1vLXVzZXItc2VsZWN0OiB0ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGA7XHJcblxyXG4gICAgICAgICAgICBidG5TdHlsZVNoZWV0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGJ0bkNzc1RleHQpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vYWRkIDxzdGxlPiBlbGVtIHRvIHRoZSBwYWdlXHJcbiAgICAgICAgICAgIHBhZ2VIZWFkLmFwcGVuZENoaWxkKGJ0blN0eWxlU2hlZXQpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY3JlYXRlU2hhcGVzID0gKGRpdkNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIDogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIC8vIHBhcnNlIGVsZW0gZm9yIGV2ZW50cyBoZXJlXHJcbiAgICAgICAgICAgIGNvbnN0IGRlZkV2ZW50QW5pbWF0aW9uQ2xhc3M6ICAgICAgICAgICBzdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgY29uc3QgZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbjogICAgICAgIG51bWJlciA9IDEwMDA7IC8vIDFzXHJcbiAgICAgICAgICAgIGNvbnN0IGRlZkV2ZW50QW5pbWF0aW9uRGVsYXk6ICAgICAgICAgICBudW1iZXIgPSAwOyAvLyBubyBkZWxheTtcclxuICAgICAgICAgICAgY29uc3QgZGVmRXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudDogIG51bWJlciA9IDE7XHJcbiAgICAgICAgICAgIGxldCBldmVudEFuaW1hdGlvbkNsYXNzO1xyXG4gICAgICAgICAgICBsZXQgZXZlbnRBbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgbGV0IGV2ZW50QW5pbWF0aW9uRGVsYXk7XHJcbiAgICAgICAgICAgIGxldCBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50O1xyXG4gICAgICAgICAgICBsZXQgYWN0aXZlQ2xhc3NDb3VudDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICh0aGlzWydzY3JvbGwtb3V0J10pIHtcclxuICAgICAgICAgICAgICAgIGxldCBldmVudEl0ZW06ICAgICAgICAgICAgICAgICAgT2JqZWN0ID0geyBhY3RpdmVDbGFzc0NvdW50OiB7fSB9O1xyXG4gICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA9IHRoaXNbYHNjcm9sbC1vdXRgXTtcclxuICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgICAgICAgPSB0aGlzW2BzY3JvbGwtb3V0LWFuaW1hdGlvbi1kdXJhdGlvbmBdO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25EZWxheSAgICAgICAgICAgICA9IHRoaXNbYHNjcm9sbC1vdXQtYW5pbWF0aW9uLWRlbGF5YF07XHJcbiAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gdGhpc1tgc2Nyb2xsLW91dC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2V0IGxhc3Qgc2Nyb2xsZWQgdG8gMFxyXG4gICAgICAgICAgICAgICAgZXZlbnRJdGVtWydzY3JvbGxPdXRMYXN0UG9zJ10gPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnc2VsZWN0b3InXSAgICAgICAgICAgPSBgc2Nyb2xsLW91dC0ke2V2ZW50QW5pbWF0aW9uQ2xhc3N9YDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIGluZmluaXRlIGFuaW1hdGlvbnMgYXMgdGhleSBhcmUgYSBwYWluIHRvIGhhbmRsZSAobGlrZSBkbyB3ZSByZWFsbHkgd2FudCB0byBhbGxvdyBpbmZpbml0ZSBhbmltYXRpb25zIG9uIGEgbW91c2Utb3V0IGV2ZW50PylcclxuICAgICAgICAgICAgICAgIGlmIChldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID09ICdpbmZpbml0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1N3ZWV0QnV0dG9uOiBcImluZmluaXRlXCIgaXMgbm90IHN1cHBvcnRlZCBhcyBhbiBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50IHByb3BlcnR5LicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGV2ZW50SXRlbVtgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRgXSAgICAgPSBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID8gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICAgIDogZGVmRXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudDtcclxuICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXSAgICAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgICAgID8gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25DbGFzcztcclxuICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uRHVyYXRpb24nXSAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID8gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgIGV2ZW50SXRlbVtgYW5pbWF0aW9uRGVsYXlgXSAgICAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgID8gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICAgICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25EZWxheTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzWydlbGVtZW50LWV2ZW50cyddWydzY3JvbGwtb3V0J10ucHVzaChldmVudEl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGxldCdzIHBhcnNlIHRoaXMgZm9yIG90aGVyIGV2ZW50c1xyXG4gICAgICAgICAgICBpZiAodGhpc1snc2Nyb2xsLWluJ10pIHtcclxuICAgICAgICAgICAgICAgIGxldCBldmVudEl0ZW06ICAgICAgICAgICAgICAgICAgT2JqZWN0ID0geyBhY3RpdmVDbGFzc0NvdW50OiB7fSB9O1xyXG4gICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA9IHRoaXNbYHNjcm9sbC1pbmBdO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgICAgICA9IHRoaXNbYHNjcm9sbC1pbi1hbmltYXRpb24tZHVyYXRpb25gXTtcclxuICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgPSB0aGlzW2BzY3JvbGwtaW4tYW5pbWF0aW9uLWRlbGF5YF07XHJcbiAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gdGhpc1tgc2Nyb2xsLWluLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnRgXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgbGFzdCBzY3JvbGxlZCB0byAwXHJcbiAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ3Njcm9sbEluTGFzdFBvcyddID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ3NlbGVjdG9yJ10gICAgICAgICAgID0gYHNjcm9sbC1pbi0ke2V2ZW50QW5pbWF0aW9uQ2xhc3N9YDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIGluZmluaXRlIGFuaW1hdGlvbnMgYXMgdGhleSBhcmUgYSBwYWluIHRvIGhhbmRsZSAobGlrZSBkbyB3ZSByZWFsbHkgd2FudCB0byBhbGxvdyBpbmZpbml0ZSBhbmltYXRpb25zIG9uIGEgbW91c2Utb3V0IGV2ZW50PylcclxuICAgICAgICAgICAgICAgIGlmIChldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID09ICdpbmZpbml0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1N3ZWV0QnV0dG9uOiBcImluZmluaXRlXCIgaXMgbm90IHN1cHBvcnRlZCBhcyBhbiBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50IHByb3BlcnR5LicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGV2ZW50SXRlbVtgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRgXSAgICAgPSBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID8gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICAgIDogZGVmRXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudDtcclxuICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXSAgICAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgICAgID8gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25DbGFzcztcclxuICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uRHVyYXRpb24nXSAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID8gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgIGV2ZW50SXRlbVtgYW5pbWF0aW9uRGVsYXlgXSAgICAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgID8gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICAgICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25EZWxheTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzWydlbGVtZW50LWV2ZW50cyddWydzY3JvbGwtaW4nXS5wdXNoKGV2ZW50SXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBzaGFwZUNvbmZpZztcclxuICAgICAgICAgICAgbGV0IHNoYXBlVHlwZTtcclxuICAgICAgICAgICAgbGV0IHNoYXBlRXZlbnRzO1xyXG4gICAgICAgICAgICAvLyB0cmFjayBzaGFwZSBldmVudHNcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMCwgaiA9IHRoaXMuc2hhcGUubGVuZ3RoOyBpIDwgajsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBnb3RvIG5leHQgaWYgbm8gc2hhcGUgdHlwZVxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNoYXBlW2ldW2BzaGFwZS0ke2krMX1gXSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBzaGFwZUNvbmZpZyA9IHRoaXMuc2hhcGVbaV07XHJcbiAgICAgICAgICAgICAgICBzaGFwZVR5cGUgPSBzaGFwZUNvbmZpZ1tgc2hhcGUtJHtpKzF9YF07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIGdvdG8gbmV4dCBpZiBzaGFwZSB0eXBlIGlzIGludmFsaWRcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zaGFwZURpY3Rpb25hcnlbc2hhcGVUeXBlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1N3ZWV0QnV0dG9uOiAnLCBzaGFwZVR5cGUsICdpcyBub3Qgc3VwcG9ydGVkLCB2aWV3IHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgY29tcGxldGVsaXN0IG9mIHNoYXBlIHR5cGVzLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBsYXllcmVkIGJ0biBzaGFwZVxyXG4gICAgICAgICAgICAgICAgbGV0IHN2Z1NoYXBlID0gdGhpcy5zaGFwZURpY3Rpb25hcnlbc2hhcGVUeXBlXShzaGFwZUNvbmZpZywgaSsxKTtcclxuICAgICAgICAgICAgICAgIHN2Z1NoYXBlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoc3ZnU2hhcGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpICsgJyBhbmltYXRlZCcpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1jbGlja2BdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50SXRlbTogICAgICAgICAgICAgICAgICBPYmplY3QgPSB7IGFjdGl2ZUNsYXNzQ291bnQ6IHt9IH07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke2krMX0tY2xpY2tgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1jbGljay1hbmltYXRpb24tZHVyYXRpb25gXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1jbGljay1hbmltYXRpb24tZGVsYXlgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1jbGljay1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnc2VsZWN0b3InXSAgICAgICAgICAgPSBgc2hhcGUtJHtpKzF9LWNsaWNrLSR7ZXZlbnRBbmltYXRpb25DbGFzc31gO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIGluZmluaXRlIGFuaW1hdGlvbnMgYXMgdGhleSBhcmUgYSBwYWluIHRvIGhhbmRsZSAobGlrZSBkbyB3ZSByZWFsbHkgd2FudCB0byBhbGxvdyBpbmZpbml0ZSBhbmltYXRpb25zIG9uIGEgbW91c2Utb3V0IGV2ZW50PylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9PSAnaW5maW5pdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1N3ZWV0QnV0dG9uOiBcImluZmluaXRlXCIgaXMgbm90IHN1cHBvcnRlZCBhcyBhbiBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50IHByb3BlcnR5LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25JdGVyYXRpb25Db3VudGBdICAgICA9IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgPyBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXSAgICAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgICAgID8gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25DbGFzcztcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ2FuaW1hdGlvbkR1cmF0aW9uJ10gICAgICAgICAgID0gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgICAgICA/IGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgICAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25EZWxheWBdICAgICAgICAgICAgICA9IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgPyBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkRlbGF5O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzWydlbGVtZW50LWV2ZW50cyddWydjbGljayddLnB1c2goZXZlbnRJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1lbnRlcmBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50SXRlbTogICAgICAgICAgICAgICAgICBPYmplY3QgPSB7IGFjdGl2ZUNsYXNzQ291bnQ6IHt9IH07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke2krMX0tbW91c2UtZW50ZXJgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1lbnRlci1hbmltYXRpb24tZHVyYXRpb25gXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1lbnRlci1hbmltYXRpb24tZGVsYXlgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnc2VsZWN0b3InXSAgICAgICAgICAgPSBgc2hhcGUtJHtpKzF9LW1vdXNlLWVudGVyLSR7ZXZlbnRBbmltYXRpb25DbGFzc31gO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIGluZmluaXRlIGFuaW1hdGlvbnMgYXMgdGhleSBhcmUgYSBwYWluIHRvIGhhbmRsZSAobGlrZSBkbyB3ZSByZWFsbHkgd2FudCB0byBhbGxvdyBpbmZpbml0ZSBhbmltYXRpb25zIG9uIGEgbW91c2Utb3V0IGV2ZW50PylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9PSAnaW5maW5pdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1N3ZWV0QnV0dG9uOiBcImluZmluaXRlXCIgaXMgbm90IHN1cHBvcnRlZCBhcyBhbiBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50IHByb3BlcnR5LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddICAgICAgICAgICAgICA9IGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgICAgICAgPyBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkNsYXNzO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uRHVyYXRpb24nXSAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID8gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkRlbGF5YF0gICAgICAgICAgICAgID0gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICAgICAgICA/IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRGVsYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25JdGVyYXRpb25Db3VudGBdICAgICA9IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgPyBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgbnVtYmVyIG9mIGV2ZW50cyB1c2luZyB0aGlzIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NDb3VudCA9IHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ2FjdGl2ZUNsYXNzQ291bnQnXVtldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ11dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWN0aXZlQ2xhc3NDb3VudCkgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnYWN0aXZlQ2xhc3NDb3VudCddW2V2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXV0gPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzWydlbGVtZW50LWV2ZW50cyddWydtb3VzZS1lbnRlciddLnB1c2goZXZlbnRJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1sZWF2ZWBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50SXRlbTogICAgICAgICAgICAgICAgICBPYmplY3QgPSB7IGFjdGl2ZUNsYXNzQ291bnQ6IHt9IH07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICAgICAgICA9IHNoYXBlQ29uZmlnW2BzaGFwZS0ke2krMX0tbW91c2UtbGVhdmVgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZHVyYXRpb25gXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1sZWF2ZS1hbmltYXRpb24tZGVsYXlgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgID0gc2hhcGVDb25maWdbYHNoYXBlLSR7aSsxfS1tb3VzZS1sZWF2ZS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgaW5maW5pdGUgYW5pbWF0aW9ucyBhcyB0aGV5IGFyZSBhIHBhaW4gdG8gaGFuZGxlIChsaWtlIGRvIHdlIHJlYWxseSB3YW50IHRvIGFsbG93IGluZmluaXRlIGFuaW1hdGlvbnMgb24gYSBtb3VzZS1vdXQgZXZlbnQ/KVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID09ICdpbmZpbml0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnU3dlZXRCdXR0b246IFwiaW5maW5pdGVcIiBpcyBub3Qgc3VwcG9ydGVkIGFzIGFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQgcHJvcGVydHkuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ3NlbGVjdG9yJ10gICAgICAgICAgID0gYHNoYXBlLSR7aSsxfS1tb3VzZS1sZWF2ZS0ke2V2ZW50QW5pbWF0aW9uQ2xhc3N9YDtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50YF0gICAgID0gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICA/IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddICAgICAgICAgICAgICA9IGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgICAgICAgPyBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkNsYXNzO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uRHVyYXRpb24nXSAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID8gKGV2ZW50QW5pbWF0aW9uRHVyYXRpb24pICAgICAgICAgICAgOiAoZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25EZWxheWBdICAgICAgICAgICAgICA9IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICAgICAgPyBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgICAgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkRlbGF5O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIG51bWJlciBvZiBldmVudHMgdXNpbmcgdGhpcyBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNsYXNzQ291bnQgPSB0aGlzWydlbGVtZW50LWV2ZW50cyddWydhY3RpdmVDbGFzc0NvdW50J11bZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZUNsYXNzQ291bnQpIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ2FjdGl2ZUNsYXNzQ291bnQnXVtldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ11dID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzWydlbGVtZW50LWV2ZW50cyddWydtb3VzZS1sZWF2ZSddLnB1c2goZXZlbnRJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkaXZDb250YWluZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmVlbmQnLCBzdmdTaGFwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY3JlYXRlR2x5cGhJY29uID0gKGRpdkNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGJ0blByZWZpeDogc3RyaW5nKSA6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpc1snZ2x5cGgtY2xhc3NlcyddKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaWNvbkdseXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGN1c3RvbWl6ZVxyXG4gICAgICAgICAgICAgICAgaWNvbkdseXBoLmNsYXNzTmFtZSA9IHRoaXNbJ2dseXBoLWNsYXNzZXMnXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdseXBoU2l6ZSAgICAgPSB0aGlzWydnbHlwaC1zaXplJ10ubGVuZ3RoID8gdGhpc1snZ2x5cGgtc2l6ZSddIDogJ3hzJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdseXBoU2NhbGVYICAgPSB0aGlzLnNoYXBlU2NhbGVbZ2x5cGhTaXplXVsnd2lkdGgnXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdseXBoU3BhY2luZ1ggPSBnbHlwaFNjYWxlWCAvIDEwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2x5cGhTY2FsZVkgICA9IHRoaXMuc2hhcGVTY2FsZVtnbHlwaFNpemVdWydoZWlnaHQnXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdseXBoU3BhY2luZ1kgPSBnbHlwaFNjYWxlWSAvIDEwO1xyXG5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gZm9udFxyXG4gICAgICAgICAgICAgICAgaWNvbkdseXBoLnN0eWxlLmZvbnRTaXplID0gYCR7Z2x5cGhTY2FsZVkvMn1weGA7XHJcbiAgICAgICAgICAgICAgICBpY29uR2x5cGguc3R5bGUubGluZUhlaWdodCA9IGAke2dseXBoU2NhbGVZLzJ9cHhgO1xyXG4gICAgICAgICAgICAgICAgaWNvbkdseXBoLnN0eWxlLmNvbG9yID0gdGhpc1snZ2x5cGgtY29sb3InXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjZW50ZXJpbmdcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzWydoYXNDaGlsZEVsZW0nXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvbnRTaXplID0gKGdseXBoU2NhbGVZLzIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkV2lkdGggPSB0aGlzWydjaGlsZFdpZHRoJ107XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2x5cGhXaWR0aCA9IHRoaXNbJ3NoYXBlU2NhbGUnXVtnbHlwaFNpemVdWyd3aWR0aCddO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhUGFkZGluZyA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkdseXBoLnN0eWxlLm1hcmdpblRvcCA9IGAtJHtmb250U2l6ZS8yfXB4YDtcclxuICAgICAgICAgICAgICAgICAgICBpY29uR2x5cGguc3R5bGUubWFyZ2luTGVmdCA9IGAtJHtmb250U2l6ZS8yICsgZm9udFNpemUvOCArIGNoaWxkV2lkdGgvMiArZXh0cmFQYWRkaW5nfXB4YDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9udFNpemUgPSAoZ2x5cGhTY2FsZVkvMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkdseXBoLnN0eWxlLm1hcmdpblRvcCA9IGAtJHtmb250U2l6ZS8yfXB4YDtcclxuICAgICAgICAgICAgICAgICAgICBpY29uR2x5cGguc3R5bGUubWFyZ2luTGVmdCA9IGAtJHtmb250U2l6ZS8yICsgZm9udFNpemUvOH1weGA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcGFyc2UgZWxlbSBmb3IgZXZlbnRzIGhlcmVcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZkV2ZW50QW5pbWF0aW9uQ2xhc3M6ICAgICAgICAgICBzdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZkV2ZW50QW5pbWF0aW9uRHVyYXRpb246ICAgICAgICBudW1iZXIgPSAxMDAwOyAvLyAxc1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVmRXZlbnRBbmltYXRpb25EZWxheTogICAgICAgICAgIG51bWJlciA9IDA7IC8vIG5vIGRlbGF5O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVmRXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudDogIG51bWJlciA9IDE7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRBbmltYXRpb25DbGFzcztcclxuICAgICAgICAgICAgICAgIGxldCBldmVudEFuaW1hdGlvbkR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50QW5pbWF0aW9uRGVsYXk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudDtcclxuICAgICAgICAgICAgICAgIGxldCBhY3RpdmVDbGFzc0NvdW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzWydnbHlwaC1jbGljayddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50SXRlbTogICAgICAgICAgICAgICAgICBPYmplY3QgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgICAgID0gdGhpc1tgZ2x5cGgtY2xpY2tgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID0gdGhpc1tgZ2x5cGgtY2xpY2stYW5pbWF0aW9uLWR1cmF0aW9uYF07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25EZWxheSAgICAgICAgICAgICA9IHRoaXNbYGdseXBoLWNsaWNrLWFuaW1hdGlvbi1kZWxheWBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgPSB0aGlzW2BnbHlwaC1jbGljay1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID09IFwiaW5maW5pdGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTd2VldEJ1dHRvbjogJywgJ1wiaW5maW5pdGVcIiBpcyBub3Qgc3VwcG9ydGVkIGFzIGFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQgcHJvcGVydHkuYW4gYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydzZWxlY3RvciddICAgICAgICAgICA9IGBnbHlwaC1jbGljay0ke2V2ZW50QW5pbWF0aW9uQ2xhc3N9YDtcclxuICAgICAgICAgICAgICAgICAgICBpY29uR2x5cGguY2xhc3NOYW1lICAgICAgICAgICAgICs9IGAgJHtldmVudEl0ZW1bJ3NlbGVjdG9yJ119YDsgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXSAgICAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgICAgICAgID8gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uQ2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydhbmltYXRpb25EdXJhdGlvbiddICAgICAgICAgICA9IGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgICAgICAgICAgPyBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgIDogZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkRlbGF5YF0gICAgICAgICAgICAgID0gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICAgICAgICAgICA/IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkRlbGF5O1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVtgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRgXSAgICAgPSBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgID8gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ2NsaWNrJ10ucHVzaChldmVudEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzWydnbHlwaC1jbGljayddICYmIHRoaXNbJ2hhc0NoaWxkRWxlbSddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50SXRlbTogICAgICAgICAgICAgICAgICBPYmplY3QgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgICAgID0gdGhpc1tgZ2x5cGgtY2xpY2tgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID0gdGhpc1tgZ2x5cGgtY2xpY2stYW5pbWF0aW9uLWR1cmF0aW9uYF07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25EZWxheSAgICAgICAgICAgICA9IHRoaXNbYGdseXBoLWNsaWNrLWFuaW1hdGlvbi1kZWxheWBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgPSB0aGlzW2BnbHlwaC1jbGljay1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID09IFwiaW5maW5pdGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTd2VldEJ1dHRvbjogJywgJ1wiaW5maW5pdGVcIiBpcyBub3Qgc3VwcG9ydGVkIGFzIGFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQgcHJvcGVydHkuYW4gYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydzZWxlY3RvciddICAgICAgICAgICA9IGAke2J0blByZWZpeH0taW5uZXItdGV4dGA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXSAgICAgICAgICAgICAgPSBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgID8gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uQ2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydhbmltYXRpb25EdXJhdGlvbiddICAgICAgICAgICA9IGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgPyBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgIDogZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkRlbGF5YF0gICAgICAgICAgICAgID0gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICA/IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkRlbGF5O1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVtgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRgXSAgICAgPSBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgID8gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ2NsaWNrJ10ucHVzaChldmVudEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzW2BnbHlwaC1tb3VzZS1lbnRlcmBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50SXRlbTogICAgICAgICAgICAgICAgICBPYmplY3QgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgICAgID0gdGhpc1tgZ2x5cGgtbW91c2UtZW50ZXJgXTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgICAgICAgID0gdGhpc1tgZ2x5cGgtbW91c2UtZW50ZXItYW5pbWF0aW9uLWR1cmF0aW9uYF07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25EZWxheSAgICAgICAgICAgICA9IHRoaXNbYGdseXBoLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kZWxheWBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgPSB0aGlzW2BnbHlwaC1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID09IFwiaW5maW5pdGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTd2VldEJ1dHRvbjogJywgJ1wiaW5maW5pdGVcIiBpcyBub3Qgc3VwcG9ydGVkIGFzIGFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQgcHJvcGVydHkuYW4gYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydzZWxlY3RvciddICAgICAgICAgICA9IGBnbHlwaC1tb3VzZS1lbnRlci0ke2V2ZW50QW5pbWF0aW9uQ2xhc3N9YDtcclxuICAgICAgICAgICAgICAgICAgICBpY29uR2x5cGguY2xhc3NOYW1lICAgICAgICAgICAgICs9IGAgJHtldmVudEl0ZW1bJ3NlbGVjdG9yJ119YDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddICAgICA9IGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgPyBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25DbGFzcztcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ2FuaW1hdGlvbkR1cmF0aW9uJ10gID0gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICA/IGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgOiBkZWZFdmVudEFuaW1hdGlvbkR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVtgYW5pbWF0aW9uRGVsYXlgXSAgICAgPSBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgID8gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRGVsYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25JdGVyYXRpb25Db3VudGBdICAgICA9IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgICAgPyBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBudW1iZXIgb2YgZXZlbnRzIHVzaW5nIHRoaXMgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVDbGFzc0NvdW50ID0gdGhpc1snZWxlbWVudC1ldmVudHMnXVsnYWN0aXZlQ2xhc3NDb3VudCddW2V2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhY3RpdmVDbGFzc0NvdW50KSB0aGlzWydlbGVtZW50LWV2ZW50cyddWydhY3RpdmVDbGFzc0NvdW50J11bZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddXSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ21vdXNlLWVudGVyJ10ucHVzaChldmVudEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzWydnbHlwaC1tb3VzZS1lbnRlciddICYmIHRoaXNbJ2hhc0NoaWxkRWxlbSddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50SXRlbTogICAgICAgICAgICAgICAgICBPYmplY3QgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgPSB0aGlzW2BnbHlwaC1tb3VzZS1lbnRlcmBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgICA9IHRoaXNbYGdseXBoLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kdXJhdGlvbmBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICA9IHRoaXNbYGdseXBoLW1vdXNlLWVudGVyLWFuaW1hdGlvbi1kZWxheWBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgPSB0aGlzW2BnbHlwaC1tb3VzZS1lbnRlci1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID09IFwiaW5maW5pdGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTd2VldEJ1dHRvbjogJywgJ1wiaW5maW5pdGVcIiBpcyBub3Qgc3VwcG9ydGVkIGFzIGFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQgcHJvcGVydHkuYW4gYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydzZWxlY3RvciddICAgICAgICAgICA9IGAke2J0blByZWZpeH0taW5uZXItdGV4dGA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXSAgICAgPSBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgID8gZXZlbnRBbmltYXRpb25DbGFzcyAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uQ2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydhbmltYXRpb25EdXJhdGlvbiddICA9IGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgPyBldmVudEFuaW1hdGlvbkR1cmF0aW9uICAgIDogZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkRlbGF5YF0gICAgID0gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICA/IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkRlbGF5O1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVtgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRgXSAgICAgPSBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgID8gZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgbnVtYmVyIG9mIGV2ZW50cyB1c2luZyB0aGlzIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NDb3VudCA9IHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ2FjdGl2ZUNsYXNzQ291bnQnXVtldmVudEl0ZW1bJ2FuaW1hdGlvbkNsYXNzJ11dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWN0aXZlQ2xhc3NDb3VudCkgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnYWN0aXZlQ2xhc3NDb3VudCddW2V2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ21vdXNlLWVudGVyJ10ucHVzaChldmVudEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzW2BnbHlwaC1tb3VzZS1sZWF2ZWBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50SXRlbTogICAgICAgICAgICAgICAgICBPYmplY3QgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgICAgPSB0aGlzW2BnbHlwaC1tb3VzZS1sZWF2ZWBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgICA9IHRoaXNbYGdseXBoLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1kdXJhdGlvbmBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICAgICA9IHRoaXNbYGdseXBoLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1kZWxheWBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgPSB0aGlzW2BnbHlwaC1tb3VzZS1sZWF2ZS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50YF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID09IFwiaW5maW5pdGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTd2VldEJ1dHRvbjogJywgJ1wiaW5maW5pdGVcIiBpcyBub3Qgc3VwcG9ydGVkIGFzIGFuIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQgcHJvcGVydHkuYW4gYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydzZWxlY3RvciddICAgICAgICAgICA9IGBnbHlwaC1tb3VzZS1sZWF2ZS0ke2V2ZW50QW5pbWF0aW9uQ2xhc3N9YDtcclxuICAgICAgICAgICAgICAgICAgICBpY29uR2x5cGguY2xhc3NOYW1lICAgICAgICAgICAgICs9IGAgJHtldmVudEl0ZW1bJ3NlbGVjdG9yJ119YDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddICAgICA9IGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgPyBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgOiBkZWZFdmVudEFuaW1hdGlvbkNsYXNzO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVsnYW5pbWF0aW9uRHVyYXRpb24nXSAgPSBldmVudEFuaW1hdGlvbkR1cmF0aW9uID8gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgIDogZGVmRXZlbnRBbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bYGFuaW1hdGlvbkRlbGF5YF0gICAgID0gZXZlbnRBbmltYXRpb25EZWxheSAgICA/IGV2ZW50QW5pbWF0aW9uRGVsYXkgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRGVsYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25JdGVyYXRpb25Db3VudGBdICAgICA9IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgICAgPyBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBudW1iZXIgb2YgZXZlbnRzIHVzaW5nIHRoaXMgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVDbGFzc0NvdW50ID0gdGhpc1snZWxlbWVudC1ldmVudHMnXVsnYWN0aXZlQ2xhc3NDb3VudCddW2V2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhY3RpdmVDbGFzc0NvdW50KSB0aGlzWydlbGVtZW50LWV2ZW50cyddWydhY3RpdmVDbGFzc0NvdW50J11bZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnbW91c2UtbGVhdmUnXS5wdXNoKGV2ZW50SXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbJ2dseXBoLW1vdXNlLWxlYXZlJ10gJiYgdGhpc1snaGFzQ2hpbGRFbGVtJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXZlbnRJdGVtOiAgICAgICAgICAgICAgICAgIE9iamVjdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgICA9IHRoaXNbYGdseXBoLW1vdXNlLWxlYXZlYF07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICAgID0gdGhpc1tgZ2x5cGgtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWR1cmF0aW9uYF07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25EZWxheSAgICAgICAgID0gdGhpc1tgZ2x5cGgtbW91c2UtbGVhdmUtYW5pbWF0aW9uLWRlbGF5YF07XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudCAgICA9IHRoaXNbYGdseXBoLW1vdXNlLWxlYXZlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnRgXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgPT0gXCJpbmZpbml0ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1N3ZWV0QnV0dG9uOiAnLCAnXCJpbmZpbml0ZVwiIGlzIG5vdCBzdXBwb3J0ZWQgYXMgYW4gYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCBwcm9wZXJ0eS5hbiBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ3NlbGVjdG9yJ10gICAgICAgICAgID0gYCR7YnRuUHJlZml4fS1pbm5lci10ZXh0YDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddICAgICA9IGV2ZW50QW5pbWF0aW9uQ2xhc3MgICAgICAgPyBldmVudEFuaW1hdGlvbkNsYXNzICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25DbGFzcztcclxuICAgICAgICAgICAgICAgICAgICBldmVudEl0ZW1bJ2FuaW1hdGlvbkR1cmF0aW9uJ10gID0gZXZlbnRBbmltYXRpb25EdXJhdGlvbiAgICA/IGV2ZW50QW5pbWF0aW9uRHVyYXRpb24gICAgOiBkZWZFdmVudEFuaW1hdGlvbkR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SXRlbVtgYW5pbWF0aW9uRGVsYXlgXSAgICAgPSBldmVudEFuaW1hdGlvbkRlbGF5ICAgICAgID8gZXZlbnRBbmltYXRpb25EZWxheSAgICAgICA6IGRlZkV2ZW50QW5pbWF0aW9uRGVsYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJdGVtW2BhbmltYXRpb25JdGVyYXRpb25Db3VudGBdICAgICA9IGV2ZW50QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgICAgICAgPyBldmVudEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICAgICAgIDogZGVmRXZlbnRBbmltYXRpb25JdGVyYXRpb25Db3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBudW1iZXIgb2YgZXZlbnRzIHVzaW5nIHRoaXMgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVDbGFzc0NvdW50ID0gdGhpc1snZWxlbWVudC1ldmVudHMnXVsnYWN0aXZlQ2xhc3NDb3VudCddW2V2ZW50SXRlbVsnYW5pbWF0aW9uQ2xhc3MnXV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhY3RpdmVDbGFzc0NvdW50KSB0aGlzWydlbGVtZW50LWV2ZW50cyddWydhY3RpdmVDbGFzc0NvdW50J11bZXZlbnRJdGVtWydhbmltYXRpb25DbGFzcyddXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnbW91c2UtbGVhdmUnXS5wdXNoKGV2ZW50SXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYXBwZW5kIGljb24gdG8gZGl2Q29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICBkaXZDb250YWluZXIuYXBwZW5kQ2hpbGQoaWNvbkdseXBoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgSGFuZGxlTW91c2VFbnRlckV2ZW50ID0gKGRpdkNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGVsZW1lbnRFdmVudHM6IE9iamVjdCkgOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0ID0+IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBkb24ndCBzdGFydCBldmVuIGlmIHRoZXNlIGFyZSBoYXBwZW5pbmdcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50RXZlbnRzWydpc09uTG9hZE9jY3VyaW5nJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc01vdXNlRW50ZXJPY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNNb3VzZUxlYXZlT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzQ2xpY2tPY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNTY3JvbGxJbk9jY3VyaW5nJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc1Njcm9sbE91dE9jY3VyaW5nJ10pIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc01vdXNlRW50ZXJPY2N1cmluZyddID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGFzeW5jLmVhY2goZWxlbWVudEV2ZW50c1snbW91c2UtZW50ZXInXSwgKG1vdXNlRW50ZXJFdmVudCwgbW91c2VFbnRlckV2ZW50Q0IpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMud2F0ZXJmYWxsKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNlcmllc0NCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQgPSAkKGRpdkNvbnRhaW5lcikuZmluZChgLiR7bW91c2VFbnRlckV2ZW50LnNlbGVjdG9yfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGNzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJzogYCR7bW91c2VFbnRlckV2ZW50LmFuaW1hdGlvbkR1cmF0aW9ufW1zYCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5pbWF0aW9uLWR1cmF0aW9uJzogYCR7bW91c2VFbnRlckV2ZW50LmFuaW1hdGlvbkR1cmF0aW9ufW1zYCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogbW91c2VFbnRlckV2ZW50LmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogbW91c2VFbnRlckV2ZW50LmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWVzQ0IobnVsbCwgc2VsZWN0ZWRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGVjdGVkRWxlbWVudCwgc2VyaWVzQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFwcGx5IGFuaW1hdGlvbiBkZWxheSBhbmQgdGhlbiBhZGQgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQuYWRkQ2xhc3MoYCR7bW91c2VFbnRlckV2ZW50LmFuaW1hdGlvbkNsYXNzfWApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWVzQ0IobnVsbCwgc2VsZWN0ZWRFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBtb3VzZUVudGVyRXZlbnQuYW5pbWF0aW9uRGVsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc2VsZWN0ZWRFbGVtZW50LCBzZXJpZXNDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzZXMgICYgY3NzIGFmdGVyIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LnJlbW92ZUNsYXNzKGAke21vdXNlRW50ZXJFdmVudC5hbmltYXRpb25DbGFzc31gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcmllc0NCKG51bGwsIHNlbGVjdGVkRWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbW91c2VFbnRlckV2ZW50LmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ICogbW91c2VFbnRlckV2ZW50LmFuaW1hdGlvbkR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF0sIG1vdXNlRW50ZXJFdmVudENCKTtcclxuICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmRlYnVnKCdlcnI6JywgZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc01vdXNlRW50ZXJPY2N1cmluZyddID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIEhhbmRsZU1vdXNlTGVhdmVFdmVudCA9IChkaXZDb250YWluZXI6IEhUTUxFbGVtZW50LCBlbGVtZW50RXZlbnRzOiBPYmplY3QpIDogRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCA9PiB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3Qgc3RhcnQgZXZlbiBpZiB0aGVzZSBhcmUgaGFwcGVuaW5nXHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudEV2ZW50c1snaXNPbkxvYWRPY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNNb3VzZUxlYXZlT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzTW91c2VFbnRlck9jY3VyaW5nJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc0NsaWNrT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzU2Nyb2xsSW5PY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNTY3JvbGxPdXRPY2N1cmluZyddKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNNb3VzZUxlYXZlT2NjdXJpbmcnXSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkRWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICBhc3luYy5lYWNoKGVsZW1lbnRFdmVudHNbJ21vdXNlLWxlYXZlJ10sIChtb3VzZUxlYXZlLCBtb3VzZUxlYXZlQ0IpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMud2F0ZXJmYWxsKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNlcmllc0NCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQgPSAkKGRpdkNvbnRhaW5lcikuZmluZChgLiR7bW91c2VMZWF2ZS5zZWxlY3Rvcn1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBjc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbic6IGAke21vdXNlTGVhdmUuYW5pbWF0aW9uRHVyYXRpb259bXNgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhbmltYXRpb24tZHVyYXRpb24nOiBgJHttb3VzZUxlYXZlLmFuaW1hdGlvbkR1cmF0aW9ufW1zYCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50JzogbW91c2VMZWF2ZS5hbmltYXRpb25JdGVyYXRpb25Db3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6IG1vdXNlTGVhdmUuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXJpZXNDQihudWxsLCBzZWxlY3RlZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc2VsZWN0ZWRFbGVtZW50LCBzZXJpZXNDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgYW5pbWF0aW9uIGRlbGF5IGFuZCB0aGVuIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5jcmVtZW50IG51bWJlciBvZiBhY3RpdmUgZXZlbnRzIHVzaW5nIHRoaXMgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydhY3RpdmVDbGFzc0NvdW50J11bYCR7bW91c2VMZWF2ZS5hbmltYXRpb25DbGFzc31gXSsrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkRWxlbWVudC5oYXNDbGFzcyhgJHttb3VzZUxlYXZlLmFuaW1hdGlvbkNsYXNzfWApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5hZGRDbGFzcyhgJHttb3VzZUxlYXZlLmFuaW1hdGlvbkNsYXNzfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcmllc0NCKG51bGwsIHNlbGVjdGVkRWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbW91c2VMZWF2ZS5hbmltYXRpb25EZWxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZWxlY3RlZEVsZW1lbnQsIHNlcmllc0NCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCB0aGUgbW91c2UgaW4gYW5pbWF0aW9uIDEwMG1zIGVhcmxpZXIgdGhhbiB0aGUgY2xhc3MgZ2V0cyByZW1vdmVkIHRvIGF2b2lkIGZsaWNrZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jLnBhcmFsbGVsKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGFyYUNCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNNb3VzZUxlYXZlT2NjdXJpbmcnXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJpZ2dlciBtb3VzZSBlbnRlciBhZnRlciBhIG1vdXNlIGxlYXZlIGlmIG5vdCBhbHJlYWR5IG9jY3VyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2VldEJ1dHRvbi5IYW5kbGVNb3VzZUVudGVyRXZlbnQoZGl2Q29udGFpbmVyLCBlbGVtZW50RXZlbnRzKSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhQ0IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbW91c2VMZWF2ZS5hbmltYXRpb25EdXJhdGlvbiAqIG1vdXNlTGVhdmUuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgLSAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHBhcmFDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgY2xhc3NlcyAgJiBjc3MgYWZ0ZXIgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVjcmVtZW50IHRoZSBudW1iZXIgb2YgZXZlbnRzIHVzaW5nIHRoaXMgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2FjdGl2ZUNsYXNzQ291bnQnXVtgJHttb3VzZUxlYXZlLmFuaW1hdGlvbkNsYXNzfWBdLS07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSByZW1vdmUgdGhpcyBjbGFzcyBpZiB0aGVyZSBhcmUgbm8gZXZlbnRzIG5lZWRpbmcgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50RXZlbnRzWydhY3RpdmVDbGFzc0NvdW50J11bYCR7bW91c2VMZWF2ZS5hbmltYXRpb25DbGFzc31gXSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LnJlbW92ZUNsYXNzKGAke21vdXNlTGVhdmUuYW5pbWF0aW9uQ2xhc3N9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcmllc0NCKG51bGwsIHNlbGVjdGVkRWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBtb3VzZUxlYXZlLmFuaW1hdGlvbkR1cmF0aW9uICogbW91c2VMZWF2ZS5hbmltYXRpb25JdGVyYXRpb25Db3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwgc2VyaWVzQ0IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBdLCBtb3VzZUxlYXZlQ0IpO1xyXG4gICAgICAgICAgICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIGNvbnNvbGUuZGVidWcoJ2VycjonLCBlcnIpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBIYW5kbGVTY3JvbGxPdXRFdmVudCA9IChkaXZDb250YWluZXI6IEhUTUxFbGVtZW50LCBlbGVtZW50RXZlbnRzOiBPYmplY3QpIDogRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0U2Nyb2xsQW1vdW50ID0gZWxlbWVudEV2ZW50c1snc2Nyb2xsT3V0TGFzdFBvcyddO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Nyb2xsQW1vdW50ID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snc2Nyb2xsT3V0TGFzdFBvcyddID0gIHNjcm9sbEFtb3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudEV2ZW50c1snaXNPbkxvYWRPY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNDbGlja09jY3VyaW5nJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc01vdXNlRW50ZXJPY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNNb3VzZUxlYXZlT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzU2Nyb2xsSW5PY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNTY3JvbGxPdXRPY2N1cmluZyddKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYW1vdW50VG9TY3JvbGwgPSAkKGRpdkNvbnRhaW5lcikub2Zmc2V0KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAkKGRpdkNvbnRhaW5lcikuaGVpZ2h0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbEFtb3VudCA8IGxhc3RTY3JvbGxBbW91bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50IGlzIGluIGJvdHRvbSBwb3J0aW9uIG9mIHNjcmVlblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGxBbW91bnQgKyB3aW5kb3cuaW5uZXJIZWlnaHQgPiBhbW91bnRUb1Njcm9sbC50b3AgKyBvZmZzZXQgLSAob2Zmc2V0LzMpICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbW91bnQgKyB3aW5kb3cuaW5uZXJIZWlnaHQgPCBhbW91bnRUb1Njcm9sbC50b3AgKyBvZmZzZXQgKyAob2Zmc2V0LzMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJTY3JvbGxPdXRFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzY3JvbGxpbmcgdXBcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50IGlzIGluIHRvcCBwb3J0aW9uIG9mIHNjcmVlblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGxBbW91bnQgPiBhbW91bnRUb1Njcm9sbC50b3AgLSBvZmZzZXQgLSAob2Zmc2V0LzMpICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbW91bnQgPCBhbW91bnRUb1Njcm9sbC50b3AgKyAob2Zmc2V0LzMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJTY3JvbGxPdXRFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdHJpZ2dlclNjcm9sbE91dEV2ZW50KCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzU2Nyb2xsT3V0T2NjdXJpbmcnXSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLmVhY2goZWxlbWVudEV2ZW50c1snc2Nyb2xsLW91dCddLCAoc2Nyb2xsT3V0RXZlbnQsIHNjcm9sbE91dEV2ZW50Q0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMud2F0ZXJmYWxsKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzZXJpZXNDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudCA9ICQoZGl2Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJzogYCR7c2Nyb2xsT3V0RXZlbnQuYW5pbWF0aW9uRHVyYXRpb259bXNgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5pbWF0aW9uLWR1cmF0aW9uJzogYCR7c2Nyb2xsT3V0RXZlbnQuYW5pbWF0aW9uRHVyYXRpb259bXNgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50Jzogc2Nyb2xsT3V0RXZlbnQuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhbmltYXRpb24taXRlcmF0aW9uLWNvdW50Jzogc2Nyb2xsT3V0RXZlbnQuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcmllc0NCKG51bGwsIHNlbGVjdGVkRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGVjdGVkRWxlbWVudCwgc2VyaWVzQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBhbmltYXRpb24gZGVsYXkgYW5kIHRoZW4gYWRkIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5hZGRDbGFzcyhgJHtzY3JvbGxPdXRFdmVudC5hbmltYXRpb25DbGFzc31gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXJpZXNDQihudWxsLCBzZWxlY3RlZEVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBzY3JvbGxPdXRFdmVudC5hbmltYXRpb25EZWxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGVjdGVkRWxlbWVudCwgc2VyaWVzQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCB0aGUgbW91c2UgaW4gYW5pbWF0aW9uIDEwMG1zIGVhcmxpZXIgdGhhbiB0aGUgY2xhc3MgZ2V0cyByZW1vdmVkIHRvIGF2b2lkIGZsaWNrZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luYy5wYXJhbGxlbChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwYXJhQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzU2Nyb2xsT3V0T2NjdXJpbmcnXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyaWdnZXIgbW91c2UgZW50ZXIgYWZ0ZXIgYSBtb3VzZSBsZWF2ZSBpZiBub3QgYWxyZWFkeSBvY2N1cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3ZWV0QnV0dG9uLkhhbmRsZVNjcm9sbEluRXZlbnQoZGl2Q29udGFpbmVyLCBlbGVtZW50RXZlbnRzLCB0cnVlKSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYUNCKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBzY3JvbGxPdXRFdmVudC5hbmltYXRpb25EdXJhdGlvbiAqIHNjcm9sbE91dEV2ZW50LmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IC0gMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHBhcmFDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzZXMgICYgY3NzIGFmdGVyIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQucmVtb3ZlQ2xhc3MoYCR7c2Nyb2xsT3V0RXZlbnQuYW5pbWF0aW9uQ2xhc3N9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXJpZXNDQihudWxsLCBzZWxlY3RlZEVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHNjcm9sbE91dEV2ZW50LmFuaW1hdGlvbkR1cmF0aW9uICogc2Nyb2xsT3V0RXZlbnQuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sIHNjcm9sbE91dEV2ZW50Q0IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgY29uc29sZS5kZWJ1ZygnZXJyOicsIGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBIYW5kbGVTY3JvbGxJbkV2ZW50ID0gKGRpdkNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGVsZW1lbnRFdmVudHM6IE9iamVjdCwgZm9yY2VFdmVudDogQm9vbGVhbikgOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChmb3JjZUV2ZW50KSByZXR1cm4gdHJpZ2dlclNjcm9sbEluRXZlbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0U2Nyb2xsQW1vdW50ID0gZWxlbWVudEV2ZW50c1snc2Nyb2xsSW5MYXN0UG9zJ107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JvbGxBbW91bnQgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydzY3JvbGxJbkxhc3RQb3MnXSA9ICBzY3JvbGxBbW91bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRFdmVudHNbJ2lzT25Mb2FkT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzQ2xpY2tPY2N1cmluZyddIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEV2ZW50c1snaXNNb3VzZUVudGVyT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzTW91c2VMZWF2ZU9jY3VyaW5nJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc1Njcm9sbEluT2NjdXJpbmcnXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzU2Nyb2xsT3V0T2NjdXJpbmcnXSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudFRvU2Nyb2xsID0gJChkaXZDb250YWluZXIpLm9mZnNldCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gJChkaXZDb250YWluZXIpLmhlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbGluZyBkb3duXHJcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsQW1vdW50ID4gbGFzdFNjcm9sbEFtb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgaXMgaW4gYm90dG9tIHBvcnRpb24gb2Ygc2NyZWVuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjcm9sbEFtb3VudCArIHdpbmRvdy5pbm5lckhlaWdodCA+IGFtb3VudFRvU2Nyb2xsLnRvcCAtIChvZmZzZXQvMykgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFtb3VudCArIHdpbmRvdy5pbm5lckhlaWdodCA8IGFtb3VudFRvU2Nyb2xsLnRvcCArIChvZmZzZXQvMykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclNjcm9sbEluRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gc2Nyb2xsaW5nIHVwXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudCBpcyBpbiB0b3AgcG9ydGlvbiBvZiBzY3JlZW5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsQW1vdW50ID4gYW1vdW50VG9TY3JvbGwudG9wICsgb2Zmc2V0IC0gKG9mZnNldC8zKSAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW1vdW50IDwgYW1vdW50VG9TY3JvbGwudG9wICsgb2Zmc2V0ICsgKG9mZnNldC8zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclNjcm9sbEluRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRyaWdnZXJTY3JvbGxJbkV2ZW50KCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzU2Nyb2xsSW5PY2N1cmluZyddID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkRWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMuZWFjaChlbGVtZW50RXZlbnRzWydzY3JvbGwtaW4nXSwgKHNjcm9sbEluRXZlbnQsIHNjcm9sbEluRXZlbnRDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3luYy53YXRlcmZhbGwoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlcmllc0NCKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50ID0gJChkaXZDb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJzogYCR7c2Nyb2xsSW5FdmVudC5hbmltYXRpb25EdXJhdGlvbn1tc2AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhbmltYXRpb24tZHVyYXRpb24nOiBgJHtzY3JvbGxJbkV2ZW50LmFuaW1hdGlvbkR1cmF0aW9ufW1zYCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6IHNjcm9sbEluRXZlbnQuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhbmltYXRpb24taXRlcmF0aW9uLWNvdW50Jzogc2Nyb2xsSW5FdmVudC5hbmltYXRpb25JdGVyYXRpb25Db3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWVzQ0IobnVsbCwgc2VsZWN0ZWRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VsZWN0ZWRFbGVtZW50LCBzZXJpZXNDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFwcGx5IGFuaW1hdGlvbiBkZWxheSBhbmQgdGhlbiBhZGQgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LmFkZENsYXNzKGAke3Njcm9sbEluRXZlbnQuYW5pbWF0aW9uQ2xhc3N9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWVzQ0IobnVsbCwgc2VsZWN0ZWRFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgc2Nyb2xsSW5FdmVudC5hbmltYXRpb25EZWxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGVjdGVkRWxlbWVudCwgc2VyaWVzQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgY2xhc3NlcyAgJiBjc3MgYWZ0ZXIgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LnJlbW92ZUNsYXNzKGAke3Njcm9sbEluRXZlbnQuYW5pbWF0aW9uQ2xhc3N9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWVzQ0IobnVsbCwgc2VsZWN0ZWRFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgc2Nyb2xsSW5FdmVudC5hbmltYXRpb25EdXJhdGlvbiAqIHNjcm9sbEluRXZlbnQuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLCBzY3JvbGxJbkV2ZW50Q0IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgY29uc29sZS5kZWJ1ZygnZXJyOicsIGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc1Njcm9sbEluT2NjdXJpbmcnXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgSGFuZGxlQ2xpY2tFdmVudCA9IChkaXZDb250YWluZXI6IEhUTUxFbGVtZW50LCBlbGVtZW50RXZlbnRzOiBPYmplY3QpIDogRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCA9PiB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50RXZlbnRzWydpc0NsaWNrT2NjdXJpbmcnXSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbJ2lzQ2xpY2tPY2N1cmluZyddID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGFzeW5jLmVhY2goZWxlbWVudEV2ZW50c1snY2xpY2snXSwgKGNsaWNrRXZlbnQsIGNsaWNrRXZlbnRDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLndhdGVyZmFsbChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZXJpZXNDQikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50ID0gJChkaXZDb250YWluZXIpLmZpbmQoYC4ke2NsaWNrRXZlbnQuc2VsZWN0b3J9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2VldEJ1dHRvbi5SZW1vdmVFdmVudEFuaW1hdGlvbkNsYXNzZXMoZGl2Q29udGFpbmVyLCBlbGVtZW50RXZlbnRzLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21vdXNlLWVudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbW91c2UtbGVhdmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzY3JvbGwtaW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzY3JvbGwtb3V0J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgY3NzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24nOiBgJHtjbGlja0V2ZW50LmFuaW1hdGlvbkR1cmF0aW9ufW1zYCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5pbWF0aW9uLWR1cmF0aW9uJzogYCR7Y2xpY2tFdmVudC5hbmltYXRpb25EdXJhdGlvbn1tc2AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCc6IGNsaWNrRXZlbnQuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnOiBjbGlja0V2ZW50LmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWVzQ0IobnVsbCwgc2VsZWN0ZWRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGVjdGVkRWxlbWVudCwgc2VyaWVzQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFwcGx5IGFuaW1hdGlvbiBkZWxheSBhbmQgdGhlbiBhZGQgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5hZGRDbGFzcyhgJHtjbGlja0V2ZW50LmFuaW1hdGlvbkNsYXNzfWApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWVzQ0IobnVsbCwgc2VsZWN0ZWRFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBjbGlja0V2ZW50LmFuaW1hdGlvbkRlbGF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGVjdGVkRWxlbWVudCwgc2VyaWVzQ0IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjbGFzc2VzICAmIGNzcyBhZnRlciBhbmltYXRpb24gaGFzIGNvbXBsZXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LnJlbW92ZUNsYXNzKGAke2NsaWNrRXZlbnQuYW5pbWF0aW9uQ2xhc3N9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcmllc0NCKG51bGwsIHNlbGVjdGVkRWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2xpY2tFdmVudC5hbmltYXRpb25EdXJhdGlvbiAqIGNsaWNrRXZlbnQuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXSwgY2xpY2tFdmVudENCKTtcclxuICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmRlYnVnKCdlcnI6JywgZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzWydpc0NsaWNrT2NjdXJpbmcnXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFJlbW92ZUV2ZW50QW5pbWF0aW9uQ2xhc3NlcyAoZGl2Q29udGFpbmVyOiBIVE1MRWxlbWVudCwgZWxlbWVudEV2ZW50czogT2JqZWN0LCBlbGVtZW50RXZlbnRLZXlOYW1lczogQXJyYXk8c3RyaW5nPikge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgZWxlbWVudEV2ZW50S2V5TmFtZXMuZm9yRWFjaCgoZXZlbnRLZXlOYW1lLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50RXZlbnRzW2V2ZW50S2V5TmFtZV0pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudEV2ZW50c1tldmVudEtleU5hbWVdLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRFdmVudHNbZXZlbnRLZXlOYW1lXS5mb3JFYWNoKChldmVudCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50ICAgICA9ICQoZGl2Q29udGFpbmVyKS5maW5kKGAuJHtldmVudC5zZWxlY3Rvcn1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnQuaGFzQ2xhc3MoZXZlbnQuYW5pbWF0aW9uQ2xhc3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQucmVtb3ZlQ2xhc3MoZXZlbnQuYW5pbWF0aW9uQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJzogYGAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FuaW1hdGlvbi1kdXJhdGlvbic6IGBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBBZGRFdmVudEFuaW1hdGlvbkNsYXNzZXMgKGRpdkNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGVsZW1lbnRFdmVudHM6IE9iamVjdCwgZWxlbWVudEV2ZW50S2V5TmFtZXM6IEFycmF5PHN0cmluZz4pIHtcclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkRWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnRFdmVudEtleU5hbWVzLmZvckVhY2goKGV2ZW50S2V5TmFtZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudEV2ZW50c1tldmVudEtleU5hbWVdKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRFdmVudHNbZXZlbnRLZXlOYW1lXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50RXZlbnRzW2V2ZW50S2V5TmFtZV0uZm9yRWFjaCgoZXZlbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudCAgICAgPSAkKGRpdkNvbnRhaW5lcikuZmluZChgLiR7ZXZlbnQuc2VsZWN0b3J9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkRWxlbWVudC5oYXNDbGFzcyhldmVudC5hbmltYXRpb25DbGFzcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudC5hZGRDbGFzcyhldmVudC5hbmltYXRpb25DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24nOiBgJHtldmVudC5hbmltYXRpb25EdXJhdGlvbn1tc2AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FuaW1hdGlvbi1kdXJhdGlvbic6IGAke2V2ZW50LmFuaW1hdGlvbkR1cmF0aW9ufW1zYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVFdmVudHMgPSAoZGl2Q29udGFpbmVyOiBIVE1MRWxlbWVudCkgOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy8gYWRkIGNsaWNrIGV2ZW50XHJcbiAgICAgICAgICAgIGlmICh0aGlzWydlbGVtZW50LWV2ZW50cyddWydjbGljayddLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZGl2Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgU3dlZXRCdXR0b24uSGFuZGxlQ2xpY2tFdmVudChkaXZDb250YWluZXIsIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ10pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBhZGQgbW91c2UtZW50ZXIgZXZlbnRcclxuICAgICAgICAgICAgaWYgKHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ11bJ21vdXNlLWVudGVyJ10ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBkaXZDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIFN3ZWV0QnV0dG9uLkhhbmRsZU1vdXNlRW50ZXJFdmVudChkaXZDb250YWluZXIsIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ10pKTtcclxuICAgICAgICAgICAgICAgIGRpdkNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgU3dlZXRCdXR0b24uSGFuZGxlTW91c2VFbnRlckV2ZW50KGRpdkNvbnRhaW5lciwgdGhpc1snZWxlbWVudC1ldmVudHMnXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFkZCBtb3VzZS1sZWF2ZSBldmVudFxyXG4gICAgICAgICAgICBpZiAodGhpc1snZWxlbWVudC1ldmVudHMnXVsnbW91c2UtbGVhdmUnXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGRpdkNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgU3dlZXRCdXR0b24uSGFuZGxlTW91c2VMZWF2ZUV2ZW50KGRpdkNvbnRhaW5lciwgdGhpc1snZWxlbWVudC1ldmVudHMnXSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpc1snZWxlbWVudC1ldmVudHMnXVsnc2Nyb2xsLWluJ10ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgU3dlZXRCdXR0b24uSGFuZGxlU2Nyb2xsSW5FdmVudChkaXZDb250YWluZXIsIHRoaXNbJ2VsZW1lbnQtZXZlbnRzJ10sIGZhbHNlKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzWydlbGVtZW50LWV2ZW50cyddWydzY3JvbGwtb3V0J10ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgU3dlZXRCdXR0b24uSGFuZGxlU2Nyb2xsT3V0RXZlbnQoZGl2Q29udGFpbmVyLCB0aGlzWydlbGVtZW50LWV2ZW50cyddKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBhcnNlQnRuSW5uZXJIdG1sID0gKGJ0bkVsZW1lbnQ6IEhUTUxFbGVtZW50LCBidG5QcmVmaXg6IHN0cmluZyk6IEhUTUxFbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYnRuQ2hpbGRyZW4gPSAkKGJ0bkVsZW1lbnQpLmNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIGlmIChidG5DaGlsZHJlbi5sZW5ndGggPT0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdGhpc1snaGFzQ2hpbGRFbGVtJ10gPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBidG5DaGlsZCA9IGJ0bkNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICAkKGJ0bkNoaWxkKS5hZGRDbGFzcyhgJHtidG5QcmVmaXh9LWlubmVyLXRleHRgKTtcclxuICAgICAgICAgICAgY29uc3QgY2hpbGRXaWR0aCA9ICQoYnRuQ2hpbGQpLndpZHRoKCk7XHJcbiAgICAgICAgICAgIHRoaXNbJ2NoaWxkV2lkdGgnXSA9IGNoaWxkV2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkSGVpZ2h0ID0gJChidG5DaGlsZCkuaGVpZ2h0KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBtb2RpZnkgc2hhcGVTY2FsZXMgdG8gZml0IHRoZSBuZXcgZWxlbWVudFxyXG4gICAgICAgICAgICBmb3IobGV0IGtleSBpbiB0aGlzLnNoYXBlU2NhbGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hhcGVTY2FsZVtrZXldWyd3aWR0aCddICAgICs9IChjaGlsZFdpZHRoICogMS41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hhcGVTY2FsZVtrZXldWydoZWlnaHQnXSAgICs9IChjaGlsZEhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpc1snZ2x5cGgtY2xhc3NlcyddKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnbHlwaFNpemUgICAgID0gdGhpc1snZ2x5cGgtc2l6ZSddLmxlbmd0aCA/IHRoaXNbJ2dseXBoLXNpemUnXSA6ICd4cyc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtV2lkdGggICAgID0gdGhpcy5zaGFwZVNjYWxlW2dseXBoU2l6ZV1bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleHRyYVBhZGRpbmcgID0gMjtcclxuICAgICAgICAgICAgICAgIC8vIGFkanVzdCBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgJChidG5DaGlsZCkuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IFwiNTAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogXCI1MCVcIixcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IChjaGlsZEhlaWdodCAvIDIuMjUgKiAtMSksXHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogKChjaGlsZFdpZHRoIC8gMiAtIChlbGVtV2lkdGgvOCkgLSBleHRyYVBhZGRpbmcpICogLTEpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkanVzdCBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgJChidG5DaGlsZCkuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IFwiNTAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogXCI1MCVcIixcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IChjaGlsZEhlaWdodCAvIDIuMjUgKiAtMSksXHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogKGNoaWxkV2lkdGggLyAyICogLTEpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGJ0bkNoaWxkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVEaXZDb250YWluZXIgPSAoYnRuRWxlbWVudDogSFRNTEVsZW1lbnQsIGJ0blByZWZpeDogc3RyaW5nKTogSFRNTEVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAvLyBwYXJzZSBlbGVtZW50IGNsYXNzZXMgZm9yIGEgc2l6ZVxyXG4gICAgICAgICAgICBsZXQgYnRuU2NhbGVYO1xyXG4gICAgICAgICAgICBsZXQgYnRuU3BhY2luZ1g7XHJcbiAgICAgICAgICAgIGxldCBidG5TY2FsZVk7XHJcbiAgICAgICAgICAgIGxldCBidG5TcGFjaW5nWTtcclxuICAgICAgICAgICAgaWYgKCQoYnRuRWxlbWVudCkuaGFzQ2xhc3MoYCR7YnRuUHJlZml4fS14bGApKSB7XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVggPSB0aGlzLnNoYXBlU2NhbGVbJ3hsJ11bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVkgPSB0aGlzLnNoYXBlU2NhbGVbJ3hsJ11bJ2hlaWdodCddO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQoYnRuRWxlbWVudCkuaGFzQ2xhc3MoYCR7YnRuUHJlZml4fS1sZ2ApKSB7XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVggPSB0aGlzLnNoYXBlU2NhbGVbJ2xnJ11bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVkgPSB0aGlzLnNoYXBlU2NhbGVbJ2xnJ11bJ2hlaWdodCddO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQoYnRuRWxlbWVudCkuaGFzQ2xhc3MoYCR7YnRuUHJlZml4fS1tZGApKSB7XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVggPSB0aGlzLnNoYXBlU2NhbGVbJ21kJ11bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVkgPSB0aGlzLnNoYXBlU2NhbGVbJ21kJ11bJ2hlaWdodCddO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQoYnRuRWxlbWVudCkuaGFzQ2xhc3MoYCR7YnRuUHJlZml4fS1zbWApKSB7XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVggPSB0aGlzLnNoYXBlU2NhbGVbJ3NtJ11bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVkgPSB0aGlzLnNoYXBlU2NhbGVbJ3NtJ11bJ2hlaWdodCddO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQoYnRuRWxlbWVudCkuaGFzQ2xhc3MoYCR7YnRuUHJlZml4fS14c2ApKSB7XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVggPSB0aGlzLnNoYXBlU2NhbGVbJ3hzJ11bJ3dpZHRoJ107XHJcbiAgICAgICAgICAgICAgICBidG5TY2FsZVkgPSB0aGlzLnNoYXBlU2NhbGVbJ3hzJ11bJ2hlaWdodCddO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0byB4c1xyXG4gICAgICAgICAgICAgICAgYnRuU2NhbGVYID0gdGhpcy5zaGFwZVNjYWxlWyd4cyddWyd3aWR0aCddO1xyXG4gICAgICAgICAgICAgICAgYnRuU2NhbGVZID0gdGhpcy5zaGFwZVNjYWxlWyd4cyddWydoZWlnaHQnXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnRuU3BhY2luZ1ggPSBidG5TY2FsZVggLyAxMDtcclxuICAgICAgICAgICAgYnRuU3BhY2luZ1kgPSBidG5TY2FsZVkgLyAxMDtcclxuXHJcbiAgICAgICAgICAgIC8vIHNldCB0aGUgb24gbG9hZCBjbGFzc2VzXHJcbiAgICAgICAgICAgIGlmICh0aGlzWydvbi1sb2FkJ10pIHtcclxuICAgICAgICAgICAgICAgICQoYnRuRWxlbWVudCkuYWRkQ2xhc3MoYGFuaW1hdGVkICR7dGhpc1snb24tbG9hZCddfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnaXNMb2FkT2NjdXJpbmcnXSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IFxyXG4gICAgICAgICAgICAgICAgICAgICQoYnRuRWxlbWVudCkucmVtb3ZlQ2xhc3MoYCR7dGhpc1snb24tbG9hZCddfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICQoYnRuRWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1snZWxlbWVudC1ldmVudHMnXVsnaXNMb2FkT2NjdXJpbmcnXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNldCBidG4gZWxlbSB3aWR0aC9oZWlnaHQgbm93IHRoYXQgY2hpbGQgZWxlbXMgaGF2ZSBiZWVuIHBhcnNlZFxyXG4gICAgICAgICAgICAkKGJ0bkVsZW1lbnQpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGAke2J0blNjYWxlWSArIChidG5TcGFjaW5nWSAqIDIpfXB4YCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtidG5TY2FsZVggKyAoYnRuU3BhY2luZ1ggKiAyKX1weGBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGl2Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgYCR7YnRuUHJlZml4fS13cmFwYCk7XHJcbiAgICAgICAgICAgIGRpdkNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgZGl2Q29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGl2Q29udGFpbmVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzaGFwZURpY3Rpb25hcnkgPSB7XHJcbiAgICAgICAgICAgICdoZXhhZ29uJzogdGhpcy5jcmVhdGVIZXhhZ29uLFxyXG4gICAgICAgICAgICAnc3F1YXJlJzogdGhpcy5jcmVhdGVTcXVhcmUsXHJcbiAgICAgICAgICAgICdjaXJjbGUnOiB0aGlzLmNyZWF0ZUNpcmNsZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGJ0bkVsZW1lbnQ6IEhUTUxFbGVtZW50LCBidG5QcmVmaXg6IHN0cmluZykge1xyXG4gICAgICAgICAgICAvLyBwYXJzZSBhdHRyaWJzIGZvciBvYmplY3QgY29uZmlnICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMucGFyc2VCdG5BdHRyaWJ1dGVzKGJ0bkVsZW1lbnQsIGJ0blByZWZpeCk7XHJcbiAgICAgICAgICAgIC8vIG1vZGlmeSBlbGVtZW50IHNjYWxlIGJhc2VkIG9uIGlubmVyIHRleHRcclxuICAgICAgICAgICAgbGV0IGNoaWxkRWxlbSA9IHRoaXMucGFyc2VCdG5Jbm5lckh0bWwoYnRuRWxlbWVudCwgYnRuUHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGJ1aWxkIG91ciBkaXYgd3JhcHBlclxyXG4gICAgICAgICAgICBsZXQgZGl2Q29udGFpbmVyID0gdGhpcy5jcmVhdGVEaXZDb250YWluZXIoYnRuRWxlbWVudCwgYnRuUHJlZml4KTtcclxuICAgICAgICAgICAgaWYgKGNoaWxkRWxlbSkgJChkaXZDb250YWluZXIpLmFwcGVuZChjaGlsZEVsZW0pO1xyXG5cclxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBzaGFwZSBlbGVtZW50c1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNoYXBlcyhkaXZDb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBnbHlwaCBpY29uXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlR2x5cGhJY29uKGRpdkNvbnRhaW5lciwgYnRuUHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgZXZlbnRzXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRXZlbnRzKGRpdkNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgICAgICAvLyBhcHBlbmQgZGl2IGNvbnRhaW5lciB0byBidG4gZWxlbWVudFxyXG4gICAgICAgICAgICBidG5FbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlZW5kJywgZGl2Q29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG1ha2UgYnRuIHZpc2libGVcclxuICAgICAgICAgICAgJChidG5FbGVtZW50KS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ3Zpc2libGUnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIGFkZCBzdGF0aWMgc3R5bGVzIGFzYXAuXHJcbiAgICBTd2VldEJ1dHRvbi5BZGRTdGF0aWNTdHlsZXMoKTtcclxuXHJcbiAgICAvLyBhZGQgdGhlIHN3ZWV0QnV0dG9uIGZuIHRvIHRoZSBnbG9iYWwgalF1ZXJ5IG9iai5cclxuICAgICQuZm4uc3dlZXRCdXR0b24gPSBmdW5jdGlvbihvcHRpb25zID0geyBjbGFzc05hbWU6ICdzd2VldC1idG4nIH0pIHtcclxuICAgICAgICAvLyBidG4gcHJlZml4XHJcbiAgICAgICAgY29uc3QgYnRuUHJlZml4ID0gb3B0aW9ucy5jbGFzc05hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGVhY2ggYnV0dG9uIGFuZCBtYW5pcHVsYXRlXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBzd2VldEJ0biA9IG5ldyBTd2VldEJ1dHRvbih0aGlzLCBidG5QcmVmaXgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc3dlZXRCdG46ICcsIHN3ZWV0QnRuKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn0oIGpRdWVyeSApKTsiXX0=
